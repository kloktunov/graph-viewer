(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{284:function(t,e,n){var content=n(313);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(43).default)("561b2ffe",content,!0,{sourceMap:!1})},290:function(t,e){},298:function(t,e,n){"use strict";(function(t){n(46);var e=n(74),o=(n(81),n(175),n(35));n(170),n(165),n(300),n(122),n(123),n(18),n(286),n(303),n(124);!function(){function l(t,p){t.prototype=function(t){function p(){}return p.prototype=t,new p}(p.prototype),t.prototype.constructor=t,t.base=p.prototype}function r(t,p,e){return"millisecond"===e?t.setMilliseconds(t.getMilliseconds()+1*p):"second"===e?t.setSeconds(t.getSeconds()+1*p):"minute"===e?t.setMinutes(t.getMinutes()+1*p):"hour"===e?t.setHours(t.getHours()+1*p):"day"===e?t.setDate(t.getDate()+1*p):"week"===e?t.setDate(t.getDate()+7*p):"month"===e?t.setMonth(t.getMonth()+1*p):"year"===e&&t.setFullYear(t.getFullYear()+1*p),t}function h(t,p){var e=!1;for(0>t&&(e=!0,t*=-1),t=""+t,p=p||1;t.length<p;)t="0"+t;return e?"-"+t:t}function d(t){if(!t)return t;for(var p=/\s/,e=(t=t.replace(/^\s\s*/,"")).length;p.test(t.charAt(--e)););return t.slice(0,e+1)}function c(t){t.roundRect=function(t,e,n,u,o,l,r,h){r&&(this.fillStyle=r),h&&(this.strokeStyle=h),void 0===o&&(o=5),this.lineWidth=l,this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+n-o,e),this.quadraticCurveTo(t+n,e,t+n,e+o),this.lineTo(t+n,e+u-o),this.quadraticCurveTo(t+n,e+u,t+n-o,e+u),this.lineTo(t+o,e+u),this.quadraticCurveTo(t,e+u,t,e+u-o),this.lineTo(t,e+o),this.quadraticCurveTo(t,e,t+o,e),this.closePath(),r&&this.fill(),h&&0<l&&this.stroke()}}function x(t,p){return t-p}function m(t,p,e){if(t&&p&&e){e=e+"."+p;var n="image/"+p;t=t.toDataURL(n);var u=!1,o=document.createElement("a");if(o.download=e,o.href=t,"undefined"!=typeof Blob&&new Blob){for(var l=t.replace(/^data:[a-z\/]*;base64,/,""),r=(l=atob(l),new ArrayBuffer(l.length)),h=(r=new Uint8Array(r),0);h<l.length;h++)r[h]=l.charCodeAt(h);p=new Blob([r.buffer],{type:"image/"+p});try{window.navigator.msSaveBlob(p,e),u=!0}catch(t){o.dataset.downloadurl=[n,o.download,o.href].join(":"),o.href=window.URL.createObjectURL(p)}}if(!u)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent?o.dispatchEvent(event):o.fireEvent&&o.fireEvent("onclick")}catch(e){(p=window.open()).document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),p.document.close()}}}function y(t){var p=((16711680&t)>>16).toString(16),e=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),"#"+(p=2>p.length?"0"+p:p)+(e=2>e.length?"0"+e:e)+(t=2>t.length?"0"+t:t)}function v(t,p){var e,n=this.length>>>0;for(0>(e=0>(e=Number(p)||0)?Math.ceil(e):Math.floor(e))&&(e+=n);e<n;e++)if(e in this&&this[e]===t)return e;return-1}function u(t){return null==t}function f(t){return t.indexOf||(t.indexOf=v),t}function k(t){K.fSDec&&t[Mt("`eeDwdouMhrudods")](Mt("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){K._fTWm&&K._fTWm(t)}))}function M(t,p,e){var n=t+"_"+p+"_"+(e=e||"normal"),u=ht[n];if(isNaN(u)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+p+"px; font-weight:"+e+";",!ct){var o=document.body;(ct=document.createElement("span")).innerHTML="";var l=document.createTextNode("Mpgyi");ct.appendChild(l),o.appendChild(ct)}ct.style.display="",ct.setAttribute("style",t),u=Math.round(ct.offsetHeight),ct.style.display="none"}catch(t){u=Math.ceil(1.1*p)}u=Math.max(u,p),ht[n]=u}return u}function T(t,p){var e=[];if(e={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t||"solid"])for(var n=0;n<e.length;n++)e[n]*=p;else e=[];return e}function w(t,p,e,n,u){return u=u||!1,(n=n||[]).push([t,p,e,u]),t.addEventListener?(t.addEventListener(p,e,u),e):!!t.attachEvent&&(n=function(p){(p=p||window.event).preventDefault=p.preventDefault||function(){p.returnValue=!1},p.stopPropagation=p.stopPropagation||function(){p.cancelBubble=!0},e.call(t,p)},t.attachEvent("on"+p,n),n)}function P(t,p,e){for(t*=ft,p*=ft,t=e.getImageData(t,p,2,2).data,p=!0,e=0;4>e;e++)if(t[e]!==t[e+4]|t[e]!==t[e+8]|t[e]!==t[e+12]){p=!1;break}return p?t[0]<<16|t[1]<<8|t[2]:0}function C(t,p,e){return t in p?p[t]:e[t]}function S(t,p,e){if(J&&bt){var u=t.getContext("2d");vt=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1,ft=yt/vt,t.width=p*ft,t.height=e*ft,yt!==vt&&(t.style.width=p+"px",t.style.height=e+"px",u.scale(ft,ft))}else t.width=p,t.height=e}function _(t){if(!wt){var p=!1,e=!1;void 0===Q.Chart.creditHref?(t.creditHref=Mt("iuuqr;..b`ow`rkr/bnl."),t.creditText=Mt("B`ow`rKR/bnl")):(p=t.updateOption("creditText"),e=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("title","JavaScript Charts"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||p||e)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function A(t,p){G&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var e=document.createElement("canvas");return e.setAttribute("class","canvasjs-chart-canvas"),S(e,t,p),J||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(e),e}function B(t,p,e){for(var n in e)p.style[n]=e[n]}function F(t,p,e){p.getAttribute("state")||(p.style.backgroundColor=t.toolbar.backgroundColor,p.style.color=t.toolbar.fontColor,p.style.border="none",B(0,p,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),p.getAttribute("state")!==e&&(p.setAttribute("state",e),p.setAttribute("type","button"),B(0,p,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),p.setAttribute("title",t._cultureInfo[e+"Text"]),p.innerHTML="<img style='height:95%; pointer-events: none;' src='"+Pt[e].image+"' alt='"+t._cultureInfo[e+"Text"]+"' />")}function L(){for(var t=null,p=0;p<arguments.length;p++)(t=arguments[p]).style&&(t.style.display="inline")}function I(){for(var t=null,p=0;p<arguments.length;p++)(t=arguments[p])&&t.style&&(t.style.display="none")}function V(t,p,e,n,o){this._defaultsKey=t,this._themeOptionsKey=p,this._index=n,this.parent=o,this._eventListeners=[],t={},this.theme&&u(p)&&u(n)?t=u(ot[this.theme])?ot.light1:ot[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[p]&&(null===n?t=this.parent.themeOptions[p]:0<this.parent.themeOptions[p].length&&(n=Math.min(this.parent.themeOptions[p].length-1,n),t=this.parent.themeOptions[p][n])),this.themeOptions=t,this.options=e||{_isPlaceholder:!0},this.setOptions(this.options,t)}function D(t,p,e,u,n){void 0===n&&(n=0),this._padding=n,this._x1=t,this._y1=p,this._x2=e,this._y2=u,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function W(t,p){W.base.constructor.call(this,"TextBlock",null,p,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function z(t,p){z.base.constructor.call(this,"Toolbar","toolbar",p,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function X(t,p){if(X.base.constructor.call(this,"Title","title",p,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",u(this.options.margin)&&t.options.subtitles)for(var e=t.options.subtitles,n=0;n<e.length;n++)if((u(e[n].horizontalAlign)&&"center"===this.horizontalAlign||e[n].horizontalAlign===this.horizontalAlign)&&(u(e[n].verticalAlign)&&"top"===this.verticalAlign||e[n].verticalAlign===this.verticalAlign)&&!e[n].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Y(t,p,e){Y.base.constructor.call(this,"Subtitle","subtitles",p,e,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function E(){this.pool=[]}function O(t){var p;t&&Z[t]&&(p=Z[t]),O.base.constructor.call(this,"CultureInfo",null,p,null,null)}var R,N,H,j,U,G=!1,K={},J=!!document.createElement("canvas").getContext,Q={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:J?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:J?"transparent":null,borderColor:J?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:J?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:J?"transparent":null,titleBorderColor:J?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:J?"transparent":null,labelBorderColor:J?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:J?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:J?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:J?"grey":null,labelBorderColor:J?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:J?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:J?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:J?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Z={en:{}},$=J?"Trebuchet MS, Helvetica, sans-serif":"Arial",tt=J?"Impact, Charcoal, sans-serif":"Arial",et={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},it={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:tt,fontSize:32,fontColor:N="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:tt,fontSize:nt=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:$,indexLabelFontSize:nt,indexLabelFontColor:N,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:st=20,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:R="#666666",tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:U=j="#000000",color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:$,titleFontSize:st,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:$,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};H=N="#F5F5F5",R="#FFFFFF",j="#40BAF1",U="#F5F5F5";var at={colorSet:"colorSet2",title:{fontFamily:$,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:$,fontSize:nt=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:$,indexLabelFontSize:nt,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:st=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:$,titleFontSize:st,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:$,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};H=N="#F5F5F5",tt={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:tt,fontSize:32,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:tt,fontSize:nt=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:$,indexLabelFontSize:nt,indexLabelFontColor:H,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:st=20,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R="#FFFFFF",tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U="#F5F5F5",color:j="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:$,titleFontSize:st,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:$,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:H,backgroundColor:"rgba(0, 0, 0, .7)"}},H=N="#FAFAFA";var st,nt,ot={light1:it,light2:at,dark1:tt,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:$,fontSize:32,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:$,fontSize:nt=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:$,indexLabelFontSize:nt,indexLabelFontColor:H,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:st=20,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R="#FFFFFF",tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U="#F5F5F5",color:j="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:$,titleFontSize:st,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:0,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:$,titleFontSize:st,titleFontColor:H,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:nt,labelFontColor:H,labelFontWeight:"normal",lineThickness:0,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:nt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:U,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:$,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:H,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:it,theme2:at,theme3:it},lt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};K.fSDec=function(t){for(var p="",e=0;e<t.length;e++)p+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(e));return p},K.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete Q[K.fSDec("Bi`su")][K.fSDec("bsdehuIsdg")],K.pro={sCH:Q[K.fSDec("Bi`su")][K.fSDec("bsdehuIsdg")]},K._fTWm=function(t){if(void 0===K.pro.sCH&&!Tt)try{var p=t[K.fSDec(K.obj.cntx)];p[K.fSDec(K.obj.txtBl)]=K.fSDec(K.obj.tp),p[K.fSDec(K.obj.fnt)]=11+K.fSDec(K.obj.fntStr),p[K.fSDec(K.obj.fSy)]=K.fSDec(K.obj.grClr),p[K.fSDec(K.obj.fTx)](K.fSDec(K.obj.trVs),2,t.height-11-2)}catch(t){}};var ht={},ct=null,pt=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},xt=function(t,p,e){return p=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=p?12:10,Math.round(p*(t/400)))},ut=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e="Sun Mon Tue Wed Thu Fri Sat".split(" "),u="January February March April May June July August September October November December".split(" "),n="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g;return function(r,d,c){var x=c?c.days:p,m=c?c.months:u,y=c?c.shortDays:e,v=c?c.shortMonths:n;c="";var f=!1;if(r=r&&r.getTime?r:r?new Date(r):new Date,isNaN(r))throw SyntaxError("invalid date");"UTC:"===d.slice(0,4)&&(d=d.slice(4),f=!0);var k=r[(c=f?"getUTC":"get")+"Date"](),M=r[c+"Day"](),T=r[c+"Month"](),w=r[c+"FullYear"](),a=r[c+"Hours"](),P=r[c+"Minutes"](),b=r[c+"Seconds"](),C=r[c+"Milliseconds"](),S=f?0:r.getTimezoneOffset();return d.replace(t,(function(g){switch(g){case"D":return k;case"DD":return h(k,2);case"DDD":return y[M];case"DDDD":return x[M];case"M":return T+1;case"MM":return h(T+1,2);case"MMM":return v[T];case"MMMM":return m[T];case"Y":return parseInt(String(w).slice(-2));case"YY":return h(String(w).slice(-2),2);case"YYY":return h(String(w).slice(-3),3);case"YYYY":return h(w,4);case"h":return a%12||12;case"hh":return h(a%12||12,2);case"H":return a;case"HH":return h(a,2);case"m":return P;case"mm":return h(P,2);case"s":return b;case"ss":return h(b,2);case"f":return String(C).slice(0,1);case"ff":return h(String(C).slice(0,2),2);case"fff":return h(String(C).slice(0,3),3);case"t":return 12>a?"a":"p";case"tt":return 12>a?"am":"pm";case"T":return 12>a?"A":"P";case"TT":return 12>a?"AM":"PM";case"K":return f?"UTC":(String(r).match(o)||[""]).pop().replace(l,"");case"z":return(0<S?"-":"+")+Math.floor(Math.abs(S)/60);case"zz":return(0<S?"-":"+")+h(Math.floor(Math.abs(S)/60),2);case"zzz":return(0<S?"-":"+")+h(Math.floor(Math.abs(S)/60),2)+h(Math.abs(S)%60,2);default:return g.slice(1,g.length-1)}}))}}(),mt=function(t,p,e){if(null===t)return"";if(!isFinite(t))return t;var u=0>(t=Number(t));u&&(t*=-1);var n=e?e.decimalSeparator:".",o=e?e.digitGroupSeparator:",",l="";p=String(p);l=1;var r=e="",d=-1,c=[],x=[],m=0,y=0,v=0,f=!1,k=0;r=p.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);p=null;for(var M=0;r&&M<r.length;M++)if("."===(p=r[M])&&0>d)d=M;else{if("%"===p)l*=100;else{if("â€°"===p){l*=1e3;continue}if(","===p[0]&&"."===p[p.length-1]){l/=Math.pow(1e3,p.length-1),d=M+p.length-1;continue}"E"!==p[0]&&"e"!==p[0]||"0"!==p[p.length-1]||(f=!0)}0>d?(c.push(p),"#"===p||"0"===p?m++:","===p&&v++):(x.push(p),"#"!==p&&"0"!==p||y++)}for(f&&(p=Math.floor(t),r=-Math.floor(Math.log(t)/Math.LN10+1),k=0===t?0:0===p?-(m+r):String(p).length-m,l/=Math.pow(10,k)),0>d&&(d=M),p=(l=(t*l).toFixed(y)).split("."),l=(p[0]+"").split(""),t=(p[1]+"").split(""),l&&"0"===l[0]&&l.shift(),f=r=M=y=d=0;0<c.length;)if("#"===(p=c.pop())||"0"===p)if(++d===m){var T=l;l=[];if("0"===p)for(p=m-y-(T?T.length:0);0<p;)T.unshift("0"),p--;for(;0<T.length;)e=T.pop()+e,0==++f%r&&M===v&&0<T.length&&(e=o+e)}else 0<l.length?(e=l.pop()+e,y++,f++):"0"===p&&(e="0"+e,y++,f++),0==f%r&&M===v&&0<l.length&&(e=o+e);else"E"!==p[0]&&"e"!==p[0]||"0"!==p[p.length-1]||!/[eE][+-]*[0]+/.test(p)?","===p?(M++,r=f,f=0,0<l.length&&(e=o+e)):e=1<p.length&&('"'===p[0]&&'"'===p[p.length-1]||"'"===p[0]&&"'"===p[p.length-1])?p.slice(1,p.length-1)+e:p+e:e+=(p=0>k?p.replace("+","").replace("-",""):p.replace("-","")).replace(/[0]+/,(function(t){return h(k,t.length)}));for(o="",c=!1;0<x.length;)"#"===(p=x.shift())||"0"===p?0<t.length&&0!==Number(t.join(""))?(o+=t.shift(),c=!0):"0"===p&&(o+="0",c=!0):1<p.length&&('"'===p[0]&&'"'===p[p.length-1]||"'"===p[0]&&"'"===p[p.length-1])?o+=p.slice(1,p.length-1):"E"!==p[0]&&"e"!==p[0]||"0"!==p[p.length-1]||!/[eE][+-]*[0]+/.test(p)?o+=p:o+=(p=0>k?p.replace("+","").replace("-",""):p.replace("-","")).replace(/[0]+/,(function(t){return h(k,t.length)}));return e+=(c?n:"")+o,u?"-"+e:e},gt=function(t){var p=0,e=0;return(t=t||window.event).offsetX||0===t.offsetX?(p=t.offsetX,e=t.offsetY):t.layerX||0==t.layerX?(p=t.layerX,e=t.layerY):(p=t.pageX-t.target.offsetLeft,e=t.pageY-t.target.offsetTop),{x:p,y:e}},bt=!0,yt=window.devicePixelRatio||1,vt=1,ft=bt?yt/vt:1,kt=function(t,p,e,u,n,o,l,r,h,d,c,x,m){void 0===m&&(m=1),l=l||0,r=r||"black";var y=15<u-p&&15<n-e?8:.35*Math.min(u-p,n-e);t.beginPath(),t.moveTo(p,e),t.save(),t.fillStyle=o,t.globalAlpha=m,t.fillRect(p,e,u-p,n-e),t.globalAlpha=1,0<l&&(m=0==l%2?0:.5,t.beginPath(),t.lineWidth=l,t.strokeStyle=r,t.moveTo(p,e),t.rect(p-m,e-m,u-p+2*m,n-e+2*m),t.stroke()),t.restore(),!0===h&&(t.save(),t.beginPath(),t.moveTo(p,e),t.lineTo(p+y,e+y),t.lineTo(u-y,e+y),t.lineTo(u,e),t.closePath(),(l=t.createLinearGradient((u+p)/2,e+y,(u+p)/2,e)).addColorStop(0,o),l.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=l,t.fill(),t.restore()),!0===d&&(t.save(),t.beginPath(),t.moveTo(p,n),t.lineTo(p+y,n-y),t.lineTo(u-y,n-y),t.lineTo(u,n),t.closePath(),(l=t.createLinearGradient((u+p)/2,n-y,(u+p)/2,n)).addColorStop(0,o),l.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=l,t.fill(),t.restore()),!0===c&&(t.save(),t.beginPath(),t.moveTo(p,e),t.lineTo(p+y,e+y),t.lineTo(p+y,n-y),t.lineTo(p,n),t.closePath(),(l=t.createLinearGradient(p+y,(n+e)/2,p,(n+e)/2)).addColorStop(0,o),l.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=l,t.fill(),t.restore()),!0===x&&(t.save(),t.beginPath(),t.moveTo(u,e),t.lineTo(u-y,e+y),t.lineTo(u-y,n-y),t.lineTo(u,n),(l=t.createLinearGradient(u-y,(n+e)/2,u,(n+e)/2)).addColorStop(0,o),l.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=l,l.addColorStop(0,o),l.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=l,t.fill(),t.closePath(),t.restore())},Mt=function(t){for(var p="",e=0;e<t.length;e++)p+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(e));return p},Tt=window&&window[Mt("mnb`uhno")]&&window[Mt("mnb`uhno")].href&&window[Mt("mnb`uhno")].href.indexOf&&(-1!==window[Mt("mnb`uhno")].href.indexOf(Mt("b`ow`rkr/bnl"))||-1!==window[Mt("mnb`uhno")].href.indexOf(Mt("gdonqhy/bnl"))||-1!==window[Mt("mnb`uhno")].href.indexOf(Mt("gheemd"))),wt=Tt&&-1===window[Mt("mnb`uhno")].href.indexOf(Mt("gheemd")),Pt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};V.prototype.setOptions=function(t,p){if(Q[this._defaultsKey]){var u,e=Q[this._defaultsKey];for(u in e)"publicProperties"!==u&&e.hasOwnProperty(u)&&(this[u]=t&&u in t?t[u]:p&&u in p?p[u]:e[u])}else G&&window.console&&console.log("defaults not set")},V.prototype.get=function(t){var p=Q[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:p.hasOwnProperty(t)||p.publicProperties&&p.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},V.prototype.set=function(t,p,e){e=void 0===e||e;var u=Q[this._defaultsKey];if("options"===t)this.createUserOptions(p);else{if(!(u.hasOwnProperty(t)||u.publicProperties&&u.publicProperties.hasOwnProperty(t)&&"readWrite"===u.publicProperties[t]))return void(window.console&&(u.publicProperties&&u.publicProperties.hasOwnProperty(t)&&"readOnly"===u.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=p}e&&(this.stockChart||this.chart||this).render()},V.prototype.addTo=function(t,p,e,u){u=void 0===u||u;var n=Q[this._defaultsKey];n.hasOwnProperty(t)||n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readWrite"===n.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),t=this.options[t],e=null==e?t.length:e,t.splice(e,0,p),u&&(this.chart||this).render()):window.console&&(n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readOnly"===n.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},V.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var p=this.parent.options[this.optionsName],e=p.length;this.options._isPlaceholder||(f(p),e=p.indexOf(this.options)),this.options=void 0===t?{}:t,p[e]=this.options}else this.options=void 0===t?{}:t,t=this.parent.options,this.optionsName?p=this.optionsName:(p=this._defaultsKey)&&0!==p.length?(e=p.charAt(0).toLowerCase(),1<p.length&&(e=e.concat(p.slice(1))),p=e):p=void 0,t[p]=this.options},V.prototype.remove=function(t){if(t=void 0===t||t,this.isOptionsInArray){var p=this.parent.options[this.optionsName];f(p);var e=p.indexOf(this.options);0<=e&&p.splice(e,1)}else delete this.parent.options[this.optionsName];t&&(this.chart||this).render()},V.prototype.updateOption=function(t){!Q[this._defaultsKey]&&G&&window.console&&console.log("defaults not set");var p=Q[this._defaultsKey],e={},n=this[t],o=this._themeOptionsKey,l=this._index;return this.theme&&u(o)&&u(l)?e=u(ot[this.theme])?ot.light1:ot[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[o]&&(null===l?e=this.parent.themeOptions[o]:0<this.parent.themeOptions[o].length&&(e=Math.min(this.parent.themeOptions[o].length-1,l),e=this.parent.themeOptions[o][e])),this.themeOptions=e,t in p&&(n=t in this.options?this.options[t]:e&&t in e?e[t]:p[t]),n!==this[t]&&(this[t]=n,!0)},V.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},V.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},V.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[t]!==this.options[t]},V.prototype.addEventListener=function(t,p,e){t&&p&&(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:e||this,eventHandler:p}))},V.prototype.removeEventListener=function(t,p){if(t&&p&&this._eventListeners[t])for(var e=this._eventListeners[t],u=0;u<e.length;u++)if(e[u].eventHandler===p){e[u].splice(u,1);break}},V.prototype.removeAllEventListeners=function(){this._eventListeners=[]},V.prototype.dispatchEvent=function(t,p,e){if(t&&this._eventListeners[t]){p=p||{};for(var u=this._eventListeners[t],n=0;n<u.length;n++)u[n].eventHandler.call(u[n].context,p)}"function"==typeof this[t]&&this[t].call(e||this.chart,p)},D.prototype.registerSpace=function(t,p){"top"===t?this._topOccupied+=p.height:"bottom"===t?this._bottomOccupied+=p.height:"left"===t?this._leftOccupied+=p.width:"right"===t&&(this._rightOccupied+=p.width)},D.prototype.unRegisterSpace=function(t,p){"top"===t?this._topOccupied-=p.height:"bottom"===t?this._bottomOccupied-=p.height:"left"===t?this._leftOccupied-=p.width:"right"===t&&(this._rightOccupied-=p.width)},D.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},D.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},l(W,V),W.prototype._initialize=function(){u(this.padding)||"object"!==Object(o.a)(this.padding)?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=u(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=u(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=u(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=u(this.padding.left)?0:0|Number(this.padding.left))},W.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var p=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var e=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+e),"middle"===this.textBaseline&&(e=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var u=0,n=this.topPadding,o=null;for(this.ctx.roundRect||c(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,e=0;e<this._wrappedText.lines.length;e++)o=this._wrappedText.lines[e],"right"===this.horizontalAlign?u=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding:"left"===this.horizontalAlign?u=this.leftPadding:"center"===this.horizontalAlign&&(u=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding),this.ctx.fillText(o.text,u,n),n+=o.height;this.ctx.font=p,t&&this.ctx.restore()}},W.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},W.prototype.measureText=function(){if(this._lineHeight=M(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},W.prototype._getLineWithWidth=function(t,p,e){if(!(t=String(t)))return{text:"",width:0};var u=e=0,n=t.length-1,o=1/0;for(this.ctx.font=this._getFontString();u<=n;){o=Math.floor((u+n)/2);var l=t.substr(0,o+1);if((e=this.ctx.measureText(l).width)<p)u=o+1;else{if(!(e>p))break;n=o-1}}return e>p&&1<l.length&&(l=l.substr(0,l.length-1),e=this.ctx.measureText(l).width),p=!0,l.length!==t.length&&" "!==t[l.length]||(p=!1),p&&(1<(t=l.split(" ")).length&&t.pop(),l=t.join(" "),e=this.ctx.measureText(l).width),{text:l,width:e}},W.prototype._wrapText=function(){var t=new String(d(String(this.text))),p=[],e=this.ctx.font,u=0,n=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)n=u=0;else for(;0<t.length;){var o=this.maxHeight-(this.topPadding+this.bottomPadding),l=this._getLineWithWidth(t,this.maxWidth-(this.leftPadding+this.rightPadding),!1);l.height=this._lineHeight,p.push(l);var r=n;n=Math.max(n,l.width),u=u+l.height,t=d(t.slice(l.text.length,t.length));o&&u>o&&(u-=(l=p.pop()).height,n=r)}this._wrappedText={lines:p,width:n,height:u},this.width=n+(this.leftPadding+this.rightPadding),this.height=u+(this.topPadding+this.bottomPadding),this.ctx.font=e},W.prototype._getFontString=function(){var t;t=this.fontStyle?this.fontStyle+" ":"",t+=this.fontWeight?this.fontWeight+" ":"",t+=this.fontSize?this.fontSize+"px ":"";var p=this.fontFamily?this.fontFamily+"":"";return!J&&p&&("'"!==(p=p.split(",")[0])[0]&&'"'!==p[0]&&(p="'"+p+"'")),t+p},l(z,V),l(X,V),X.prototype.setLayout=function(){if(this.text){var t,e,n,l=this.dockInsidePlotArea?this.chart.plotArea:this.chart,p=l.layoutManager.getFreeSpace(),r=p.x1,h=p.y1,d=0,c=0,x=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=p.width-4-x*("center"===this.horizontalAlign?2:1)),c=.5*p.height-this.margin-2,d=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=p.height-4),c=.5*p.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=p.width-4),c=.5*p.height-4)),u(this.padding)||"number"!=typeof this.padding?u(this.padding)||"object"!==Object(o.a)(this.padding)||(n=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,n+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,n*=1.25):n=2.5*this.padding,this.wrap||(c=Math.min(c,Math.max(1.5*this.fontSize,this.fontSize+n))),n=(c=new W(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:c,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(h=p.y1+2,e="top"):"bottom"===this.verticalAlign&&(h=p.y2-2-n.height,e="bottom"),"left"===this.horizontalAlign?r=p.x1+2:"center"===this.horizontalAlign?r=p.x1+p.width/2-n.width/2:"right"===this.horizontalAlign&&(r=p.x2-2-n.width-x),t=this.horizontalAlign,this.width=n.width,this.height=n.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(r=p.x1+2,h=p.y2-2-(this.maxWidth/2-n.width/2),d=-90,e="left",this.width=n.height,this.height=n.width):"right"===this.horizontalAlign?(r=p.x2-2,h=p.y1+2+(this.maxWidth/2-n.width/2),d=90,e="right",this.width=n.height,this.height=n.width):"center"===this.horizontalAlign&&(h=l.y1+(l.height/2-n.height/2),r=l.x1+(l.width/2-n.width/2),e="center",this.width=n.width,this.height=n.height),t="center"),c.x=r,c.y=h,c.angle=d,c.horizontalAlign=t,this._textBlock=c,l.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:r,y1:h,x2:r+this.width,y2:h+this.height},this.ctx.textBaseline="top"}},X.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},l(Y,V),Y.prototype.setLayout=X.prototype.setLayout,Y.prototype.render=X.prototype.render,E.prototype.get=function(t,p){var e=null;return 0<this.pool.length?S(e=this.pool.pop(),t,p):e=A(t,p),e},E.prototype.release=function(t){this.pool.push(t)},l(O,V);var Ct={addTheme:function(t,p){ot[t]=p},addColorSet:function(t,p){et[t]=p},addCultureInfo:function(t,p){Z[t]=p},formatNumber:function(t,p,e){if(Z[e=e||"en"])return mt(t,p||"#,##0.##",new O(e));throw"Unknown Culture Name"},formatDate:function(t,p,e){if(Z[e=e||"en"])return ut(t,p||"DD MMM YYYY",new O(e));throw"Unknown Culture Name"}};void 0!==t.exports?t.exports=Ct:"function"==typeof define&&n(304)?define([],(function(){return Ct})):window.CanvasJS=Ct,Ct.Chart=function(){function t(a,t){return a.x-t.x}function p(a,t){t=t||{},this.theme=u(t.theme)||u(ot[t.theme])?"light1":t.theme,p.base.constructor.call(this,"Chart",null,t,null,null);var b=this;if(this._containerId=a,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new E,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var e=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,n=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=e,this.height=n,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==et[this.colorSet]?et[this.colorSet]:et.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",J||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=A(e,n),this._preRenderCanvas=A(e,n),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",c(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",c(this._preRenderCtx),J?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=A(e,n),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=A(e,n),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",c(this.overlaidCanvasCtx)),this._eventManager=new $(this),this.windowResizeHandler=w(window,"resize",(function(){b._updateSize()&&b.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},w(this.overlaidCanvas,"click",(function(a){b._mouseEventHandler(a)}),this.allDOMEventHandlers),w(this.overlaidCanvas,"mousemove",(function(a){b._mouseEventHandler(a)}),this.allDOMEventHandlers),w(this.overlaidCanvas,"mouseup",(function(a){b._mouseEventHandler(a)}),this.allDOMEventHandlers),w(this.overlaidCanvas,"mousedown",(function(a){b._mouseEventHandler(a),I(b._dropdownMenu)}),this.allDOMEventHandlers),w(this.overlaidCanvas,"mouseout",(function(a){b._mouseEventHandler(a)}),this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(a){b._touchEventHandler(a)}),this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(a){b._touchEventHandler(a)}),this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(a){b._touchEventHandler(a)}),this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(a){b._touchEventHandler(a)}),this.allDOMEventHandlers),this.toolTip=new Z(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function n(a,t){for(var e,b=[],n=0;n<a.length;n++)if(0==n)b.push(a[0]);else{var g,o,l;g=0===(l=n-1)?0:l-1,o=l===a.length-1?l:l+1,e=Math.abs((a[o].x-a[g].x)/(0==a[o].x-a[l].x?.01:a[o].x-a[l].x))*(t-1)/2+1;var r=(a[o].x-a[g].x)/e;e=(a[o].y-a[g].y)/e,b[b.length]=a[l].x>a[g].x&&0<r||a[l].x<a[g].x&&0>r?{x:a[l].x+r/3,y:a[l].y+e/3}:{x:a[l].x,y:a[l].y+e/9},g=0===(l=n)?0:l-1,o=l===a.length-1?l:l+1,e=Math.abs((a[o].x-a[g].x)/(0==a[l].x-a[g].x?.01:a[l].x-a[g].x))*(t-1)/2+1,r=(a[o].x-a[g].x)/e,e=(a[o].y-a[g].y)/e,b[b.length]=a[l].x>a[g].x&&0<r||a[l].x<a[g].x&&0>r?{x:a[l].x-r/3,y:a[l].y-e/3}:{x:a[l].x,y:a[l].y-e/9},b[b.length]=a[n]}return b}function o(a,t,b,e,n,g,o,l,r,h){var s=0;h?(o.color=g,l.color=g):h=1,s=r?Math.abs(n-b):Math.abs(e-t),s=0<o.trimLength?Math.abs(s*o.trimLength/100):Math.abs(s-o.length),r?(b+=s/2,n-=s/2):(t+=s/2,e-=s/2);s=1==Math.round(o.thickness)%2?.5:0;var q=1==Math.round(l.thickness)%2?.5:0;a.save(),a.globalAlpha=h,a.strokeStyle=l.color||g,a.lineWidth=l.thickness||2,a.setLineDash&&a.setLineDash(T(l.dashType,l.thickness)),a.beginPath(),r&&0<l.thickness?(a.moveTo(e-o.thickness/2,Math.round((b+n)/2)-q),a.lineTo(t+o.thickness/2,Math.round((b+n)/2)-q)):0<l.thickness&&(a.moveTo(Math.round((t+e)/2)-q,b+o.thickness/2),a.lineTo(Math.round((t+e)/2)-q,n-o.thickness/2)),a.stroke(),a.strokeStyle=o.color||g,a.lineWidth=o.thickness||2,a.setLineDash&&a.setLineDash(T(o.dashType,o.thickness)),a.beginPath(),r&&0<o.thickness?(a.moveTo(e-s,b),a.lineTo(e-s,n),a.moveTo(t+s,b),a.lineTo(t+s,n)):0<o.thickness&&(a.moveTo(t,b+s),a.lineTo(e,b+s),a.moveTo(t,n-s),a.lineTo(e,n-s)),a.stroke(),a.restore()}function h(a,t,b,e,n){return null==a?void 0===b?t:b:(a=parseFloat(a.toString())*(0<=a.toString().indexOf("%")?t/100:1),void 0!==e&&(a=Math.min(e,a),void 0!==n&&(a=Math.max(n,a))),!isNaN(a)&&a<=t&&0<=a?a:void 0===b?t:b)}function v(a,t){v.base.constructor.call(this,"Legend","legend",t,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=M(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function R(a,t,b,e){for(R.base.constructor.call(this,"DataSeries","data",t,b,a),this.chart=a,this.canvas=a.canvas,this._ctx=a.canvas.ctx,this.index=b,this.noDataPointsInPlotArea=0,this.id=e,this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:b},a=t.dataPoints?t.dataPoints.length:0,this.dataPointEOs=[],t=0;t<a;t++)this.dataPointEOs[t]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function N(a,t,b,e,n,g){if(N.base.constructor.call(this,"Axis",t,b,e,a),this.chart=a,this.canvas=a.canvas,this.ctx=a.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===n?("left"===g||"bottom"===g?(this.optionsName="axisX",u(this.chart.sessionVariables.axisX[e])&&(this.chart.sessionVariables.axisX[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX[e]):(this.optionsName="axisX2",u(this.chart.sessionVariables.axisX2[e])&&(this.chart.sessionVariables.axisX2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[e]),this.options.interval||(this.intervalType=null)):"left"===g||"bottom"===g?(this.optionsName="axisY",u(this.chart.sessionVariables.axisY[e])&&(this.chart.sessionVariables.axisY[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY[e]):(this.optionsName="axisY2",u(this.chart.sessionVariables.axisY2[e])&&(this.chart.sessionVariables.axisY2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[e]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=n,"axisX"!==n||b&&void 0!==b.gridThickness||(this.gridThickness=0),this._position=g,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new H(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(a=0;a<this.options.stripLines.length;a++)this.stripLines.push(new U(this.chart,this.options.stripLines[a],a,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Q(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function H(a,t,b,e){if(H.base.constructor.call(this,"ScaleBreaks","scaleBreaks",t,null,e),this.id=b,this.chart=a,this.ctx=this.chart.ctx,this.axis=e,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(a=0;a<this.options.customBreaks.length;a++)this.customBreaks.push(new j(this.chart,"customBreaks",this.options.customBreaks[a],a,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[a].startValue&&"number"==typeof this.customBreaks[a].endValue&&this.customBreaks[a].endValue!==this.customBreaks[a].startValue&&this._appliedBreaks.push(this.customBreaks[a]);for(this._appliedBreaks.sort((function(a,t){return a.startValue-t.startValue})),a=0;a<this._appliedBreaks.length-1;a++)this._appliedBreaks[a].endValue>=this._appliedBreaks[a+1].startValue&&(this._appliedBreaks[a].endValue=Math.max(this._appliedBreaks[a].endValue,this._appliedBreaks[a+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+a+" and "+(a+1)+" are overlapping."),this._appliedBreaks.splice(a,2),a--)}}function j(a,t,b,e,n,g){j.base.constructor.call(this,"Break",t,b,e,g),this.id=n,this.chart=a,this.ctx=this.chart.ctx,this.scaleBreaks=g,this.optionsName=t,this.isOptionsInArray=!0,this.type=b.type?this.type:g.type,this.fillOpacity=u(b.fillOpacity)?g.fillOpacity:this.fillOpacity,this.lineThickness=u(b.lineThickness)?g.lineThickness:this.lineThickness,this.color=b.color?this.color:g.color,this.lineColor=b.lineColor?this.lineColor:g.lineColor,this.lineDashType=b.lineDashType?this.lineDashType:g.lineDashType,!u(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!u(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(a=this.startValue,this.startValue=this.endValue,this.endValue=a),this.spacing=void 0===b.spacing?g.spacing:b.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=g.spacing),this.size=g.parent.logarithmic?1:0}function U(a,t,b,e,n){U.base.constructor.call(this,"StripLine","stripLines",t,b,n),this.id=e,this.chart=a,this.ctx=this.chart.ctx,this.label=this.label,this.axis=n,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=n.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Q(a,t,b){Q.base.constructor.call(this,"Crosshair","crosshair",t,null,b),this.chart=a,this.ctx=this.chart.ctx,this.axis=b,this.optionsName="crosshair",this._thicknessType="pixel"}function Z(a,t){Z.base.constructor.call(this,"ToolTip","toolTip",t,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function $(a){this.chart=a,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=A(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function tt(a){this.chart=a,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}l(p,V),p.prototype.destroy=function(){var a=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var t=0;t<a.length;t++){var b=a[t][0],e=a[t][1],n=a[t][2],g=(g=a[t][3])||!1;b.removeEventListener?b.removeEventListener(e,n,g):b.detachEvent&&b.detachEvent("on"+e,n)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},p.prototype._updateOptions=function(){var a=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==et[this.colorSet]?et[this.colorSet]:et.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new O(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&J,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var t=!1;I(this._zoomButton=document.createElement("button")),F(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,w(this._zoomButton,"touchstart",(function(a){t=!0}),this.allDOMEventHandlers),w(this._zoomButton,"click",(function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,F(a,a._zoomButton,"zoom")):(a.zoomEnabled=!0,a.panEnabled=!1,F(a,a._zoomButton,"pan")),a.render()}),this.allDOMEventHandlers),w(this._zoomButton,"mouseover",(function(){t?t=!1:(B(0,a._zoomButton,{backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&B(0,a._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),w(this._zoomButton,"mouseout",(function(){t||(B(0,a._zoomButton,{backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&B(0,a._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(t=!1,I(this._resetButton=document.createElement("button")),F(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),w(this._resetButton,"touchstart",(function(a){t=!0}),this.allDOMEventHandlers),w(this._resetButton,"click",(function(){if(a.toolTip.hide(),a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,F(a,a._zoomButton,"pan"),a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1),a.sessionVariables.axisX)for(var t=0;t<a.sessionVariables.axisX.length;t++)a.sessionVariables.axisX[t].newViewportMinimum=null,a.sessionVariables.axisX[t].newViewportMaximum=null;if(a.sessionVariables.axisX2)for(t=0;t<a.sessionVariables.axisX2.length;t++)a.sessionVariables.axisX2[t].newViewportMinimum=null,a.sessionVariables.axisX2[t].newViewportMaximum=null;if(a.sessionVariables.axisY)for(t=0;t<a.sessionVariables.axisY.length;t++)a.sessionVariables.axisY[t].newViewportMinimum=null,a.sessionVariables.axisY[t].newViewportMaximum=null;if(a.sessionVariables.axisY2)for(t=0;t<a.sessionVariables.axisY2.length;t++)a.sessionVariables.axisY2[t].newViewportMinimum=null,a.sessionVariables.axisY2[t].newViewportMaximum=null;a.resetOverlayedCanvas(),I(a._zoomButton,a._resetButton),a._dispatchRangeEvent("rangeChanging","reset"),a.render(),a._dispatchRangeEvent("rangeChanged","reset"),a.syncCharts&&a.syncCharts(null,null)}),this.allDOMEventHandlers),w(this._resetButton,"mouseover",(function(){t||(B(0,a._resetButton,{backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&B(0,a._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),w(this._resetButton,"mouseout",(function(){t||(B(0,a._resetButton,{backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&B(0,a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=a._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(a._zoomButton.getAttribute("state")===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),L(a._zoomButton,a._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?L(this._menuButton):I(this._menuButton):this.exportEnabled&&J&&(t=!1,this._menuButton=document.createElement("button"),F(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),w(this._menuButton,"touchstart",(function(a){t=!0}),this.allDOMEventHandlers),w(this._menuButton,"click",(function(){"none"!==a._dropdownMenu.style.display||a._dropDownCloseTime&&500>=(new Date).getTime()-a._dropDownCloseTime.getTime()||(a._dropdownMenu.style.display="block",a._menuButton.blur(),a._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),w(this._menuButton,"mouseover",(function(){t||(B(0,a._menuButton,{backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&B(0,a._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),w(this._menuButton,"mouseout",(function(){t||(B(0,a._menuButton,{backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&B(0,a._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&J){t=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var b=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+b,a._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),w(this._dropdownMenu,"blur",(function(){I(a._dropdownMenu),a._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(b=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",b.innerHTML=this._cultureInfo.printText,b.style.backgroundColor=this.toolbar.backgroundColor,b.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(b),w(b,"touchstart",(function(a){t=!0}),this.allDOMEventHandlers),w(b,"mouseover",(function(){t||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),w(b,"mouseout",(function(){t||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)}),this.allDOMEventHandlers,!0),w(b,"click",(function(){a.print(),I(a._dropdownMenu)}),this.allDOMEventHandlers,!0),(b=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",b.innerHTML=this._cultureInfo.saveJPGText,b.style.backgroundColor=this.toolbar.backgroundColor,b.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(b),w(b,"touchstart",(function(a){t=!0}),this.allDOMEventHandlers),w(b,"mouseover",(function(){t||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),w(b,"mouseout",(function(){t||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)}),this.allDOMEventHandlers,!0),w(b,"click",(function(){m(a.canvas,"jpeg",a.exportFileName),I(a._dropdownMenu)}),this.allDOMEventHandlers,!0),(b=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",b.innerHTML=this._cultureInfo.savePNGText,b.style.backgroundColor=this.toolbar.backgroundColor,b.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(b),w(b,"touchstart",(function(a){t=!0}),this.allDOMEventHandlers),w(b,"mouseover",(function(){t||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),w(b,"mouseout",(function(){t||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)}),this.allDOMEventHandlers,!0),w(b,"click",(function(){m(a.canvas,"png",a.exportFileName),I(a._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var e in"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?F(a,a._zoomButton,"zoom"):F(a,a._zoomButton,"pan"),a._resetButton.getAttribute("state")!==a._cultureInfo.resetText&&F(a,a._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(e)&&this.toolTip.updateOption(e)},p.prototype._updateSize=function(){var a;a=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var t=0,b=0;if(this.options.width?t=this.width:this.width=t=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?b=this.height:this.height=b=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==t*ft||this.canvas.height!==b*ft){for(var e=0;e<a.length;e++)S(a[e],t,b);a=!0}else a=!1;return a},p.prototype._initialize=function(){this.isNavigator=!u(this.parent)&&!u(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new z(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new tt(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=J&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new D(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var a=0,e=null;if(this.options.data){for(var b=0;b<this.options.data.length;b++)if(a++,!this.options.data[b].type||0<=p._supportedChartTypes.indexOf(this.options.data[b].type)){var n=new R(this,this.options.data[b],a-1,++this._eventManager.lastObjectId);"error"===n.type&&(n.linkedDataSeriesIndex=u(this.options.data[b].linkedDataSeriesIndex)?b-1:this.options.data[b].linkedDataSeriesIndex,0>n.linkedDataSeriesIndex||n.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof n.linkedDataSeriesIndex||"error"===this.options.data[n.linkedDataSeriesIndex].type)&&(n.linkedDataSeriesIndex=null),null===n.name&&(n.name="DataSeries "+a),null===n.color?1<this.options.data.length?(n._colorSet=[this._selectedColorSet[n.index%this._selectedColorSet.length]],n.color=this._selectedColorSet[n.index%this._selectedColorSet.length]):n._colorSet="line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"candlestick"===n.type||"ohlc"===n.type||"waterfall"===n.type||"boxAndWhisker"===n.type?[this._selectedColorSet[0]]:this._selectedColorSet:n._colorSet=[n.color],null===n.markerSize&&(("line"===n.type||"stepLine"===n.type||"spline"===n.type||0<=n.type.toLowerCase().indexOf("area"))&&n.dataPoints&&n.dataPoints.length<this.width/16||"scatter"===n.type)&&(n.markerSize=8),"bubble"!==n.type&&"scatter"!==n.type||!n.dataPoints||(n.dataPoints.some?n.dataPoints.some((function(a){return a.x}))&&n.dataPoints.sort(t):n.dataPoints.sort(t)),this.data.push(n);var g,o=n.axisPlacement;e=e||o;if("normal"===o?"xySwapped"===this.plotInfo.axisPlacement?g='You cannot combine "'+n.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?g='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===o?"normal"===this.plotInfo.axisPlacement?g='You cannot combine "'+n.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?g='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===o?"normal"===this.plotInfo.axisPlacement?g='You cannot combine "'+n.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?g='You cannot combine "'+n.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===o&&"none"===this.plotInfo.axisPlacement&&(g='You cannot combine "'+n.type+'" with pie chart'),g&&window.console)return void window.console.log(g)}for(b=0;b<this.data.length;b++){if("none"==e&&"error"===this.data[b].type&&window.console)return void window.console.log('You cannot combine "'+n.type+'" with error chart');"error"===this.data[b].type&&(this.data[b].axisPlacement=this.plotInfo.axisPlacement=e||"normal",this.data[b]._linkedSeries=null===this.data[b].linkedDataSeriesIndex?null:this.data[this.data[b].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},p._supportedChartTypes=f("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),p.prototype.setLayout=function(){for(var a=this._plotAreaElements,t=0;t<this.data.length;t++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[t].axisYType||"primary"===this.data[t].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var b=0;b<this.options.axisY.length;b++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[b]=new N(this,"axisY",this.options.axisY[b],b,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[b]=new N(this,"axisY",this.options.axisY[b],b,"axisY","bottom"));this.data[t].axisY=this.axisY[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY.length?this.data[t].axisYIndex:0],this.axisY[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY.length?this.data[t].axisYIndex:0].dataSeries.push(this.data[t])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new N(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new N(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[t].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[t]);if("secondary"===this.data[t].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(b=0;b<this.options.axisY2.length;b++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[b]=new N(this,"axisY2",this.options.axisY2[b],b,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[b]=new N(this,"axisY2",this.options.axisY2[b],b,"axisY","top"));this.data[t].axisY=this.axisY2[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY2.length?this.data[t].axisYIndex:0],this.axisY2[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY2.length?this.data[t].axisYIndex:0].dataSeries.push(this.data[t])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new N(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new N(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[t].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[t]);if(!this.data[t].axisXType||"primary"===this.data[t].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(b=0;b<this.options.axisX.length;b++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[b]=new N(this,"axisX",this.options.axisX[b],b,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[b]=new N(this,"axisX",this.options.axisX[b],b,"axisX","left"));this.data[t].axisX=this.axisX[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX.length?this.data[t].axisXIndex:0],this.axisX[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX.length?this.data[t].axisXIndex:0].dataSeries.push(this.data[t])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new N(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new N(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[t].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[t]);if("secondary"===this.data[t].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(b=0;b<this.options.axisX2.length;b++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[b]=new N(this,"axisX2",this.options.axisX2[b],b,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[b]=new N(this,"axisX2",this.options.axisX2[b],b,"axisX","right"));this.data[t].axisX=this.axisX2[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX2.length?this.data[t].axisXIndex:0],this.axisX2[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX2.length?this.data[t].axisXIndex:0].dataSeries.push(this.data[t])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new N(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new N(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[t].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[t])}if(this.axisY){for(b=1;b<this.axisY.length;b++)void 0===this.axisY[b].options.gridThickness&&(this.axisY[b].gridThickness=0);for(b=0;b<this.axisY.length-1;b++)void 0===this.axisY[b].options.margin&&(this.axisY[b].margin=10)}if(this.axisY2){for(b=1;b<this.axisY2.length;b++)void 0===this.axisY2[b].options.gridThickness&&(this.axisY2[b].gridThickness=0);for(b=0;b<this.axisY2.length-1;b++)void 0===this.axisY2[b].options.margin&&(this.axisY2[b].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(b=0;b<this.axisX.length;b++)void 0===this.axisX[b].options.gridThickness&&(this.axisX[b].gridThickness=0);if(this.axisX2)for(b=0;b<this.axisX2.length;b++)void 0===this.axisX2[b].options.gridThickness&&(this.axisX2[b].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),b=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(t=0;t<this._axes.length;t++)if(null!==this._axes[t].viewportMinimum||null!==this._axes[t].viewportMaximum){b=!0;break}if(b?(L(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(I(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),k(this),this._processData(),this.options.title&&(this.title=new X(this,this.options.title),this.title.dockInsidePlotArea?a.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(t=0;t<this.options.subtitles.length;t++)b=new Y(this,this.options.subtitles[t],t),this.subtitles.push(b),b.dockInsidePlotArea?a.push(b):b.setLayout();for(this.legend=new v(this,this.options.legend),t=0;t<this.data.length;t++)(this.data[t].showInLegend||"pie"===this.data[t].type||"doughnut"===this.data[t].type||"funnel"===this.data[t].type||"pyramid"===this.data[t].type)&&this.legend.dataSeries.push(this.data[t]);for(this.legend.dockInsidePlotArea?a.push(this.legend):this.legend.setLayout(),t=0;t<this._axes.length;t++)if(this._axes[t].scaleBreaks&&this._axes[t].scaleBreaks._appliedBreaks.length){J?(this._breaksCanvas=A(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=A(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||N.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},p.prototype.renderElements=function(){var a=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)N.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(t=0;t<a.length;t++)a[t].setLayout(),a[t].render();var b=[];if(this.animatedRender){var e=A(this.width,this.height);e.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}_(this);var n;a=this.ctx.miterLimit;for(this.ctx.miterLimit=3,J&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var g=this.plotInfo.plotTypes[t],o=0;o<g.plotUnits.length;o++){var l=g.plotUnits[o],r=null;l.targetCanvas=null,this.animatedRender&&(l.targetCanvas=A(this.width,this.height),l.targetCanvasCtx=l.targetCanvas.getContext("2d"),n=l.targetCanvasCtx.miterLimit,l.targetCanvasCtx.miterLimit=3),"line"===l.type?r=this.renderLine(l):"stepLine"===l.type?r=this.renderStepLine(l):"spline"===l.type?r=this.renderSpline(l):"column"===l.type?r=this.renderColumn(l):"bar"===l.type?r=this.renderBar(l):"area"===l.type?r=this.renderArea(l):"stepArea"===l.type?r=this.renderStepArea(l):"splineArea"===l.type?r=this.renderSplineArea(l):"stackedColumn"===l.type?r=this.renderStackedColumn(l):"stackedColumn100"===l.type?r=this.renderStackedColumn100(l):"stackedBar"===l.type?r=this.renderStackedBar(l):"stackedBar100"===l.type?r=this.renderStackedBar100(l):"stackedArea"===l.type?r=this.renderStackedArea(l):"stackedArea100"===l.type?r=this.renderStackedArea100(l):"bubble"===l.type?r=r=this.renderBubble(l):"scatter"===l.type?r=this.renderScatter(l):"pie"===l.type?this.renderPie(l):"doughnut"===l.type?this.renderPie(l):"funnel"===l.type?r=this.renderFunnel(l):"pyramid"===l.type?r=this.renderFunnel(l):"candlestick"===l.type?r=this.renderCandlestick(l):"ohlc"===l.type?r=this.renderCandlestick(l):"rangeColumn"===l.type?r=this.renderRangeColumn(l):"error"===l.type?r=this.renderError(l):"rangeBar"===l.type?r=this.renderRangeBar(l):"rangeArea"===l.type?r=this.renderRangeArea(l):"rangeSplineArea"===l.type?r=this.renderRangeSplineArea(l):"waterfall"===l.type?r=this.renderWaterfall(l):"boxAndWhisker"===l.type&&(r=this.renderBoxAndWhisker(l));for(var h=0;h<l.dataSeriesIndexes.length;h++)this._dataInRenderedOrder.push(this.data[l.dataSeriesIndexes[h]]);this.animatedRender&&(l.targetCanvasCtx.miterLimit=n,r&&b.push(r))}this.ctx.miterLimit=a,this.animatedRender&&this._breaksCanvasCtx&&b.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(n=A(this.width,this.height).getContext("2d"),b.push(this.renderIndexLabels(n)));var s=this;if(0<b.length)s.disableToolTip=!0,s._animator.animate(200,s.animationDuration,(function(a){s.ctx.clearRect(0,0,s.width,s.height),s.ctx.drawImage(e,0,0,Math.floor(s.width*ft),Math.floor(s.height*ft),0,0,s.width,s.height);for(var t=0;t<b.length;t++)r=b[t],1>a&&void 0!==r.startTimePercent?a>=r.startTimePercent&&r.animationCallback(r.easingFunction(a-r.startTimePercent,0,1,1-r.startTimePercent),r):r.animationCallback(r.easingFunction(a,0,1,1),r);s.dispatchEvent("dataAnimationIterationEnd",{chart:s})}),(function(){b=[];for(var a=0;a<s.plotInfo.plotTypes.length;a++)for(var t=s.plotInfo.plotTypes[a],n=0;n<t.plotUnits.length;n++)t.plotUnits[n].targetCanvas=null;e=null,s.disableToolTip=!1}));else{if(s._breaksCanvas)if(J)s.plotArea.ctx.drawImage(s._breaksCanvas,0,0,this.width,this.height);else for(h=0;h<s._axes.length;h++)s._axes[h].createMask();0<s._indexLabels.length&&s.renderIndexLabels(),s.dispatchEvent("dataAnimationIterationEnd",{chart:s})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||I(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,G&&(s=this,setTimeout((function(){var a=document.getElementById("ghostCanvasCopy");a&&(S(a,s.width,s.height),a.getContext("2d").drawImage(s._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),h=0;h<this._axes.length;h++)this._axes[h].maskCanvas&&(delete this._axes[h].maskCanvas,delete this._axes[h].maskCtx)},p.prototype.render=function(a){a&&(this.options=a),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},p.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},p.prototype.categoriseDataSeries=function(){for(var a="",t=0;t<this.data.length;t++)if((a=this.data[t]).dataPoints&&0!==a.dataPoints.length&&a.visible&&0<=p._supportedChartTypes.indexOf(a.type)){for(var b=null,e=!1,n=null,g=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===a.type){e=!0,b=this.plotInfo.plotTypes[o];break}for(e||(b={type:a.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(b)),o=0;o<b.plotUnits.length;o++)if(b.plotUnits[o].axisYType===a.axisYType&&b.plotUnits[o].axisXType===a.axisXType&&b.plotUnits[o].axisYIndex===a.axisYIndex&&b.plotUnits[o].axisXIndex===a.axisXIndex){g=!0,n=b.plotUnits[o];break}g||(n={type:a.type,previousDataSeriesCount:0,index:b.plotUnits.length,plotType:b,axisXType:a.axisXType,axisYType:a.axisYType,axisYIndex:a.axisYIndex,axisXIndex:a.axisXIndex,axisY:"primary"===a.axisYType?this.axisY[0<=a.axisYIndex&&a.axisYIndex<this.axisY.length?a.axisYIndex:0]:this.axisY2[0<=a.axisYIndex&&a.axisYIndex<this.axisY2.length?a.axisYIndex:0],axisX:"primary"===a.axisXType?this.axisX[0<=a.axisXIndex&&a.axisXIndex<this.axisX.length?a.axisXIndex:0]:this.axisX2[0<=a.axisXIndex&&a.axisXIndex<this.axisX2.length?a.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},b.plotUnits.push(n)),b.totalDataSeries++,n.dataSeriesIndexes.push(t),a.plotUnit=n}for(t=0;t<this.plotInfo.plotTypes.length;t++)for(b=this.plotInfo.plotTypes[t],o=a=0;o<b.plotUnits.length;o++)b.plotUnits[o].previousDataSeriesCount=a,a+=b.plotUnits[o].dataSeriesIndexes.length},p.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){var t=this.data[a];if(t.dataPoints)for(var b=t.dataPoints.length,e=0;e<b;e++)t.dataPointIds[e]=++this._eventManager.lastObjectId}},p.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var a=0;a<this.plotInfo.plotTypes.length;a++)for(var t=this.plotInfo.plotTypes[a],b=0;b<t.plotUnits.length;b++){var e=t.plotUnits[b];"line"===e.type||"stepLine"===e.type||"spline"===e.type||"column"===e.type||"area"===e.type||"stepArea"===e.type||"splineArea"===e.type||"bar"===e.type||"bubble"===e.type||"scatter"===e.type?this._processMultiseriesPlotUnit(e):"stackedColumn"===e.type||"stackedBar"===e.type||"stackedArea"===e.type?this._processStackedPlotUnit(e):"stackedColumn100"===e.type||"stackedBar100"===e.type||"stackedArea100"===e.type?this._processStacked100PlotUnit(e):"candlestick"===e.type||"ohlc"===e.type||"rangeColumn"===e.type||"rangeBar"===e.type||"rangeArea"===e.type||"rangeSplineArea"===e.type||"error"===e.type||"boxAndWhisker"===e.type?this._processMultiYPlotUnit(e):"waterfall"===e.type&&this._processSpecificPlotUnit(e)}this.calculateAutoBreaks()},p.prototype._processMultiseriesPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var t,e,n=a.axisY.dataInfo,b=a.axisX.dataInfo,g=!1,o=0;o<a.dataSeriesIndexes.length;o++){var q,l=this.data[a.dataSeriesIndexes[o]],r=0,h=!1,s=!1;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var d=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:a.axisX.logarithmic?0:-1/0,c=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((l.dataPoints[r].x&&l.dataPoints[r].x.getTime||"dateTime"===l.xValueType)&&(g=!0),r=0;r<l.dataPoints.length;r++){if(void 0===l.dataPoints[r].x&&(l.dataPoints[r].x=r+(a.axisX.logarithmic?1:0)),l.dataPoints[r].x.getTime?(g=!0,t=l.dataPoints[r].x.getTime()):t=l.dataPoints[r].x,e=l.dataPoints[r].y,t<b.min&&(b.min=t),t>b.max&&(b.max=t),e<n.min&&"number"==typeof e&&(n.min=e),e>n.max&&"number"==typeof e&&(n.max=e),0<r){if(a.axisX.logarithmic){var x=t/l.dataPoints[r-1].x;1>x&&(x=1/x),b.minDiff>x&&1!==x&&(b.minDiff=x)}else 0>(x=t-l.dataPoints[r-1].x)&&(x*=-1),b.minDiff>x&&0!==x&&(b.minDiff=x);null!==e&&null!==l.dataPoints[r-1].y&&(a.axisY.logarithmic?(1>(x=e/l.dataPoints[r-1].y)&&(x=1/x),n.minDiff>x&&1!==x&&(n.minDiff=x)):(0>(x=e-l.dataPoints[r-1].y)&&(x*=-1),n.minDiff>x&&0!==x&&(n.minDiff=x)))}if(t<d&&!h)null!==e&&(q=t);else{if(!h&&(h=!0,0<r)){r-=2;continue}if(t>c&&!s)s=!0;else if(t>c&&s)continue;l.dataPoints[r].label&&(a.axisX.labels[t]=l.dataPoints[r].label),t<b.viewPortMin&&(b.viewPortMin=t),t>b.viewPortMax&&(b.viewPortMax=t),null===e?b.viewPortMin===t&&q<t&&(b.viewPortMin=q):(e<n.viewPortMin&&"number"==typeof e&&(n.viewPortMin=e),e>n.viewPortMax&&"number"==typeof e&&(n.viewPortMax=e))}}l.axisX.valueType=l.xValueType=g?"dateTime":"number"}},p.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var t,e,n=a.axisY.dataInfo,b=a.axisX.dataInfo,g=!1,o=[],l=[],r=1/0,h=-1/0,s=0;s<a.dataSeriesIndexes.length;s++){var d,q=this.data[a.dataSeriesIndexes[s]],c=0,x=!1,m=!1;if("normal"===q.axisPlacement||"xySwapped"===q.axisPlacement)var p=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((q.dataPoints[c].x&&q.dataPoints[c].x.getTime||"dateTime"===q.xValueType)&&(g=!0),c=0;c<q.dataPoints.length;c++){if(void 0===q.dataPoints[c].x&&(q.dataPoints[c].x=c+(a.axisX.logarithmic?1:0)),q.dataPoints[c].x.getTime?(g=!0,t=q.dataPoints[c].x.getTime()):t=q.dataPoints[c].x,e=u(q.dataPoints[c].y)?0:q.dataPoints[c].y,t<b.min&&(b.min=t),t>b.max&&(b.max=t),0<c){if(a.axisX.logarithmic){var v=t/q.dataPoints[c-1].x;1>v&&(v=1/v),b.minDiff>v&&1!==v&&(b.minDiff=v)}else 0>(v=t-q.dataPoints[c-1].x)&&(v*=-1),b.minDiff>v&&0!==v&&(b.minDiff=v);null!==e&&null!==q.dataPoints[c-1].y&&(a.axisY.logarithmic?0<e&&(1>(v=e/q.dataPoints[c-1].y)&&(v=1/v),n.minDiff>v&&1!==v&&(n.minDiff=v)):(0>(v=e-q.dataPoints[c-1].y)&&(v*=-1),n.minDiff>v&&0!==v&&(n.minDiff=v)))}if(t<p&&!x)null!==q.dataPoints[c].y&&(d=t);else{if(!x&&(x=!0,0<c)){c-=2;continue}if(t>y&&!m)m=!0;else if(t>y&&m)continue;q.dataPoints[c].label&&(a.axisX.labels[t]=q.dataPoints[c].label),t<b.viewPortMin&&(b.viewPortMin=t),t>b.viewPortMax&&(b.viewPortMax=t),null===q.dataPoints[c].y?b.viewPortMin===t&&d<t&&(b.viewPortMin=d):(a.yTotals[t]=(a.yTotals[t]?a.yTotals[t]:0)+e,0<=e?o[t]?o[t]+=e:(o[t]=e,r=Math.min(e,r)):l[t]?l[t]+=e:(l[t]=e,h=Math.max(e,h)))}}a.axisY.scaleBreaks&&a.axisY.scaleBreaks.autoCalculate&&1<=a.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(n.dataPointYPositiveSums?(n.dataPointYPositiveSums.push.apply(n.dataPointYPositiveSums,o),n.dataPointYNegativeSums.push.apply(n.dataPointYPositiveSums,l)):(n.dataPointYPositiveSums=o,n.dataPointYNegativeSums=l)),q.axisX.valueType=q.xValueType=g?"dateTime":"number"}for(c in o)o.hasOwnProperty(c)&&!isNaN(c)&&((a=o[c])<n.min&&(n.min=Math.min(a,r)),a>n.max&&(n.max=a),c<b.viewPortMin||c>b.viewPortMax||(a<n.viewPortMin&&(n.viewPortMin=Math.min(a,r)),a>n.viewPortMax&&(n.viewPortMax=a)));for(c in l)l.hasOwnProperty(c)&&!isNaN(c)&&((a=l[c])<n.min&&(n.min=a),a>n.max&&(n.max=Math.max(a,h)),c<b.viewPortMin||c>b.viewPortMax||(a<n.viewPortMin&&(n.viewPortMin=a),a>n.viewPortMax&&(n.viewPortMax=Math.max(a,h))))}},p.prototype._processStacked100PlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var t,e,n=a.axisY.dataInfo,b=a.axisX.dataInfo,g=!1,o=!1,l=!1,r=[],h=0;h<a.dataSeriesIndexes.length;h++){var d,s=this.data[a.dataSeriesIndexes[h]],q=0,c=!1,x=!1;if("normal"===s.axisPlacement||"xySwapped"===s.axisPlacement)var m=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((s.dataPoints[q].x&&s.dataPoints[q].x.getTime||"dateTime"===s.xValueType)&&(g=!0),q=0;q<s.dataPoints.length;q++){if(void 0===s.dataPoints[q].x&&(s.dataPoints[q].x=q+(a.axisX.logarithmic?1:0)),s.dataPoints[q].x.getTime?(g=!0,t=s.dataPoints[q].x.getTime()):t=s.dataPoints[q].x,e=u(s.dataPoints[q].y)?null:s.dataPoints[q].y,t<b.min&&(b.min=t),t>b.max&&(b.max=t),0<q){if(a.axisX.logarithmic){var v=t/s.dataPoints[q-1].x;1>v&&(v=1/v),b.minDiff>v&&1!==v&&(b.minDiff=v)}else 0>(v=t-s.dataPoints[q-1].x)&&(v*=-1),b.minDiff>v&&0!==v&&(b.minDiff=v);u(e)||null===s.dataPoints[q-1].y||(a.axisY.logarithmic?0<e&&(1>(v=e/s.dataPoints[q-1].y)&&(v=1/v),n.minDiff>v&&1!==v&&(n.minDiff=v)):(0>(v=e-s.dataPoints[q-1].y)&&(v*=-1),n.minDiff>v&&0!==v&&(n.minDiff=v)))}if(t<m&&!c)null!==e&&(d=t);else{if(!c&&(c=!0,0<q)){q-=2;continue}if(t>y&&!x)x=!0;else if(t>y&&x)continue;s.dataPoints[q].label&&(a.axisX.labels[t]=s.dataPoints[q].label),t<b.viewPortMin&&(b.viewPortMin=t),t>b.viewPortMax&&(b.viewPortMax=t),null===e?b.viewPortMin===t&&d<t&&(b.viewPortMin=d):(a.yTotals[t]=(a.yTotals[t]?a.yTotals[t]:0)+e,0<=e?o=!0:0>e&&(l=!0),r[t]=r[t]?r[t]+Math.abs(e):Math.abs(e))}}s.axisX.valueType=s.xValueType=g?"dateTime":"number"}a.axisY.logarithmic?(n.max=u(n.viewPortMax)?99*Math.pow(a.axisY.logarithmBase,-.05):Math.max(n.viewPortMax,99*Math.pow(a.axisY.logarithmBase,-.05)),n.min=u(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):o&&!l?(n.max=u(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=u(n.viewPortMin)?1:Math.min(n.viewPortMin,1)):o&&l?(n.max=u(n.viewPortMax)?99:Math.max(n.viewPortMax,99),n.min=u(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)):!o&&l&&(n.max=u(n.viewPortMax)?-1:Math.max(n.viewPortMax,-1),n.min=u(n.viewPortMin)?-99:Math.min(n.viewPortMin,-99)),n.viewPortMin=n.min,n.viewPortMax=n.max,a.dataPointYSums=r}},p.prototype._processMultiYPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var t,e,g,n,o=a.axisY.dataInfo,b=a.axisX.dataInfo,l=!1,r=0;r<a.dataSeriesIndexes.length;r++){var h,d,c,x=this.data[a.dataSeriesIndexes[r]],s=0,q=!1,m=!1;if("normal"===x.axisPlacement||"xySwapped"===x.axisPlacement)var y=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:a.axisX.logarithmic?0:-1/0,v=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((x.dataPoints[s].x&&x.dataPoints[s].x.getTime||"dateTime"===x.xValueType)&&(l=!0),s=0;s<x.dataPoints.length;s++){if(void 0===x.dataPoints[s].x&&(x.dataPoints[s].x=s+(a.axisX.logarithmic?1:0)),x.dataPoints[s].x.getTime?(l=!0,t=x.dataPoints[s].x.getTime()):t=x.dataPoints[s].x,(e=x.dataPoints[s].y)&&e.length){g=Math.min.apply(null,e),n=Math.max.apply(null,e),d=!0;for(var p=0;p<e.length;p++)null===e.k&&(d=!1);d&&(q||(c=h),h=t)}if(t<b.min&&(b.min=t),t>b.max&&(b.max=t),g<o.min&&(o.min=g),n>o.max&&(o.max=n),0<s&&(a.axisX.logarithmic?(1>(d=t/x.dataPoints[s-1].x)&&(d=1/d),b.minDiff>d&&1!==d&&(b.minDiff=d)):(0>(d=t-x.dataPoints[s-1].x)&&(d*=-1),b.minDiff>d&&0!==d&&(b.minDiff=d)),e&&null!==e[0]&&x.dataPoints[s-1].y&&null!==x.dataPoints[s-1].y[0]&&(a.axisY.logarithmic?(1>(d=e[0]/x.dataPoints[s-1].y[0])&&(d=1/d),o.minDiff>d&&1!==d&&(o.minDiff=d)):(0>(d=e[0]-x.dataPoints[s-1].y[0])&&(d*=-1),o.minDiff>d&&0!==d&&(o.minDiff=d)))),!(t<y)||q){if(!q&&(q=!0,0<s)){s-=2,h=c;continue}if(t>v&&!m)m=!0;else if(t>v&&m)continue;if(x.dataPoints[s].label&&(a.axisX.labels[t]=x.dataPoints[s].label),t<b.viewPortMin&&(b.viewPortMin=t),t>b.viewPortMax&&(b.viewPortMax=t),b.viewPortMin===t&&e)for(p=0;p<e.length;p++)if(null===e[p]&&h<t){b.viewPortMin=h;break}null===e?b.viewPortMin===t&&h<t&&(b.viewPortMin=h):(g<o.viewPortMin&&(o.viewPortMin=g),n>o.viewPortMax&&(o.viewPortMax=n))}}x.axisX.valueType=x.xValueType=l?"dateTime":"number"}},p.prototype._processSpecificPlotUnit=function(a){if("waterfall"===a.type&&a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var t,e,n=a.axisY.dataInfo,b=a.axisX.dataInfo,g=!1,o=0;o<a.dataSeriesIndexes.length;o++){var l=this.data[a.dataSeriesIndexes[o]],r=0,h=!1,s=!1,q=t=0;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var d=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:a.axisX.logarithmic?0:-1/0,c=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((l.dataPoints[r].x&&l.dataPoints[r].x.getTime||"dateTime"===l.xValueType)&&(g=!0),r=0;r<l.dataPoints.length;r++)void 0!==l.dataPoints[r].isCumulativeSum&&!0===l.dataPoints[r].isCumulativeSum?(l.dataPointEOs[r].cumulativeSumYStartValue=0,l.dataPointEOs[r].cumulativeSum=0===r?0:l.dataPointEOs[r-1].cumulativeSum,l.dataPoints[r].y=0===r?0:l.dataPointEOs[r-1].cumulativeSum):void 0!==l.dataPoints[r].isIntermediateSum&&!0===l.dataPoints[r].isIntermediateSum?(l.dataPointEOs[r].cumulativeSumYStartValue=q,l.dataPointEOs[r].cumulativeSum=0===r?0:l.dataPointEOs[r-1].cumulativeSum,l.dataPoints[r].y=0===r?0:t,q=0===r?0:l.dataPointEOs[r-1].cumulativeSum,t=0):(e="number"!=typeof l.dataPoints[r].y?0:l.dataPoints[r].y,l.dataPointEOs[r].cumulativeSumYStartValue=0===r?0:l.dataPointEOs[r-1].cumulativeSum,l.dataPointEOs[r].cumulativeSum=0===r?e:l.dataPointEOs[r-1].cumulativeSum+e,t+=e);for(r=0;r<l.dataPoints.length;r++)if(void 0===l.dataPoints[r].x&&(l.dataPoints[r].x=r+(a.axisX.logarithmic?1:0)),l.dataPoints[r].x.getTime?(g=!0,t=l.dataPoints[r].x.getTime()):t=l.dataPoints[r].x,e=l.dataPoints[r].y,t<b.min&&(b.min=t),t>b.max&&(b.max=t),l.dataPointEOs[r].cumulativeSum<n.min&&(n.min=l.dataPointEOs[r].cumulativeSum),l.dataPointEOs[r].cumulativeSum>n.max&&(n.max=l.dataPointEOs[r].cumulativeSum),0<r&&(a.axisX.logarithmic?(1>(q=t/l.dataPoints[r-1].x)&&(q=1/q),b.minDiff>q&&1!==q&&(b.minDiff=q)):(0>(q=t-l.dataPoints[r-1].x)&&(q*=-1),b.minDiff>q&&0!==q&&(b.minDiff=q)),null!==e&&null!==l.dataPoints[r-1].y&&(a.axisY.logarithmic?(1>(e=l.dataPointEOs[r].cumulativeSum/l.dataPointEOs[r-1].cumulativeSum)&&(e=1/e),n.minDiff>e&&1!==e&&(n.minDiff=e)):(0>(e=l.dataPointEOs[r].cumulativeSum-l.dataPointEOs[r-1].cumulativeSum)&&(e*=-1),n.minDiff>e&&0!==e&&(n.minDiff=e)))),!(t<d)||h){if(!h&&(h=!0,0<r)){r-=2;continue}if(t>c&&!s)s=!0;else if(t>c&&s)continue;l.dataPoints[r].label&&(a.axisX.labels[t]=l.dataPoints[r].label),t<b.viewPortMin&&(b.viewPortMin=t),t>b.viewPortMax&&(b.viewPortMax=t),0<r&&(l.dataPointEOs[r-1].cumulativeSum<n.viewPortMin&&(n.viewPortMin=l.dataPointEOs[r-1].cumulativeSum),l.dataPointEOs[r-1].cumulativeSum>n.viewPortMax&&(n.viewPortMax=l.dataPointEOs[r-1].cumulativeSum)),l.dataPointEOs[r].cumulativeSum<n.viewPortMin&&(n.viewPortMin=l.dataPointEOs[r].cumulativeSum),l.dataPointEOs[r].cumulativeSum>n.viewPortMax&&(n.viewPortMax=l.dataPointEOs[r].cumulativeSum)}l.axisX.valueType=l.xValueType=g?"dateTime":"number"}},p.prototype.calculateAutoBreaks=function(){function a(a,t,b,e){return e?(1>=(b=Math.pow(Math.min(b*a/t,t/a),.2))&&(b=Math.pow(1>a?1/a:Math.min(t/a,a),.25)),{startValue:a*b,endValue:t/b}):(0>=(b=.2*Math.min(b-t+a,t-a))&&(b=.25*Math.min(t-a,Math.abs(a))),{startValue:a+b,endValue:t-b})}function t(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){var t=a.axisX.scaleBreaks&&a.axisX.scaleBreaks.autoCalculate&&1<=a.axisX.scaleBreaks.maxNumberOfAutoBreaks,b=a.axisY.scaleBreaks&&a.axisY.scaleBreaks.autoCalculate&&1<=a.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(t||b)for(var g,q,e=a.axisY.dataInfo,o=(d=a.axisX.dataInfo).min,l=d.max,r=e.min,h=e.max,d=d._dataRanges,c=(e=e._dataRanges,0),s=0;s<a.dataSeriesIndexes.length;s++){var x=n.data[a.dataSeriesIndexes[s]];if(!(4>x.dataPoints.length))for(c=0;c<x.dataPoints.length;c++)if(t&&(q=(l+1-o)*Math.max(parseFloat(a.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(g=x.dataPoints[c].x.getTime?x.dataPoints[c].x.getTime():x.dataPoints[c].x)<d[q=Math.floor((g-o)/q)].min&&(d[q].min=g),g>d[q].max&&(d[q].max=g)),b){var m=(h+1-r)*Math.max(parseFloat(a.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((g="waterfall"===a.type?x.dataPointEOs[c].cumulativeSum:x.dataPoints[c].y)&&g.length)for(var p=0;p<g.length;p++)q=Math.floor((g[p]-r)/m),g[p]<e[q].min&&(e[q].min=g[p]),g[p]>e[q].max&&(e[q].max=g[p]);else u(g)||(g<e[q=Math.floor((g-r)/m)].min&&(e[q].min=g),g>e[q].max&&(e[q].max=g))}}}}function b(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)&&a.axisX.scaleBreaks&&a.axisX.scaleBreaks.autoCalculate&&1<=a.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var g,t=a.axisX.dataInfo,b=t.min,e=t.max,o=t._dataRanges,l=0,r=0;r<a.dataSeriesIndexes.length;r++){var h=n.data[a.dataSeriesIndexes[r]];if(!(4>h.dataPoints.length))for(l=0;l<h.dataPoints.length;l++)g=(e+1-b)*Math.max(parseFloat(a.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(t=h.dataPoints[l].x.getTime?h.dataPoints[l].x.getTime():h.dataPoints[l].x)<o[g=Math.floor((t-b)/g)].min&&(o[g].min=t),t>o[g].max&&(o[g].max=t)}}for(var e,n=this,g=!1,o=0;o<this._axes.length;o++)if(this._axes[o].scaleBreaks&&this._axes[o].scaleBreaks.autoCalculate&&1<=this._axes[o].scaleBreaks.maxNumberOfAutoBreaks){g=!0,this._axes[o].dataInfo._dataRanges=[];for(var l=0;l<100/Math.max(parseFloat(this._axes[o].scaleBreaks.collapsibleThreshold)||10,10);l++)this._axes[o].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(g){for(o=0;o<this.plotInfo.plotTypes.length;o++)for(g=this.plotInfo.plotTypes[o],l=0;l<g.plotUnits.length;l++)"line"===(e=g.plotUnits[l]).type||"stepLine"===e.type||"spline"===e.type||"column"===e.type||"area"===e.type||"stepArea"===e.type||"splineArea"===e.type||"bar"===e.type||"bubble"===e.type||"scatter"===e.type||"candlestick"===e.type||"ohlc"===e.type||"rangeColumn"===e.type||"rangeBar"===e.type||"rangeArea"===e.type||"rangeSplineArea"===e.type||"waterfall"===e.type||"error"===e.type||"boxAndWhisker"===e.type?t(e):0<=e.type.indexOf("stacked")&&b(e);for(o=0;o<this._axes.length;o++)if(this._axes[o].dataInfo._dataRanges){var r=this._axes[o].dataInfo.min;e=(this._axes[o].dataInfo.max+1-r)*Math.max(parseFloat(this._axes[o].scaleBreaks.collapsibleThreshold)||10,10)/100;var s,q,h=this._axes[o].dataInfo._dataRanges;g=[];if(this._axes[o].dataInfo.dataPointYPositiveSums){var d=this._axes[o].dataInfo.dataPointYPositiveSums;for(l in s=h,d)if(d.hasOwnProperty(l)&&!isNaN(l)&&!u(q=d[l])){var c=Math.floor((q-r)/e);q<s[c].min&&(s[c].min=q),q>s[c].max&&(s[c].max=q)}delete this._axes[o].dataInfo.dataPointYPositiveSums}if(this._axes[o].dataInfo.dataPointYNegativeSums){for(l in s=h,d=this._axes[o].dataInfo.dataPointYNegativeSums)d.hasOwnProperty(l)&&!isNaN(l)&&(u(q=-1*d[l])||(q<s[c=Math.floor((q-r)/e)].min&&(s[c].min=q),q>s[c].max&&(s[c].max=q)));delete this._axes[o].dataInfo.dataPointYNegativeSums}for(l=0;l<h.length-1;l++)if(s=h[l].max,isFinite(s))for(;l<h.length-1;){if(r=h[l+1].min,isFinite(r)){(q=r-s)>e&&g.push({diff:q,start:s,end:r});break}l++}if(this._axes[o].scaleBreaks.customBreaks)for(l=0;l<this._axes[o].scaleBreaks.customBreaks.length;l++)for(e=0;e<g.length;e++)(this._axes[o].scaleBreaks.customBreaks[l].startValue<=g[e].start&&g[e].start<=this._axes[o].scaleBreaks.customBreaks[l].endValue||this._axes[o].scaleBreaks.customBreaks[l].startValue<=g[e].start&&g[e].start<=this._axes[o].scaleBreaks.customBreaks[l].endValue||g[e].start<=this._axes[o].scaleBreaks.customBreaks[l].startValue&&this._axes[o].scaleBreaks.customBreaks[l].startValue<=g[e].end||g[e].start<=this._axes[o].scaleBreaks.customBreaks[l].endValue&&this._axes[o].scaleBreaks.customBreaks[l].endValue<=g[e].end)&&(g.splice(e,1),e--);for(g.sort((function(a,t){return t.diff-a.diff})),l=0;l<Math.min(g.length,this._axes[o].scaleBreaks.maxNumberOfAutoBreaks);l++)e=a(g[l].start,g[l].end,this._axes[o].logarithmic?this._axes[o].dataInfo.max/this._axes[o].dataInfo.min:this._axes[o].dataInfo.max-this._axes[o].dataInfo.min,this._axes[o].logarithmic),this._axes[o].scaleBreaks.autoBreaks.push(new j(this,"autoBreaks",e,l,++this._eventManager.lastObjectId,this._axes[o].scaleBreaks)),this._axes[o].scaleBreaks._appliedBreaks.push(this._axes[o].scaleBreaks.autoBreaks[this._axes[o].scaleBreaks.autoBreaks.length-1]);this._axes[o].scaleBreaks._appliedBreaks.sort((function(a,t){return a.startValue-t.startValue}))}}},p.prototype.getDataPointAtXY=function(a,t,b){b=b||!1;for(var e=[],n=this._dataInRenderedOrder.length-1;0<=n;n--){var g;(g=this._dataInRenderedOrder[n].getDataPointAtXY(a,t,b))&&e.push(g)}for(a=null,t=!1,b=0;b<e.length;b++)if(("line"===e[b].dataSeries.type||"stepLine"===e[b].dataSeries.type||"area"===e[b].dataSeries.type||"stepArea"===e[b].dataSeries.type)&&(n=C("markerSize",e[b].dataPoint,e[b].dataSeries)||8,e[b].distance<=n/2)){t=!0;break}for(b=0;b<e.length;b++)t&&"line"!==e[b].dataSeries.type&&"stepLine"!==e[b].dataSeries.type&&"area"!==e[b].dataSeries.type&&"stepArea"!==e[b].dataSeries.type||(a?e[b].distance<=a.distance&&(a=e[b]):a=e[b]);return a},p.prototype.getObjectAtXY=function(a,t,b){var e=null;if(b=this.getDataPointAtXY(a,t,b||!1))e=b.dataSeries.dataPointIds[b.dataPointIndex];else if(J)e=P(a,t,this._eventManager.ghostCtx);else for(b=0;b<this.legend.items.length;b++){var n=this.legend.items[b];a>=n.x1&&a<=n.x2&&t>=n.y1&&t<=n.y2&&(e=n.id)}return e},p.prototype.getAutoFontSize=xt,p.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},p.prototype.clearCanvas=pt,p.prototype.attachEvent=function(a){this._events.push(a)},p.prototype._touchEventHandler=function(a){if(a.changedTouches&&this.interactivityEnabled){var t=[],b=a.changedTouches,e=b?b[0]:a,n=null;switch(a.type){case"touchstart":case"MSPointerDown":t=["mousemove","mousedown"],this._lastTouchData=gt(e),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":t=["mousemove"];break;case"touchend":case"MSPointerUp":var g=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;t="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>g?["mouseup","click"]:["mouseup"];break;default:return}if(!(b&&1<b.length)){(n=gt(e)).time=new Date;try{var o=n.y-this._lastTouchData.y;g=n.time-this._lastTouchData.time;(1<Math.abs(o)&&this._lastTouchData.scroll||5<Math.abs(o)&&250>g)&&(this._lastTouchData.scroll=!0)}catch(t){}if(this._lastTouchEventType=a.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(b=0;b<t.length;b++)n=t[b],(o=document.createEvent("MouseEvent")).initMouseEvent(n,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(o),(!u(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<g||"click"===n)&&(a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault())}}},p.prototype._dispatchRangeEvent=function(a,t){var b={chart:this};b.type=a,b.trigger=t;var e=[];this.axisX&&0<this.axisX.length&&e.push("axisX"),this.axisX2&&0<this.axisX2.length&&e.push("axisX2"),this.axisY&&0<this.axisY.length&&e.push("axisY"),this.axisY2&&0<this.axisY2.length&&e.push("axisY2");for(var n=0;n<e.length;n++)if(u(b[e[n]])&&(b[e[n]]=[]),"axisY"===e[n])for(var g=0;g<this.axisY.length;g++)b[e[n]].push({viewportMinimum:this[e[n]][g].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][g].sessionVariables.newViewportMaximum});else if("axisY2"===e[n])for(g=0;g<this.axisY2.length;g++)b[e[n]].push({viewportMinimum:this[e[n]][g].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][g].sessionVariables.newViewportMaximum});else if("axisX"===e[n])for(g=0;g<this.axisX.length;g++)b[e[n]].push({viewportMinimum:this[e[n]][g].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][g].sessionVariables.newViewportMaximum});else if("axisX2"===e[n])for(g=0;g<this.axisX2.length;g++)b[e[n]].push({viewportMinimum:this[e[n]][g].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][g].sessionVariables.newViewportMaximum});this.dispatchEvent(a,b,this)},p.prototype._mouseEventHandler=function(a){void 0===a.target&&a.srcElement&&(a.target=a.srcElement);var t,e,n=gt(a),b=a.type;if(a.which?e=3==a.which:a.button&&(e=2==a.button),p.capturedEventParam&&(t=p.capturedEventParam,"mouseup"===b&&(p.capturedEventParam=null,t.chart.overlaidCanvas.releaseCapture?t.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",t.chart._mouseEventHandler,!1)),t.hasOwnProperty(b)&&("mouseup"!==b||t.chart.overlaidCanvas.releaseCapture?a.target!==t.chart.overlaidCanvas&&J||t[b].call(t.context,n.x,n.y):a.target!==t.chart.overlaidCanvas&&(t.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault(),G&&window.console&&(window.console.log(b+" --\x3e x: "+n.x+"; y:"+n.y),e&&window.console.log(a.which),"mouseup"===b&&window.console.log("mouseup")),!e){if(!p.capturedEventParam&&this._events){for(var g=0;g<this._events.length;g++)if(this._events[g].hasOwnProperty(b)){if(e=(t=this._events[g]).bounds,n.x>=e.x1&&n.x<=e.x2&&n.y>=e.y1&&n.y<=e.y2){t[b].call(t.context,n.x,n.y),"mousedown"===b&&!0===t.capture?(p.capturedEventParam=t,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===b&&(t.chart.overlaidCanvas.releaseCapture?t.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}t=null}a.target.style.cursor=t&&t.cursor?t.cursor:this._defaultCursor}b=this.plotArea,(n.x<b.x1||n.x>b.x2||n.y<b.y1||n.y>b.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(a)}},p.prototype._plotAreaMouseDown=function(a,t){this.isDrag=!0,this.dragStartPoint={x:a,y:t}},p.prototype._plotAreaMouseUp=function(a,t){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var b=t-this.dragStartPoint.y,e=a-this.dragStartPoint.x,n=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),o=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var l=g;g=n,n=l}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(n=g=0;n<this._axes.length;n++)(b=this._axes[n]).logarithmic?b.viewportMinimum<b.minimum?(g=b.minimum/b.viewportMinimum,b.sessionVariables.newViewportMinimum=b.viewportMinimum*g,b.sessionVariables.newViewportMaximum=b.viewportMaximum*g,o=!0):b.viewportMaximum>b.maximum&&(g=b.viewportMaximum/b.maximum,b.sessionVariables.newViewportMinimum=b.viewportMinimum/g,b.sessionVariables.newViewportMaximum=b.viewportMaximum/g,o=!0):b.viewportMinimum<b.minimum?(g=b.minimum-b.viewportMinimum,b.sessionVariables.newViewportMinimum=b.viewportMinimum+g,b.sessionVariables.newViewportMaximum=b.viewportMaximum+g,o=!0):b.viewportMaximum>b.maximum&&(g=b.viewportMaximum-b.maximum,b.sessionVariables.newViewportMinimum=b.viewportMinimum-g,b.sessionVariables.newViewportMaximum=b.viewportMaximum-g,o=!0);else if((!n||2<Math.abs(e))&&(!g||2<Math.abs(b))&&this.zoomEnabled){if(!this.dragStartPoint)return;b=n?this.dragStartPoint.x:this.plotArea.x1,e=g?this.dragStartPoint.y:this.plotArea.y1,n=n?a:this.plotArea.x2,g=g?t:this.plotArea.y2,2<Math.abs(b-n)&&2<Math.abs(e-g)&&this._zoomPanToSelectedRegion(b,e,n,g)&&(o=!0)}o&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),o&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(L(this._zoomButton,this._resetButton),F(this,this._zoomButton,"pan"),F(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(o=0;o<this.axisX.length;o++)this.axisX[o].crosshair&&this.axisX[o].crosshair.enabled&&this.axisX[o].renderCrosshair(a,t);if(this.axisX2&&0<this.axisX2.length)for(o=0;o<this.axisX2.length;o++)this.axisX2[o].crosshair&&this.axisX2[o].crosshair.enabled&&this.axisX2[o].renderCrosshair(a,t);if(this.axisY&&0<this.axisY.length)for(o=0;o<this.axisY.length;o++)this.axisY[o].crosshair&&this.axisY[o].crosshair.enabled&&this.axisY[o].renderCrosshair(a,t);if(this.axisY2&&0<this.axisY2.length)for(o=0;o<this.axisY2.length;o++)this.axisY2[o].crosshair&&this.axisY2[o].crosshair.enabled&&this.axisY2[o].renderCrosshair(a,t)}},p.prototype._plotAreaMouseMove=function(a,t){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var b=0,e=0,n=b=null,g=(n=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),o=this;if("xySwapped"===this.plotInfo.axisPlacement&&(b=g,g=n,n=b),b=this.dragStartPoint.x-a,e=this.dragStartPoint.y-t,2<Math.abs(b)&&8>Math.abs(b)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(a,t),(!n||2<Math.abs(b)||!g||2<Math.abs(e))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)n={x1:n?this.plotArea.x1+b:this.plotArea.x1,y1:g?this.plotArea.y1+e:this.plotArea.y1,x2:n?this.plotArea.x2+b:this.plotArea.x2,y2:g?this.plotArea.y2+e:this.plotArea.y2},clearTimeout(o._panTimerId),o._panTimerId=setTimeout(function(e,b,n,l){return function(){o._zoomPanToSelectedRegion(e,b,n,l,!0)&&(o._dispatchRangeEvent("rangeChanging","pan"),o.render(),o._dispatchRangeEvent("rangeChanged","pan"),o.dragStartPoint.x=a,o.dragStartPoint.y=t)}}(n.x1,n.y1,n.x2,n.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),b=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";e=n?this.dragStartPoint.x:this.plotArea.x1;var l=g?this.dragStartPoint.y:this.plotArea.y1,r=n?a-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,h=g?t-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(e,l,n?a:this.plotArea.x2-this.plotArea.x1,g?t:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(e,l,r,h),this.overlaidCanvasCtx.globalAlpha=b}}else if(this.toolTip.mouseMoveHandler(a,t),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(n=0;n<this.axisX.length;n++)this.axisX[n].crosshair&&this.axisX[n].crosshair.enabled&&this.axisX[n].renderCrosshair(a,t);if(this.axisX2&&0<this.axisX2.length)for(n=0;n<this.axisX2.length;n++)this.axisX2[n].crosshair&&this.axisX2[n].crosshair.enabled&&this.axisX2[n].renderCrosshair(a,t);if(this.axisY&&0<this.axisY.length)for(n=0;n<this.axisY.length;n++)this.axisY[n].crosshair&&this.axisY[n].crosshair.enabled&&this.axisY[n].renderCrosshair(a,t);if(this.axisY2&&0<this.axisY2.length)for(n=0;n<this.axisY2.length;n++)this.axisY2[n].crosshair&&this.axisY2[n].crosshair.enabled&&this.axisY2[n].renderCrosshair(a,t)}},p.prototype._zoomPanToSelectedRegion=function(a,t,b,e,n){if(t=(a=this.validateRegion(a,t,b,e,n)).axesWithValidRange,b=a.axesRanges,a.isValid)for(e=0;e<t.length;e++)n=b[e],t[e].setViewPortRange(n.val1,n.val2),this.syncCharts&&this.syncCharts(n.val1,n.val2);return a.isValid},p.prototype.validateRegion=function(a,t,b,e,n){n=n||!1;for(var g=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),l=!1,r=[],h=[],s=[],q=0;q<this._axes.length;q++)("axisX"===this._axes[q].type&&g||"axisY"===this._axes[q].type&&o)&&h.push(this._axes[q]);for(o=0;o<h.length;o++){g=!1;if((x=(q=h[o]).convertPixelToValue({x:a,y:t}))>(c=q.convertPixelToValue({x:b,y:e})))var d=c,c=x,x=d;if(q.scaleBreaks)for(d=0;!g&&d<q.scaleBreaks._appliedBreaks.length;d++)g=q.scaleBreaks._appliedBreaks[d].startValue<=x&&q.scaleBreaks._appliedBreaks[d].endValue>=c;if(isFinite(q.dataInfo.minDiff))if(d=q.getApparentDifference(x,c,null,!0),g||!(this.panEnabled&&q.scaleBreaks&&q.scaleBreaks._appliedBreaks.length)&&(q.logarithmic&&d<Math.pow(q.dataInfo.minDiff,3)||!q.logarithmic&&d<3*Math.abs(q.dataInfo.minDiff))||x<q.minimum||c>q.maximum){if(!n){l=!1;break}}else r.push(q),s.push({val1:x,val2:c}),l=!0}return{isValid:l,axesWithValidRange:r,axesRanges:s}},p.prototype.preparePlotArea=function(){var a=this.plotArea;if(!J&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var t=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var b=this.axisY[0];a.x1=t.x1<t.x2?t.x1:b.lineCoordinates.x1,a.y1=t.y1<b.lineCoordinates.y1?t.y1:b.lineCoordinates.y1,a.x2=t.x2>b.lineCoordinates.x2?t.x2:b.lineCoordinates.x2,a.y2=t.y2>t.y1?t.y2:b.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(b=this.axisY2[0],a.x1=t.x1<t.x2?t.x1:b.lineCoordinates.x1,a.y1=t.y1<b.lineCoordinates.y1?t.y1:b.lineCoordinates.y1,a.x2=t.x2>b.lineCoordinates.x2?t.x2:b.lineCoordinates.x2,a.y2=t.y2>t.y1?t.y2:b.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1)}else t=this.layoutManager.getFreeSpace(),a.x1=t.x1,a.x2=t.x2,a.y1=t.y1,a.y2=t.y2,a.width=t.width,a.height=t.height;J||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1)),a.layoutManager=new D(a.x1,a.y1,a.x2,a.y2,2)},p.prototype.renderIndexLabels=function(a){var t=a||this.plotArea.ctx,b=this.plotArea,e=0,n=0,g=0,o=0,l=e=o=n=g=0,r=0;for(a=0;a<this._indexLabels.length;a++){var q,h,d=this._indexLabels[a],s=d.chartType.toLowerCase();l=C("indexLabelFontColor",d.dataPoint,d.dataSeries),r=C("indexLabelFontSize",d.dataPoint,d.dataSeries);q=C("indexLabelFontFamily",d.dataPoint,d.dataSeries),h=C("indexLabelFontStyle",d.dataPoint,d.dataSeries);o=C("indexLabelFontWeight",d.dataPoint,d.dataSeries);var c=C("indexLabelBackgroundColor",d.dataPoint,d.dataSeries),x=(n=C("indexLabelMaxWidth",d.dataPoint,d.dataSeries),g=C("indexLabelWrap",d.dataPoint,d.dataSeries),C("indexLabelLineDashType",d.dataPoint,d.dataSeries)),m=C("indexLabelLineColor",d.dataPoint,d.dataSeries),p=u(d.dataPoint.indexLabelLineThickness)?u(d.dataSeries.options.indexLabelLineThickness)?0:d.dataSeries.options.indexLabelLineThickness:d.dataPoint.indexLabelLineThickness,y=(e=0<p?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),v=null;(0<=d.dataSeries.type.indexOf("stacked")||"pie"===d.dataSeries.type||"doughnut"===d.dataSeries.type)&&(y=this.getPercentAndTotal(d.dataSeries,d.dataPoint)),(d.dataSeries.indexLabelFormatter||d.dataPoint.indexLabelFormatter)&&(v={chart:this,dataSeries:d.dataSeries,dataPoint:d.dataPoint,index:d.indexKeyword,total:y.total,percent:y.percent});var f=d.dataPoint.indexLabelFormatter?d.dataPoint.indexLabelFormatter(v):d.dataPoint.indexLabel?this.replaceKeywordsWithValue(d.dataPoint.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):d.dataSeries.indexLabelFormatter?d.dataSeries.indexLabelFormatter(v):d.dataSeries.indexLabel?this.replaceKeywordsWithValue(d.dataSeries.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):null;if(null!==f&&""!==f){y=C("indexLabelPlacement",d.dataPoint,d.dataSeries),v=C("indexLabelOrientation",d.dataPoint,d.dataSeries);var k=d.direction,M=d.dataSeries.axisX,w=d.dataSeries.axisY,P=!1;if((c=new W(t,{x:0,y:0,maxWidth:n||.5*this.width,maxHeight:g?5*r:1.5*r,angle:"horizontal"===v?0:-90,text:f,padding:0,backgroundColor:c,horizontalAlign:"left",fontSize:r,fontFamily:q,fontWeight:o,fontColor:l,fontStyle:h,textBaseline:"top"})).measureText(),d.dataSeries.indexLabelMaxWidth=c.maxWidth,"stackedarea100"===s){if(d.point.x<b.x1||d.point.x>b.x2||d.point.y<b.y1-1||d.point.y>b.y2+1)continue}else if("rangearea"===s||"rangesplinearea"===s){if(d.dataPoint.x<M.viewportMinimum||d.dataPoint.x>M.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<w.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>w.viewportMaximum)continue}else if(0<=s.indexOf("line")||0<=s.indexOf("area")||0<=s.indexOf("bubble")||0<=s.indexOf("scatter")){if(d.dataPoint.x<M.viewportMinimum||d.dataPoint.x>M.viewportMaximum||d.dataPoint.y<w.viewportMinimum||d.dataPoint.y>w.viewportMaximum)continue}else if(0<=s.indexOf("column")||"waterfall"===s||"error"===s&&!d.axisSwapped){if(d.dataPoint.x<M.viewportMinimum||d.dataPoint.x>M.viewportMaximum||d.bounds.y1>b.y2||d.bounds.y2<b.y1)continue}else if(0<=s.indexOf("bar")||"error"===s){if(d.dataPoint.x<M.viewportMinimum||d.dataPoint.x>M.viewportMaximum||d.bounds.x1>b.x2||d.bounds.x2<b.x1)continue}else if("candlestick"===s||"ohlc"===s){if(d.dataPoint.x<M.viewportMinimum||d.dataPoint.x>M.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<w.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>w.viewportMaximum)continue}else if(d.dataPoint.x<M.viewportMinimum||d.dataPoint.x>M.viewportMaximum)continue;n=o=2,"horizontal"===v?(l=c.width,r=c.height):(r=c.width,l=c.height),"normal"===this.plotInfo.axisPlacement?(0<=s.indexOf("line")||0<=s.indexOf("area")?(y="auto",o=4):0<=s.indexOf("stacked")?"auto"===y&&(y="inside"):"bubble"!==s&&"scatter"!==s||(y="inside"),q=d.point.x-l/2,"inside"!==y?(n=b.y1,g=b.y2,0<k?(h=d.point.y-r-o-e)<n&&(P=(h="auto"===y?Math.max(d.point.y,n)+o+e:n+o+e)+r>d.point.y):(h=d.point.y+o+e)>g-r-o-e&&(P=(h="auto"===y?Math.min(d.point.y,g)-r-o-e:g-r-o-e)<d.point.y)):(n=Math.max(d.bounds.y1,b.y1),g=Math.min(d.bounds.y2,b.y2),e=0<=s.indexOf("range")||"error"===s?0<k?Math.max(d.bounds.y1,b.y1)+r/2+o:Math.min(d.bounds.y2,b.y2)-r/2-o:(Math.max(d.bounds.y1,b.y1)+Math.min(d.bounds.y2,b.y2))/2,0<k?(h=Math.max(d.point.y,e)-r/2)<n&&("bubble"===s||"scatter"===s)&&(h=Math.max(d.point.y-r-o,b.y1+o)):(h=Math.min(d.point.y,e)-r/2)>g-r-o&&("bubble"===s||"scatter"===s)&&(h=Math.min(d.point.y+o,b.y2-r-o)),h=Math.min(h,g-r))):(0<=s.indexOf("line")||0<=s.indexOf("area")||0<=s.indexOf("scatter")?(y="auto",n=4):0<=s.indexOf("stacked")?"auto"===y&&(y="inside"):"bubble"===s&&(y="inside"),h=d.point.y-r/2,"inside"!==y?(o=b.x1,g=b.x2,0>k?(q=d.point.x-l-n-e)<o&&(P=(q="auto"===y?Math.max(d.point.x,o)+n+e:o+n+e)+l>d.point.x):(q=d.point.x+n+e)>g-l-n-e&&(P=(q="auto"===y?Math.min(d.point.x,g)-l-n-e:g-l-n-e)<d.point.x)):(o=Math.max(d.bounds.x1,b.x1),Math.min(d.bounds.x2,b.x2),e=0<=s.indexOf("range")||"error"===s?0>k?Math.max(d.bounds.x1,b.x1)+l/2+n:Math.min(d.bounds.x2,b.x2)-l/2-n:(Math.max(d.bounds.x1,b.x1)+Math.min(d.bounds.x2,b.x2))/2,q=0>k?Math.max(d.point.x,e)-l/2:Math.min(d.point.x,e)-l/2,q=Math.max(q,o))),"vertical"===v&&(h+=r),c.x=q,c.y=h,c.render(!0),p&&"inside"!==y&&(0>s.indexOf("bar")&&("error"!==s||!d.axisSwapped)&&d.point.x>b.x1&&d.point.x<b.x2||!P)&&(0>s.indexOf("column")&&("error"!==s||d.axisSwapped)&&d.point.y>b.y1&&d.point.y<b.y2||!P)&&(t.lineWidth=p,t.strokeStyle=m||"gray",t.setLineDash&&t.setLineDash(T(x,p)),t.beginPath(),t.moveTo(d.point.x,d.point.y),0<=s.indexOf("bar")||"error"===s&&d.axisSwapped?t.lineTo(q+(0<d.direction?0:l),h+("horizontal"===v?r:-r)/2):0<=s.indexOf("column")||"error"===s&&!d.axisSwapped?t.lineTo(q+l/2,h+((0<d.direction?r:-r)+("horizontal"===v?r:-r))/2):t.lineTo(q+l/2,h+((h<d.point.y?r:-r)+("horizontal"===v?r:-r))/2),t.stroke())}}for(t={source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0,startTimePercent:.7},a=0;a<this._indexLabels.length;a++)c=C("indexLabelBackgroundColor",(d=this._indexLabels[a]).dataPoint,d.dataSeries),d.dataSeries.indexLabelBackgroundColor=u(c)?J?"transparent":null:c;return t},p.prototype.renderLine=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;b.save();var n=this.plotArea;b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip();for(var o,g=[],l=0;l<a.dataSeriesIndexes.length;l++){var r=a.dataSeriesIndexes[l],h=this.data[r];b.lineWidth=h.lineThickness;var s=h.dataPoints,q="solid";if(b.setLineDash){var d=T(h.nullDataLineDashType,h.lineThickness),c=T(q=h.lineDashType,h.lineThickness);b.setLineDash(c)}var x=h.id;this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:r},x=y(x),e.strokeStyle=x,e.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;x=h._colorSet;var m=x=h.lineColor=h.options.lineColor?h.options.lineColor:x[0];b.strokeStyle=x;var v,f,p=!0,k=0;if(b.beginPath(),0<s.length){var u=!1;for(k=0;k<s.length;k++)if(!((v=s[k].x.getTime?s[k].x.getTime():s[k].x)<a.axisX.dataInfo.viewPortMin||v>a.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!u)))if("number"!=typeof s[k].y)0<k&&!(h.connectNullData||u||p)&&(b.stroke(),J&&e.stroke()),u=!0;else{v=a.axisX.convertValueToPixel(v),f=a.axisY.convertValueToPixel(s[k].y);var M=h.dataPointIds[k];if(this._eventManager.objectMap[M]={id:M,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:k,x1:v,y1:f},p||u?(!p&&h.connectNullData?(b.setLineDash&&(h.options.nullDataLineDashType||q===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(b.stroke(),b.beginPath(),b.moveTo(o.x,o.y),q=h.nullDataLineDashType,b.setLineDash(d)),b.lineTo(v,f),J&&e.lineTo(v,f)):(b.beginPath(),b.moveTo(v,f),J&&(e.beginPath(),e.moveTo(v,f))),u=p=!1):(b.lineTo(v,f),J&&e.lineTo(v,f),0==k%500&&(b.stroke(),b.beginPath(),b.moveTo(v,f),J&&(e.stroke(),e.beginPath(),e.moveTo(v,f)))),o={x:v,y:f},k<s.length-1&&(m!==(s[k].lineColor||x)||q!==(s[k].lineDashType||h.lineDashType))&&(b.stroke(),b.beginPath(),b.moveTo(v,f),m=s[k].lineColor||x,b.strokeStyle=m,b.setLineDash&&(s[k].lineDashType?(q=s[k].lineDashType,b.setLineDash(T(q,h.lineThickness))):(q=h.lineDashType,b.setLineDash(c)))),0<s[k].markerSize||0<h.markerSize){var w=h.getMarkerProperties(k,v,f,b);g.push(w),M=y(M),J&&g.push({x:v,y:f,ctx:e,type:w.type,size:w.size,color:M,borderColor:M,borderThickness:w.borderThickness})}(s[k].indexLabel||h.indexLabel||s[k].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:s[k],dataSeries:h,point:{x:v,y:f},direction:0>s[k].y===a.axisY.reversed?1:-1,color:x})}b.stroke(),J&&e.stroke()}}return nt.drawMarkers(g),J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),e.beginPath()),b.restore(),b.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderStepLine=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;b.save();var n=this.plotArea;b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip();for(var o,g=[],l=0;l<a.dataSeriesIndexes.length;l++){var r=a.dataSeriesIndexes[l],h=this.data[r];b.lineWidth=h.lineThickness;var s=h.dataPoints,q="solid";if(b.setLineDash){var d=T(h.nullDataLineDashType,h.lineThickness),c=T(q=h.lineDashType,h.lineThickness);b.setLineDash(c)}var x=h.id;this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:r},x=y(x),e.strokeStyle=x,e.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;x=h._colorSet;var m=x=h.lineColor=h.options.lineColor?h.options.lineColor:x[0];b.strokeStyle=x;var v,f,p=!0,k=0;if(b.beginPath(),0<s.length){var u=!1;for(k=0;k<s.length;k++)if(!((v=s[k].getTime?s[k].x.getTime():s[k].x)<a.axisX.dataInfo.viewPortMin||v>a.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!u)))if("number"!=typeof s[k].y)0<k&&!(h.connectNullData||u||p)&&(b.stroke(),J&&e.stroke()),u=!0;else{var M=f;v=a.axisX.convertValueToPixel(v),f=a.axisY.convertValueToPixel(s[k].y);var w=h.dataPointIds[k];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:k,x1:v,y1:f},p||u?(!p&&h.connectNullData?(b.setLineDash&&(h.options.nullDataLineDashType||q===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(b.stroke(),b.beginPath(),b.moveTo(o.x,o.y),q=h.nullDataLineDashType,b.setLineDash(d)),b.lineTo(v,M),b.lineTo(v,f),J&&(e.lineTo(v,M),e.lineTo(v,f))):(b.beginPath(),b.moveTo(v,f),J&&(e.beginPath(),e.moveTo(v,f))),u=p=!1):(b.lineTo(v,M),J&&e.lineTo(v,M),b.lineTo(v,f),J&&e.lineTo(v,f),0==k%500&&(b.stroke(),b.beginPath(),b.moveTo(v,f),J&&(e.stroke(),e.beginPath(),e.moveTo(v,f)))),o={x:v,y:f},k<s.length-1&&(m!==(s[k].lineColor||x)||q!==(s[k].lineDashType||h.lineDashType))&&(b.stroke(),b.beginPath(),b.moveTo(v,f),m=s[k].lineColor||x,b.strokeStyle=m,b.setLineDash&&(s[k].lineDashType?(q=s[k].lineDashType,b.setLineDash(T(q,h.lineThickness))):(q=h.lineDashType,b.setLineDash(c)))),(0<s[k].markerSize||0<h.markerSize)&&(M=h.getMarkerProperties(k,v,f,b),g.push(M),w=y(w),J&&g.push({x:v,y:f,ctx:e,type:M.type,size:M.size,color:w,borderColor:w,borderThickness:M.borderThickness})),(s[k].indexLabel||h.indexLabel||s[k].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:s[k],dataSeries:h,point:{x:v,y:f},direction:0>s[k].y===a.axisY.reversed?1:-1,color:x})}b.stroke(),J&&e.stroke()}}return nt.drawMarkers(g),J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),e.beginPath()),b.restore(),b.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderSpline=function(a){function t(a){if(0<(a=n(a,2)).length){e.beginPath(),J&&o.beginPath(),e.moveTo(a[0].x,a[0].y),a[0].newStrokeStyle&&(e.strokeStyle=a[0].newStrokeStyle),a[0].newLineDashArray&&e.setLineDash(a[0].newLineDashArray),J&&o.moveTo(a[0].x,a[0].y);for(var b=0;b<a.length-3;b+=3)e.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),J&&o.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),(0<b&&0==b%3e3||a[b+3].newStrokeStyle||a[b+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(a[b+3].x,a[b+3].y),a[b+3].newStrokeStyle&&(e.strokeStyle=a[b+3].newStrokeStyle),a[b+3].newLineDashArray&&e.setLineDash(a[b+3].newLineDashArray),J&&(o.stroke(),o.beginPath(),o.moveTo(a[b+3].x,a[b+3].y)));e.stroke(),J&&o.stroke()}}var b=a.targetCanvasCtx||this.plotArea.ctx,e=J?this._preRenderCtx:b;if(!(0>=a.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx;e.save();var g=this.plotArea;e.beginPath(),e.rect(g.x1,g.y1,g.width,g.height),e.clip();for(var l=[],r=0;r<a.dataSeriesIndexes.length;r++){var h=a.dataSeriesIndexes[r],d=this.data[h];e.lineWidth=d.lineThickness;var s=d.dataPoints,q="solid";if(e.setLineDash){var c=T(d.nullDataLineDashType,d.lineThickness),x=T(q=d.lineDashType,d.lineThickness);e.setLineDash(x)}var m=d.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:h},m=y(m),o.strokeStyle=m,o.lineWidth=0<d.lineThickness?Math.max(d.lineThickness,4):0;m=d._colorSet;var v=m=d.lineColor=d.options.lineColor?d.options.lineColor:m[0];e.strokeStyle=m;var f,u,p=0,k=[];if(e.beginPath(),0<s.length)for(u=!1,p=0;p<s.length;p++)if(!((f=s[p].getTime?s[p].x.getTime():s[p].x)<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!u)))if("number"!=typeof s[p].y)0<p&&!u&&(d.connectNullData?e.setLineDash&&0<k.length&&(d.options.nullDataLineDashType||!s[p-1].lineDashType)&&(k[k.length-1].newLineDashArray=c,q=d.nullDataLineDashType):(t(k),k=[])),u=!0;else{f=a.axisX.convertValueToPixel(f),u=a.axisY.convertValueToPixel(s[p].y);var M=d.dataPointIds[p];if(this._eventManager.objectMap[M]={id:M,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:p,x1:f,y1:u},k[k.length]={x:f,y:u},p<s.length-1&&(v!==(s[p].lineColor||m)||q!==(s[p].lineDashType||d.lineDashType))&&(v=s[p].lineColor||m,k[k.length-1].newStrokeStyle=v,e.setLineDash&&(s[p].lineDashType?(q=s[p].lineDashType,k[k.length-1].newLineDashArray=T(q,d.lineThickness)):(q=d.lineDashType,k[k.length-1].newLineDashArray=x))),0<s[p].markerSize||0<d.markerSize){var w=d.getMarkerProperties(p,f,u,e);l.push(w),M=y(M),J&&l.push({x:f,y:u,ctx:o,type:w.type,size:w.size,color:M,borderColor:M,borderThickness:w.borderThickness})}(s[p].indexLabel||d.indexLabel||s[p].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:s[p],dataSeries:d,point:{x:f,y:u},direction:0>s[p].y===a.axisY.reversed?1:-1,color:m}),u=!1}t(k)}return nt.drawMarkers(l),J&&(b.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&e.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&e.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(g.x1,g.y1,g.width,g.height),o.beginPath()),e.restore(),e.beginPath(),{source:b,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderColumn=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var e,n,o,l=null,r=this.plotArea,g=0,h=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),s=(g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/a.plotType.totalDataSeries*.9)<<0),q=a.axisX.dataInfo.minDiff;for(isFinite(q)||(q=.3*Math.abs(a.axisX.range)),q=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:r.width*(a.axisX.logarithmic?Math.log(q)/Math.log(a.axisX.range):Math.abs(q)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),q<g&&(q=g),q>s&&(q=s),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(r.x1,r.y1,r.width,r.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip()),s=0;s<a.dataSeriesIndexes.length;s++){var d=a.dataSeriesIndexes[s],c=this.data[d],x=c.dataPoints;if(0<x.length){var p=!!(5<q&&c.bevelEnabled);for(g=0;g<x.length;g++)if(!((o=x[g].getTime?x[g].x.getTime():x[g].x)<a.axisX.dataInfo.viewPortMin||o>a.axisX.dataInfo.viewPortMax)&&"number"==typeof x[g].y){e=a.axisX.convertValueToPixel(o),n=a.axisY.convertValueToPixel(x[g].y),e=a.axisX.reversed?e+a.plotType.totalDataSeries*q/2-(a.previousDataSeriesCount+s)*q<<0:e-a.plotType.totalDataSeries*q/2+(a.previousDataSeriesCount+s)*q<<0;var m,v=a.axisX.reversed?e-q<<0:e+q<<0;0<=x[g].y?m=h:(m=n,n=h),n>m&&(l=n,n=m,m=l),l=x[g].color?x[g].color:c._colorSet[g%c._colorSet.length],kt(b,e,n,v,m,l,0,null,p&&0<=x[g].y,0>x[g].y&&p,!1,!1,c.fillOpacity),l=c.dataPointIds[g],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:g,x1:e,y1:n,x2:v,y2:m},l=y(l),J&&kt(this._eventManager.ghostCtx,e,n,v,m,l,0,null,!1,!1,!1,!1),(x[g].indexLabel||c.indexLabel||x[g].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:x[g],dataSeries:c,point:{x:e+(v-e)/2,y:0>x[g].y===a.axisY.reversed?n:m},direction:0>x[g].y===a.axisY.reversed?1:-1,bounds:{x1:e,y1:Math.min(n,m),x2:v,y2:Math.max(n,m)},color:l})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.yScaleAnimation,easingFunction:st.easing.easeOutQuart,animationBase:h<a.axisY.bounds.y1?a.axisY.bounds.y1:h>a.axisY.bounds.y2?a.axisY.bounds.y2:h}}},p.prototype.renderStackedColumn=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var s,q,e=null,n=this.plotArea,g=[],o=[],l=[],r=[],h=0,d=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var c=a.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(a.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:n.width*(a.axisX.logarithmic?Math.log(c)/Math.log(a.axisX.range):Math.abs(c)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>s&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<h&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),c<h&&(c=h),c>s&&(c=s),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var x=0;x<a.dataSeriesIndexes.length;x++){var m=a.dataSeriesIndexes[x],p=this.data[m],v=p.dataPoints;if(0<v.length){var u=!!(5<c&&p.bevelEnabled);for(b.strokeStyle="#4572A7 ",h=0;h<v.length;h++)if(!((e=v[h].x.getTime?v[h].x.getTime():v[h].x)<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof v[h].y){var f,k=(s=a.axisX.convertValueToPixel(e))-a.plotType.plotUnits.length*c/2+a.index*c<<0,M=k+c<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<v[h].y)l[e]=v[h].y+(l[e]?l[e]:0),0<l[e]&&(q=a.axisY.convertValueToPixel(l[e]),f=void 0!==g[e]?g[e]:d,g[e]=q);else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=v[h].y)r[e]=v[h].y+(r[e]?r[e]:0),f=a.axisY.convertValueToPixel(r[e]),q=void 0!==o[e]?o[e]:d,o[e]=f;else if(q=a.axisY.convertValueToPixel(v[h].y),0<=v[h].y){var T=void 0!==g[e]?g[e]:0;q-=T,f=d-T,g[e]=T+(f-q)}else f=q+(T=o[e]?o[e]:0),q=d+T,o[e]=T+(f-q);e=v[h].color?v[h].color:p._colorSet[h%p._colorSet.length],kt(b,k,q,M,f,e,0,null,u&&0<=v[h].y,0>v[h].y&&u,!1,!1,p.fillOpacity),e=p.dataPointIds[h],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:k,y1:q,x2:M,y2:f},e=y(e),J&&kt(this._eventManager.ghostCtx,k,q,M,f,e,0,null,!1,!1,!1,!1),(v[h].indexLabel||p.indexLabel||v[h].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:v[h],dataSeries:p,point:{x:s,y:0<=v[h].y?q:f},direction:0>v[h].y===a.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(q,f),x2:M,y2:Math.max(q,f)},color:e})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.yScaleAnimation,easingFunction:st.easing.easeOutQuart,animationBase:d<a.axisY.bounds.y1?a.axisY.bounds.y1:d>a.axisY.bounds.y2?a.axisY.bounds.y2:d}}},p.prototype.renderStackedColumn100=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var s,q,e=null,n=this.plotArea,g=[],o=[],l=[],r=[],h=0,d=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var c=a.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(a.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:n.width*(a.axisX.logarithmic?Math.log(c)/Math.log(a.axisX.range):Math.abs(c)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>s&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<h&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),c<h&&(c=h),c>s&&(c=s),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var x=0;x<a.dataSeriesIndexes.length;x++){var p=a.dataSeriesIndexes[x],m=this.data[p],v=m.dataPoints;if(0<v.length){var u=!!(5<c&&m.bevelEnabled);for(h=0;h<v.length;h++)if(!((e=v[h].x.getTime?v[h].x.getTime():v[h].x)<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof v[h].y){s=a.axisX.convertValueToPixel(e),q=0!==a.dataPointYSums[e]?v[h].y/a.dataPointYSums[e]*100:0;var f,k=s-a.plotType.plotUnits.length*c/2+a.index*c<<0,M=k+c<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<v[h].y){if(l[e]=q+(void 0!==l[e]?l[e]:0),0>=l[e])continue;q=a.axisY.convertValueToPixel(l[e]),f=g[e]?g[e]:d,g[e]=q}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=v[h].y)r[e]=q+(void 0!==r[e]?r[e]:0),f=a.axisY.convertValueToPixel(r[e]),q=o[e]?o[e]:d,o[e]=f;else if(q=a.axisY.convertValueToPixel(q),0<=v[h].y){var T=void 0!==g[e]?g[e]:0;q-=T,f=d-T,a.dataSeriesIndexes.length-1===x&&1>=Math.abs(n.y1-q)&&(q=n.y1),g[e]=T+(f-q)}else f=q+(T=void 0!==o[e]?o[e]:0),q=d+T,a.dataSeriesIndexes.length-1===x&&1>=Math.abs(n.y2-f)&&(f=n.y2),o[e]=T+(f-q);e=v[h].color?v[h].color:m._colorSet[h%m._colorSet.length],kt(b,k,q,M,f,e,0,null,u&&0<=v[h].y,0>v[h].y&&u,!1,!1,m.fillOpacity),e=m.dataPointIds[h],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:h,x1:k,y1:q,x2:M,y2:f},e=y(e),J&&kt(this._eventManager.ghostCtx,k,q,M,f,e,0,null,!1,!1,!1,!1),(v[h].indexLabel||m.indexLabel||v[h].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:v[h],dataSeries:m,point:{x:s,y:0<=v[h].y?q:f},direction:0>v[h].y===a.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(q,f),x2:M,y2:Math.max(q,f)},color:e})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.yScaleAnimation,easingFunction:st.easing.easeOutQuart,animationBase:d<a.axisY.bounds.y1?a.axisY.bounds.y1:d>a.axisY.bounds.y2?a.axisY.bounds.y2:d}}},p.prototype.renderBar=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var e,n,o,l=null,r=this.plotArea,g=0,h=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),s=(g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/a.plotType.totalDataSeries*.9)<<0),q=a.axisX.dataInfo.minDiff;for(isFinite(q)||(q=.3*Math.abs(a.axisX.range)),q=this.options.dataPointWidth?this.dataPointWidth:r.height*(a.axisX.logarithmic?Math.log(q)/Math.log(a.axisX.range):Math.abs(q)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),q<g&&(q=g),q>s&&(q=s),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(r.x1,r.y1,r.width,r.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip()),s=0;s<a.dataSeriesIndexes.length;s++){var d=a.dataSeriesIndexes[s],c=this.data[d],x=c.dataPoints;if(0<x.length){var m=!!(5<q&&c.bevelEnabled);for(b.strokeStyle="#4572A7 ",g=0;g<x.length;g++)if(!((o=x[g].getTime?x[g].x.getTime():x[g].x)<a.axisX.dataInfo.viewPortMin||o>a.axisX.dataInfo.viewPortMax)&&"number"==typeof x[g].y){n=a.axisX.convertValueToPixel(o),e=a.axisY.convertValueToPixel(x[g].y),n=a.axisX.reversed?n+a.plotType.totalDataSeries*q/2-(a.previousDataSeriesCount+s)*q<<0:n-a.plotType.totalDataSeries*q/2+(a.previousDataSeriesCount+s)*q<<0;var v,p=a.axisX.reversed?n-q<<0:n+q<<0;0<=x[g].y?v=h:(v=e,e=h),l=x[g].color?x[g].color:c._colorSet[g%c._colorSet.length],kt(b,v,n,e,p,l,0,null,m,!1,!1,!1,c.fillOpacity),l=c.dataPointIds[g],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:g,x1:v,y1:n,x2:e,y2:p},l=y(l),J&&kt(this._eventManager.ghostCtx,v,n,e,p,l,0,null,!1,!1,!1,!1),(x[g].indexLabel||c.indexLabel||x[g].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:x[g],dataSeries:c,point:{x:0<=x[g].y?e:v,y:n+(p-n)/2},direction:0>x[g].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(v,e),y1:n,x2:Math.max(v,e),y2:p},color:l})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.xScaleAnimation,easingFunction:st.easing.easeOutQuart,animationBase:h<a.axisY.bounds.x1?a.axisY.bounds.x1:h>a.axisY.bounds.x2?a.axisY.bounds.x2:h}}},p.prototype.renderStackedBar=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var s,q,e=null,n=this.plotArea,g=[],o=[],l=[],r=[],h=0,d=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;q=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var c=a.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(a.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:n.height*(a.axisX.logarithmic?Math.log(c)/Math.log(a.axisX.range):Math.abs(c)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>q&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,q)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&q<h&&(q=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),c<h&&(c=h),c>q&&(c=q),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var x=0;x<a.dataSeriesIndexes.length;x++){var p=a.dataSeriesIndexes[x],m=this.data[p],v=m.dataPoints;if(0<v.length){var u=!!(5<c&&m.bevelEnabled);for(b.strokeStyle="#4572A7 ",h=0;h<v.length;h++)if(!((e=v[h].x.getTime?v[h].x.getTime():v[h].x)<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof v[h].y){var f,k=(q=a.axisX.convertValueToPixel(e))-a.plotType.plotUnits.length*c/2+a.index*c<<0,M=k+c<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<v[h].y)l[e]=v[h].y+(l[e]?l[e]:0),0<l[e]&&(f=g[e]?g[e]:d,g[e]=s=a.axisY.convertValueToPixel(l[e]));else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=v[h].y)r[e]=v[h].y+(r[e]?r[e]:0),s=o[e]?o[e]:d,o[e]=f=a.axisY.convertValueToPixel(r[e]);else if(s=a.axisY.convertValueToPixel(v[h].y),0<=v[h].y){var T=g[e]?g[e]:0;f=d+T,s+=T,g[e]=T+(s-f)}else f=s-(T=o[e]?o[e]:0),s=d-T,o[e]=T+(s-f);e=v[h].color?v[h].color:m._colorSet[h%m._colorSet.length],kt(b,f,k,s,M,e,0,null,u,!1,!1,!1,m.fillOpacity),e=m.dataPointIds[h],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:h,x1:f,y1:k,x2:s,y2:M},e=y(e),J&&kt(this._eventManager.ghostCtx,f,k,s,M,e,0,null,!1,!1,!1,!1),(v[h].indexLabel||m.indexLabel||v[h].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:v[h],dataSeries:m,point:{x:0<=v[h].y?s:f,y:q},direction:0>v[h].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(f,s),y1:k,x2:Math.max(f,s),y2:M},color:e})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.xScaleAnimation,easingFunction:st.easing.easeOutQuart,animationBase:d<a.axisY.bounds.x1?a.axisY.bounds.x1:d>a.axisY.bounds.x2?a.axisY.bounds.x2:d}}},p.prototype.renderStackedBar100=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var s,q,e=null,n=this.plotArea,g=[],o=[],l=[],r=[],h=0,d=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;q=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var c=a.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(a.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:n.height*(a.axisX.logarithmic?Math.log(c)/Math.log(a.axisX.range):Math.abs(c)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>q&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,q)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&q<h&&(q=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),c<h&&(c=h),c>q&&(c=q),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var x=0;x<a.dataSeriesIndexes.length;x++){var m=a.dataSeriesIndexes[x],p=this.data[m],v=p.dataPoints;if(0<v.length){var u=!!(5<c&&p.bevelEnabled);for(b.strokeStyle="#4572A7 ",h=0;h<v.length;h++)if(!((e=v[h].x.getTime?v[h].x.getTime():v[h].x)<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof v[h].y){var f;q=a.axisX.convertValueToPixel(e),f=0!==a.dataPointYSums[e]?v[h].y/a.dataPointYSums[e]*100:0;var k=q-a.plotType.plotUnits.length*c/2+a.index*c<<0,M=k+c<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<v[h].y){if(l[e]=f+(l[e]?l[e]:0),0>=l[e])continue;f=g[e]?g[e]:d,g[e]=s=a.axisY.convertValueToPixel(l[e])}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=v[h].y)r[e]=f+(r[e]?r[e]:0),s=o[e]?o[e]:d,o[e]=f=a.axisY.convertValueToPixel(r[e]);else if(s=a.axisY.convertValueToPixel(f),0<=v[h].y){var T=g[e]?g[e]:0;f=d+T,s+=T,a.dataSeriesIndexes.length-1===x&&1>=Math.abs(n.x2-s)&&(s=n.x2),g[e]=T+(s-f)}else f=s-(T=o[e]?o[e]:0),s=d-T,a.dataSeriesIndexes.length-1===x&&1>=Math.abs(n.x1-f)&&(f=n.x1),o[e]=T+(s-f);e=v[h].color?v[h].color:p._colorSet[h%p._colorSet.length],kt(b,f,k,s,M,e,0,null,u,!1,!1,!1,p.fillOpacity),e=p.dataPointIds[h],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:f,y1:k,x2:s,y2:M},e=y(e),J&&kt(this._eventManager.ghostCtx,f,k,s,M,e,0,null,!1,!1,!1,!1),(v[h].indexLabel||p.indexLabel||v[h].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:v[h],dataSeries:p,point:{x:0<=v[h].y?s:f,y:q},direction:0>v[h].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(f,s),y1:k,x2:Math.max(f,s),y2:M},color:e})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.xScaleAnimation,easingFunction:st.easing.easeOutQuart,animationBase:d<a.axisY.bounds.x1?a.axisY.bounds.x1:d>a.axisY.bounds.x2?a.axisY.bounds.x2:d}}},p.prototype.renderArea=function(a){var t,b;function e(){w&&(0<x.lineThickness&&g.stroke(),a.axisY.logarithmic||0>=a.axisY.viewportMinimum&&0<=a.axisY.viewportMaximum?f=M:0>a.axisY.viewportMaximum?f=r.y1:0<a.axisY.viewportMinimum&&(f=l.y2),g.lineTo(m,f),g.lineTo(w.x,f),g.closePath(),g.globalAlpha=x.fillOpacity,g.fill(),g.globalAlpha=1,J&&(o.lineTo(m,f),o.lineTo(w.x,f),o.closePath(),o.fill()),g.beginPath(),g.moveTo(m,u),o.beginPath(),o.moveTo(m,u),w={x:m,y:u})}var n=a.targetCanvasCtx||this.plotArea.ctx,g=J?this._preRenderCtx:n;if(!(0>=a.dataSeriesIndexes.length)){var q,o=this._eventManager.ghostCtx,l=a.axisX.lineCoordinates,r=a.axisY.lineCoordinates,h=[],s=this.plotArea;g.save(),J&&o.save(),g.beginPath(),g.rect(s.x1,s.y1,s.width,s.height),g.clip(),J&&(o.beginPath(),o.rect(s.x1,s.y1,s.width,s.height),o.clip());for(var d=0;d<a.dataSeriesIndexes.length;d++){var c=a.dataSeriesIndexes[d],x=this.data[c],p=x.dataPoints;h=x.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:c},h=y(h),o.fillStyle=h,h=[],t=!0;var m,u,v,f,k=0,M=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),w=null;if(0<p.length){var P=x._colorSet[k%x._colorSet.length],C=x.lineColor=x.options.lineColor||P,S=C;if(g.fillStyle=P,g.strokeStyle=C,g.lineWidth=x.lineThickness,b="solid",g.setLineDash){var _=T(x.nullDataLineDashType,x.lineThickness),A=T(b=x.lineDashType,x.lineThickness);g.setLineDash(A)}for(var B=!0;k<p.length;k++)if(!((v=p[k].x.getTime?p[k].x.getTime():p[k].x)<a.axisX.dataInfo.viewPortMin||v>a.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!B)))if("number"!=typeof p[k].y)x.connectNullData||B||t||e(),B=!0;else{m=a.axisX.convertValueToPixel(v),u=a.axisY.convertValueToPixel(p[k].y),t||B?(!t&&x.connectNullData?(g.setLineDash&&(x.options.nullDataLineDashType||b===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(t=m,b=u,m=q.x,u=q.y,e(),g.moveTo(q.x,q.y),m=t,u=b,w=q,b=x.nullDataLineDashType,g.setLineDash(_)),g.lineTo(m,u),J&&o.lineTo(m,u)):(g.beginPath(),g.moveTo(m,u),J&&(o.beginPath(),o.moveTo(m,u)),w={x:m,y:u}),B=t=!1):(g.lineTo(m,u),J&&o.lineTo(m,u),0==k%250&&e()),q={x:m,y:u},k<p.length-1&&(S!==(p[k].lineColor||C)||b!==(p[k].lineDashType||x.lineDashType))&&(e(),S=p[k].lineColor||C,g.strokeStyle=S,g.setLineDash&&(p[k].lineDashType?(b=p[k].lineDashType,g.setLineDash(T(b,x.lineThickness))):(b=x.lineDashType,g.setLineDash(A))));var F=x.dataPointIds[k];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:k,x1:m,y1:u},0!==p[k].markerSize&&(0<p[k].markerSize||0<x.markerSize)&&(v=x.getMarkerProperties(k,m,u,g),h.push(v),F=y(F),J&&h.push({x:m,y:u,ctx:o,type:v.type,size:v.size,color:F,borderColor:F,borderThickness:v.borderThickness})),(p[k].indexLabel||x.indexLabel||p[k].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:p[k],dataSeries:x,point:{x:m,y:u},direction:0>p[k].y===a.axisY.reversed?1:-1,color:P})}e(),nt.drawMarkers(h)}}return J&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&g.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&g.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),g.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderSplineArea=function(a){function t(){var b=n(k,2);if(0<b.length){if(0<q.lineThickness){e.beginPath(),e.moveTo(b[0].x,b[0].y),b[0].newStrokeStyle&&(e.strokeStyle=b[0].newStrokeStyle),b[0].newLineDashArray&&e.setLineDash(b[0].newLineDashArray);for(var t=0;t<b.length-3;t+=3)e.bezierCurveTo(b[t+1].x,b[t+1].y,b[t+2].x,b[t+2].y,b[t+3].x,b[t+3].y),J&&o.bezierCurveTo(b[t+1].x,b[t+1].y,b[t+2].x,b[t+2].y,b[t+3].x,b[t+3].y),(b[t+3].newStrokeStyle||b[t+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(b[t+3].x,b[t+3].y),b[t+3].newStrokeStyle&&(e.strokeStyle=b[t+3].newStrokeStyle),b[t+3].newLineDashArray&&e.setLineDash(b[t+3].newLineDashArray));e.stroke()}for(e.beginPath(),e.moveTo(b[0].x,b[0].y),J&&(o.beginPath(),o.moveTo(b[0].x,b[0].y)),t=0;t<b.length-3;t+=3)e.bezierCurveTo(b[t+1].x,b[t+1].y,b[t+2].x,b[t+2].y,b[t+3].x,b[t+3].y),J&&o.bezierCurveTo(b[t+1].x,b[t+1].y,b[t+2].x,b[t+2].y,b[t+3].x,b[t+3].y);a.axisY.logarithmic||0>=a.axisY.viewportMinimum&&0<=a.axisY.viewportMaximum?v=p:0>a.axisY.viewportMaximum?v=l.y1:0<a.axisY.viewportMinimum&&(v=g.y2),u={x:b[0].x,y:b[0].y},e.lineTo(b[b.length-1].x,v),e.lineTo(u.x,v),e.closePath(),e.globalAlpha=q.fillOpacity,e.fill(),e.globalAlpha=1,J&&(o.lineTo(b[b.length-1].x,v),o.lineTo(u.x,v),o.closePath(),o.fill())}}var b=a.targetCanvasCtx||this.plotArea.ctx,e=J?this._preRenderCtx:b;if(!(0>=a.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,g=a.axisX.lineCoordinates,l=a.axisY.lineCoordinates,r=[],h=this.plotArea;e.save(),J&&o.save(),e.beginPath(),e.rect(h.x1,h.y1,h.width,h.height),e.clip(),J&&(o.beginPath(),o.rect(h.x1,h.y1,h.width,h.height),o.clip());for(var d=0;d<a.dataSeriesIndexes.length;d++){var s=a.dataSeriesIndexes[d],q=this.data[s],c=q.dataPoints;r=q.id;this._eventManager.objectMap[r]={objectType:"dataSeries",dataSeriesIndex:s},r=y(r),o.fillStyle=r;r=[];var x,m,v,f=0,p=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),u=null,k=[];if(0<c.length){var M=q._colorSet[f%q._colorSet.length],w=q.lineColor=q.options.lineColor||M,P=w;e.fillStyle=M,e.strokeStyle=w,e.lineWidth=q.lineThickness;var C="solid";if(e.setLineDash){var S=T(q.nullDataLineDashType,q.lineThickness),_=T(C=q.lineDashType,q.lineThickness);e.setLineDash(_)}for(m=!1;f<c.length;f++)if(!((x=c[f].x.getTime?c[f].x.getTime():c[f].x)<a.axisX.dataInfo.viewPortMin||x>a.axisX.dataInfo.viewPortMax&&(!q.connectNullData||!m)))if("number"!=typeof c[f].y)0<f&&!m&&(q.connectNullData?e.setLineDash&&0<k.length&&(q.options.nullDataLineDashType||!c[f-1].lineDashType)&&(k[k.length-1].newLineDashArray=S,C=q.nullDataLineDashType):(t(),k=[])),m=!0;else{x=a.axisX.convertValueToPixel(x),m=a.axisY.convertValueToPixel(c[f].y);var A=q.dataPointIds[f];if(this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:f,x1:x,y1:m},k[k.length]={x:x,y:m},f<c.length-1&&(P!==(c[f].lineColor||w)||C!==(c[f].lineDashType||q.lineDashType))&&(P=c[f].lineColor||w,k[k.length-1].newStrokeStyle=P,e.setLineDash&&(c[f].lineDashType?(C=c[f].lineDashType,k[k.length-1].newLineDashArray=T(C,q.lineThickness)):(C=q.lineDashType,k[k.length-1].newLineDashArray=_))),0!==c[f].markerSize&&(0<c[f].markerSize||0<q.markerSize)){var B=q.getMarkerProperties(f,x,m,e);r.push(B),A=y(A),J&&r.push({x:x,y:m,ctx:o,type:B.type,size:B.size,color:A,borderColor:A,borderThickness:B.borderThickness})}(c[f].indexLabel||q.indexLabel||c[f].indexLabelFormatter||q.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:c[f],dataSeries:q,point:{x:x,y:m},direction:0>c[f].y===a.axisY.reversed?1:-1,color:M}),m=!1}t(),nt.drawMarkers(r)}}return J&&(b.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&e.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&e.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderStepArea=function(a){var t,b;function e(){w&&(0<x.lineThickness&&g.stroke(),a.axisY.logarithmic||0>=a.axisY.viewportMinimum&&0<=a.axisY.viewportMaximum?k=M:0>a.axisY.viewportMaximum?k=r.y1:0<a.axisY.viewportMinimum&&(k=l.y2),g.lineTo(v,k),g.lineTo(w.x,k),g.closePath(),g.globalAlpha=x.fillOpacity,g.fill(),g.globalAlpha=1,J&&(o.lineTo(v,k),o.lineTo(w.x,k),o.closePath(),o.fill()),g.beginPath(),g.moveTo(v,u),o.beginPath(),o.moveTo(v,u),w={x:v,y:u})}var n=a.targetCanvasCtx||this.plotArea.ctx,g=J?this._preRenderCtx:n;if(!(0>=a.dataSeriesIndexes.length)){var q,o=this._eventManager.ghostCtx,l=a.axisX.lineCoordinates,r=a.axisY.lineCoordinates,h=[],s=this.plotArea;g.save(),J&&o.save(),g.beginPath(),g.rect(s.x1,s.y1,s.width,s.height),g.clip(),J&&(o.beginPath(),o.rect(s.x1,s.y1,s.width,s.height),o.clip());for(var d=0;d<a.dataSeriesIndexes.length;d++){var c=a.dataSeriesIndexes[d],x=this.data[c],m=x.dataPoints;h=x.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:c},h=y(h),o.fillStyle=h,h=[],t=!0;var v,u,f,k,p=0,M=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),w=null;if(b=!1,0<m.length){var P=x._colorSet[p%x._colorSet.length],C=x.lineColor=x.options.lineColor||P,S=C;g.fillStyle=P,g.strokeStyle=C,g.lineWidth=x.lineThickness;var _="solid";if(g.setLineDash){var A=T(x.nullDataLineDashType,x.lineThickness),B=T(_=x.lineDashType,x.lineThickness);g.setLineDash(B)}for(;p<m.length;p++)if(!((f=m[p].x.getTime?m[p].x.getTime():m[p].x)<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!b))){var F=u;"number"!=typeof m[p].y?(x.connectNullData||b||t||e(),b=!0):(v=a.axisX.convertValueToPixel(f),u=a.axisY.convertValueToPixel(m[p].y),t||b?(!t&&x.connectNullData?(g.setLineDash&&(x.options.nullDataLineDashType||_===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(t=v,b=u,v=q.x,u=q.y,e(),g.moveTo(q.x,q.y),v=t,u=b,w=q,_=x.nullDataLineDashType,g.setLineDash(A)),g.lineTo(v,F),g.lineTo(v,u),J&&(o.lineTo(v,F),o.lineTo(v,u))):(g.beginPath(),g.moveTo(v,u),J&&(o.beginPath(),o.moveTo(v,u)),w={x:v,y:u}),b=t=!1):(g.lineTo(v,F),J&&o.lineTo(v,F),g.lineTo(v,u),J&&o.lineTo(v,u),0==p%250&&e()),q={x:v,y:u},p<m.length-1&&(S!==(m[p].lineColor||C)||_!==(m[p].lineDashType||x.lineDashType))&&(e(),S=m[p].lineColor||C,g.strokeStyle=S,g.setLineDash&&(m[p].lineDashType?(_=m[p].lineDashType,g.setLineDash(T(_,x.lineThickness))):(_=x.lineDashType,g.setLineDash(B)))),f=x.dataPointIds[p],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:p,x1:v,y1:u},0!==m[p].markerSize&&(0<m[p].markerSize||0<x.markerSize)&&(F=x.getMarkerProperties(p,v,u,g),h.push(F),f=y(f),J&&h.push({x:v,y:u,ctx:o,type:F.type,size:F.size,color:f,borderColor:f,borderThickness:F.borderThickness})),(m[p].indexLabel||x.indexLabel||m[p].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:m[p],dataSeries:x,point:{x:v,y:u},direction:0>m[p].y===a.axisY.reversed?1:-1,color:P}))}e(),nt.drawMarkers(h)}}return J&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&g.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&g.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),g.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderStackedArea=function(a){function t(){if(!(1>f.length)){for(0<P.lineThickness&&e.stroke();0<f.length;){var a=f.pop();e.lineTo(a.x,a.y),J&&u.lineTo(a.x,a.y)}e.closePath(),e.globalAlpha=P.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),J&&(u.closePath(),u.fill(),u.beginPath()),f=[]}}var b=a.targetCanvasCtx||this.plotArea.ctx,e=J?this._preRenderCtx:b;if(!(0>=a.dataSeriesIndexes.length)){var n,o,l,r,h,d=null,g=null,c=[],m=this.plotArea,v=[],f=[],s=[],q=[],k=0,p=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),u=this._eventManager.ghostCtx;J&&u.beginPath(),e.save(),J&&u.save(),e.beginPath(),e.rect(m.x1,m.y1,m.width,m.height),e.clip(),J&&(u.beginPath(),u.rect(m.x1,m.y1,m.width,m.height),u.clip());d=[];for(var M=0;M<a.dataSeriesIndexes.length;M++){var w=a.dataSeriesIndexes[M],P=this.data[w],C=P.dataPoints;for(P.dataPointIndexes=[],k=0;k<C.length;k++)w=C[k].x.getTime?C[k].x.getTime():C[k].x,P.dataPointIndexes[w]=k,d[w]||(s.push(w),d[w]=!0);s.sort(x)}for(M=0;M<a.dataSeriesIndexes.length;M++){if(w=a.dataSeriesIndexes[M],C=(P=this.data[w]).dataPoints,r=!0,f=[],k=P.id,this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:w},k=y(k),u.fillStyle=k,0<s.length){d=P._colorSet[0];var S=P.lineColor=P.options.lineColor||d,_=S;if(e.fillStyle=d,e.strokeStyle=S,e.lineWidth=P.lineThickness,h="solid",e.setLineDash){var A=T(P.nullDataLineDashType,P.lineThickness),B=T(h=P.lineDashType,P.lineThickness);e.setLineDash(B)}var F=!0;for(k=0;k<s.length;k++){g=s[k];var L=0<=P.dataPointIndexes[g]?C[P.dataPointIndexes[g]]:{x:g,y:null};if(!(g<a.axisX.dataInfo.viewPortMin||g>a.axisX.dataInfo.viewPortMax&&(!P.connectNullData||!F)))if("number"!=typeof L.y)P.connectNullData||F||r||t(),F=!0;else{n=a.axisX.convertValueToPixel(g);var I=v[g]?v[g]:0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length){if(q[g]=L.y+(q[g]?q[g]:0),0>=q[g]&&a.axisY.logarithmic)continue;o=a.axisY.convertValueToPixel(q[g])}else o=a.axisY.convertValueToPixel(L.y),o-=I;if(f.push({x:n,y:p-I}),v[g]=p-o,r||F?(!r&&P.connectNullData?(e.setLineDash&&(P.options.nullDataLineDashType||h===P.lineDashType&&P.lineDashType!==P.nullDataLineDashType)&&(r=f.pop(),h=f[f.length-1],t(),e.moveTo(l.x,l.y),f.push(h),f.push(r),h=P.nullDataLineDashType,e.setLineDash(A)),e.lineTo(n,o),J&&u.lineTo(n,o)):(e.beginPath(),e.moveTo(n,o),J&&(u.beginPath(),u.moveTo(n,o))),F=r=!1):(e.lineTo(n,o),J&&u.lineTo(n,o),0==k%250&&(t(),e.moveTo(n,o),J&&u.moveTo(n,o),f.push({x:n,y:p-I}))),l={x:n,y:o},k<C.length-1&&(_!==(C[k].lineColor||S)||h!==(C[k].lineDashType||P.lineDashType))&&(t(),e.beginPath(),e.moveTo(n,o),f.push({x:n,y:p-I}),_=C[k].lineColor||S,e.strokeStyle=_,e.setLineDash&&(C[k].lineDashType?(h=C[k].lineDashType,e.setLineDash(T(h,P.lineThickness))):(h=P.lineDashType,e.setLineDash(B)))),0<=P.dataPointIndexes[g]){var V=P.dataPointIds[P.dataPointIndexes[g]];this._eventManager.objectMap[V]={id:V,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:P.dataPointIndexes[g],x1:n,y1:o}}0<=P.dataPointIndexes[g]&&0!==L.markerSize&&(0<L.markerSize||0<P.markerSize)&&(I=P.getMarkerProperties(P.dataPointIndexes[g],n,o,e),c.push(I),g=y(V),J&&c.push({x:n,y:o,ctx:u,type:I.type,size:I.size,color:g,borderColor:g,borderThickness:I.borderThickness})),(L.indexLabel||P.indexLabel||L.indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:L,dataSeries:P,point:{x:n,y:o},direction:0>C[k].y===a.axisY.reversed?1:-1,color:d})}}t(),e.moveTo(n,o),J&&u.moveTo(n,o)}delete P.dataPointIndexes}return nt.drawMarkers(c),J&&(b.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&e.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&e.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(m.x1,m.y1,m.width,m.height),u.restore()),e.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderStackedArea100=function(a){function t(){for(0<P.lineThickness&&e.stroke();0<m.length;){var a=m.pop();e.lineTo(a.x,a.y),J&&k.lineTo(a.x,a.y)}e.closePath(),e.globalAlpha=P.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),J&&(k.closePath(),k.fill(),k.beginPath()),m=[]}var b=a.targetCanvasCtx||this.plotArea.ctx,e=J?this._preRenderCtx:b;if(!(0>=a.dataSeriesIndexes.length)){var n,o,p,u,l,r=null,g=null,h=this.plotArea,d=[],c=[],m=[],s=[],q=[],v=0,f=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),k=this._eventManager.ghostCtx;e.save(),J&&k.save(),e.beginPath(),e.rect(h.x1,h.y1,h.width,h.height),e.clip(),J&&(k.beginPath(),k.rect(h.x1,h.y1,h.width,h.height),k.clip());r=[];for(var M=0;M<a.dataSeriesIndexes.length;M++){var w=a.dataSeriesIndexes[M],P=this.data[w],C=P.dataPoints;for(P.dataPointIndexes=[],v=0;v<C.length;v++)w=C[v].x.getTime?C[v].x.getTime():C[v].x,P.dataPointIndexes[w]=v,r[w]||(s.push(w),r[w]=!0);s.sort(x)}for(M=0;M<a.dataSeriesIndexes.length;M++){if(w=a.dataSeriesIndexes[M],C=(P=this.data[w]).dataPoints,u=!0,r=P.id,this._eventManager.objectMap[r]={objectType:"dataSeries",dataSeriesIndex:w},r=y(r),k.fillStyle=r,m=[],0<s.length){r=P._colorSet[v%P._colorSet.length];var S=P.lineColor=P.options.lineColor||r,_=S;if(e.fillStyle=r,e.strokeStyle=S,e.lineWidth=P.lineThickness,l="solid",e.setLineDash){var A=T(P.nullDataLineDashType,P.lineThickness),B=T(l=P.lineDashType,P.lineThickness);e.setLineDash(B)}var F=!0;for(v=0;v<s.length;v++){g=s[v];var L=0<=P.dataPointIndexes[g]?C[P.dataPointIndexes[g]]:{x:g,y:null};if(!(g<a.axisX.dataInfo.viewPortMin||g>a.axisX.dataInfo.viewPortMax&&(!P.connectNullData||!F)))if("number"!=typeof L.y)P.connectNullData||F||u||t(),F=!0;else{var I;I=0!==a.dataPointYSums[g]?L.y/a.dataPointYSums[g]*100:0,n=a.axisX.convertValueToPixel(g);var V=c[g]?c[g]:0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length){if(q[g]=I+(q[g]?q[g]:0),0>=q[g]&&a.axisY.logarithmic)continue;o=a.axisY.convertValueToPixel(q[g])}else o=a.axisY.convertValueToPixel(I),o-=V;if(m.push({x:n,y:f-V}),c[g]=f-o,u||F?(!u&&P.connectNullData?(e.setLineDash&&(P.options.nullDataLineDashType||l===P.lineDashType&&P.lineDashType!==P.nullDataLineDashType)&&(u=m.pop(),l=m[m.length-1],t(),e.moveTo(p.x,p.y),m.push(l),m.push(u),l=P.nullDataLineDashType,e.setLineDash(A)),e.lineTo(n,o),J&&k.lineTo(n,o)):(e.beginPath(),e.moveTo(n,o),J&&(k.beginPath(),k.moveTo(n,o))),F=u=!1):(e.lineTo(n,o),J&&k.lineTo(n,o),0==v%250&&(t(),e.moveTo(n,o),J&&k.moveTo(n,o),m.push({x:n,y:f-V}))),p={x:n,y:o},v<C.length-1&&(_!==(C[v].lineColor||S)||l!==(C[v].lineDashType||P.lineDashType))&&(t(),e.beginPath(),e.moveTo(n,o),m.push({x:n,y:f-V}),_=C[v].lineColor||S,e.strokeStyle=_,e.setLineDash&&(C[v].lineDashType?(l=C[v].lineDashType,e.setLineDash(T(l,P.lineThickness))):(l=P.lineDashType,e.setLineDash(B)))),0<=P.dataPointIndexes[g]){var D=P.dataPointIds[P.dataPointIndexes[g]];this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:P.dataPointIndexes[g],x1:n,y1:o}}0<=P.dataPointIndexes[g]&&0!==L.markerSize&&(0<L.markerSize||0<P.markerSize)&&(V=P.getMarkerProperties(v,n,o,e),d.push(V),g=y(D),J&&d.push({x:n,y:o,ctx:k,type:V.type,size:V.size,color:g,borderColor:g,borderThickness:V.borderThickness})),(L.indexLabel||P.indexLabel||L.indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:L,dataSeries:P,point:{x:n,y:o},direction:0>C[v].y===a.axisY.reversed?1:-1,color:r})}}t(),e.moveTo(n,o),J&&k.moveTo(n,o)}delete P.dataPointIndexes}return nt.drawMarkers(d),J&&(b.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&e.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&e.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(h.x1,h.y1,h.width,h.height),k.restore()),e.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderBubble=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var g,e,n=this.plotArea,o=0;b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var l=-1/0,r=1/0,h=0;h<a.dataSeriesIndexes.length;h++){var s=a.dataSeriesIndexes[h],q=this.data[s],d=q.dataPoints,c=0;for(o=0;o<d.length;o++)(g=g=d[o].getTime?d[o].x.getTime():d[o].x)<a.axisX.dataInfo.viewPortMin||g>a.axisX.dataInfo.viewPortMax||void 0===d[o].z||((c=d[o].z)>l&&(l=c),c<r&&(r=c))}var x=25*Math.PI,p=Math.max(Math.pow(.25*Math.min(n.height,n.width)/2,2)*Math.PI,x);for(h=0;h<a.dataSeriesIndexes.length;h++)if(s=a.dataSeriesIndexes[h],0<(d=(q=this.data[s]).dataPoints).length)for(b.strokeStyle="#4572A7 ",o=0;o<d.length;o++)if(!((g=g=d[o].getTime?d[o].x.getTime():d[o].x)<a.axisX.dataInfo.viewPortMin||g>a.axisX.dataInfo.viewPortMax)&&"number"==typeof d[o].y){g=a.axisX.convertValueToPixel(g),e=a.axisY.convertValueToPixel(d[o].y);c=d[o].z;var u=2*Math.max(Math.sqrt((l===r?p/2:x+(p-x)/(l-r)*(c-r))/Math.PI)<<0,1);(c=q.getMarkerProperties(o,b)).size=u,b.globalAlpha=q.fillOpacity,nt.drawMarker(g,e,b,c.type,c.size,c.color,c.borderColor,c.borderThickness),b.globalAlpha=1;var m=q.dataPointIds[o];this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:o,x1:g,y1:e,size:u},u=y(m),J&&nt.drawMarker(g,e,this._eventManager.ghostCtx,c.type,c.size,u,u,c.borderThickness),(d[o].indexLabel||q.indexLabel||d[o].indexLabelFormatter||q.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:d[o],dataSeries:q,point:{x:g,y:e},direction:1,bounds:{x1:g-c.size/2,y1:e-c.size/2,x2:g+c.size/2,y2:e+c.size/2},color:null})}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}},p.prototype.renderScatter=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var g,e,n=this.plotArea,o=0;b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(n.x1,n.y1,n.width,n.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var l=0;l<a.dataSeriesIndexes.length;l++){var r=a.dataSeriesIndexes[l],h=this.data[r],s=h.dataPoints;if(0<s.length){b.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(n.height,n.width)/2,2);var q=0,d=0;for(o=0;o<s.length;o++)if(!((g=g=s[o].getTime?s[o].x.getTime():s[o].x)<a.axisX.dataInfo.viewPortMin||g>a.axisX.dataInfo.viewPortMax)&&"number"==typeof s[o].y){g=a.axisX.convertValueToPixel(g),e=a.axisY.convertValueToPixel(s[o].y);var c=h.getMarkerProperties(o,g,e,b);b.globalAlpha=h.fillOpacity,nt.drawMarker(c.x,c.y,c.ctx,c.type,c.size,c.color,c.borderColor,c.borderThickness),b.globalAlpha=1,Math.sqrt((q-g)*(q-g)+(d-e)*(d-e))<Math.min(c.size,5)&&s.length>Math.min(this.plotArea.width,this.plotArea.height)||(q=h.dataPointIds[o],this._eventManager.objectMap[q]={id:q,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:o,x1:g,y1:e},q=y(q),J&&nt.drawMarker(c.x,c.y,this._eventManager.ghostCtx,c.type,c.size,q,q,c.borderThickness),(s[o].indexLabel||h.indexLabel||s[o].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:s[o],dataSeries:h,point:{x:g,y:e},direction:1,bounds:{x1:g-c.size/2,y1:e-c.size/2,x2:g+c.size/2,y2:e+c.size/2},color:null}),q=g,d=e)}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}},p.prototype.renderCandlestick=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t,e=this._eventManager.ghostCtx;if(!(0>=a.dataSeriesIndexes.length)){var n,o,s,q,l,r,h=null,g=null,d=this.plotArea,c=0,x=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,a.axisX.dataInfo.minDiff);isFinite(x)||(x=.3*Math.abs(a.axisX.range)),x=this.options.dataPointWidth?this.dataPointWidth:.7*d.width*(a.axisX.logarithmic?Math.log(x)/Math.log(a.axisX.range):Math.abs(x)/Math.abs(a.axisX.range))<<0,this.dataPointMaxWidth&&h>g&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<h&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),x<h&&(x=h),x>g&&(x=g),b.save(),J&&e.save(),b.beginPath(),b.rect(d.x1,d.y1,d.width,d.height),b.clip(),J&&(e.beginPath(),e.rect(d.x1,d.y1,d.width,d.height),e.clip());for(var p=0;p<a.dataSeriesIndexes.length;p++){var m=a.dataSeriesIndexes[p],v=this.data[m],f=v.dataPoints;if(0<f.length){var k=!!(5<x&&v.bevelEnabled);for(c=0;c<f.length;c++)if(!((r=f[c].getTime?f[c].x.getTime():f[c].x)<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax)&&!u(f[c].y)&&f[c].y.length&&"number"==typeof f[c].y[0]&&"number"==typeof f[c].y[1]&&"number"==typeof f[c].y[2]&&"number"==typeof f[c].y[3]){n=a.axisX.convertValueToPixel(r),o=a.axisY.convertValueToPixel(f[c].y[0]),s=a.axisY.convertValueToPixel(f[c].y[1]),q=a.axisY.convertValueToPixel(f[c].y[2]),l=a.axisY.convertValueToPixel(f[c].y[3]);var M=n-x/2<<0,T=M+x<<0,w=(g=v.options.fallingColor?v.fallingColor:v._colorSet[0],h=f[c].color?f[c].color:v._colorSet[0],Math.round(Math.max(1,.15*x))),P=0==w%2?0:.5,C=v.dataPointIds[c];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:c,x1:M,y1:o,x2:T,y2:s,x3:n,y3:q,x4:n,y4:l,borderThickness:w,color:h},b.strokeStyle=h,b.beginPath(),b.lineWidth=w,e.lineWidth=Math.max(w,4),"candlestick"===v.type?(b.moveTo(n-P,s),b.lineTo(n-P,Math.min(o,l)),b.stroke(),b.moveTo(n-P,Math.max(o,l)),b.lineTo(n-P,q),b.stroke(),kt(b,M,Math.min(o,l),T,Math.max(o,l),f[c].y[0]<=f[c].y[3]?v.risingColor:g,w,h,k,k,!1,!1,v.fillOpacity),J&&(h=y(C),e.strokeStyle=h,e.moveTo(n-P,s),e.lineTo(n-P,Math.min(o,l)),e.stroke(),e.moveTo(n-P,Math.max(o,l)),e.lineTo(n-P,q),e.stroke(),kt(e,M,Math.min(o,l),T,Math.max(o,l),h,0,null,!1,!1,!1,!1))):"ohlc"===v.type&&(b.moveTo(n-P,s),b.lineTo(n-P,q),b.stroke(),b.beginPath(),b.moveTo(n,o),b.lineTo(M,o),b.stroke(),b.beginPath(),b.moveTo(n,l),b.lineTo(T,l),b.stroke(),J&&(h=y(C),e.strokeStyle=h,e.moveTo(n-P,s),e.lineTo(n-P,q),e.stroke(),e.beginPath(),e.moveTo(n,o),e.lineTo(M,o),e.stroke(),e.beginPath(),e.moveTo(n,l),e.lineTo(T,l),e.stroke())),(f[c].indexLabel||v.indexLabel||f[c].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:v.type,dataPoint:f[c],dataSeries:v,point:{x:M+(T-M)/2,y:a.axisY.reversed?q:s},direction:1,bounds:{x1:M,y1:Math.min(s,q),x2:T,y2:Math.max(s,q)},color:h})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(d.x1,d.y1,d.width,d.height),e.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}},p.prototype.renderBoxAndWhisker=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t,e=this._eventManager.ghostCtx;if(!(0>=a.dataSeriesIndexes.length)){var n,o,l,s,q,r,h,d=null,g=this.plotArea,c=0,x=(d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,a.axisX.dataInfo.minDiff);isFinite(x)||(x=.3*Math.abs(a.axisX.range)),x=this.options.dataPointWidth?this.dataPointWidth:.7*g.width*(a.axisX.logarithmic?Math.log(x)/Math.log(a.axisX.range):Math.abs(x)/Math.abs(a.axisX.range))<<0,this.dataPointMaxWidth&&d>c&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<d&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),x<d&&(x=d),x>c&&(x=c),b.save(),J&&e.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),J&&(e.beginPath(),e.rect(g.x1,g.y1,g.width,g.height),e.clip());for(var p=!!a.axisY.reversed,m=0;m<a.dataSeriesIndexes.length;m++){var v=a.dataSeriesIndexes[m],f=this.data[v],k=f.dataPoints;if(0<k.length){var M=!!(5<x&&f.bevelEnabled);for(c=0;c<k.length;c++)if(!((h=k[c].getTime?k[c].x.getTime():k[c].x)<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax)&&!u(k[c].y)&&k[c].y.length&&"number"==typeof k[c].y[0]&&"number"==typeof k[c].y[1]&&"number"==typeof k[c].y[2]&&"number"==typeof k[c].y[3]&&"number"==typeof k[c].y[4]&&5===k[c].y.length){n=a.axisX.convertValueToPixel(h),o=a.axisY.convertValueToPixel(k[c].y[0]),l=a.axisY.convertValueToPixel(k[c].y[1]),s=a.axisY.convertValueToPixel(k[c].y[2]),q=a.axisY.convertValueToPixel(k[c].y[3]),r=a.axisY.convertValueToPixel(k[c].y[4]);var w=n-x/2<<0,P=n+x/2<<0,C=(d=k[c].color?k[c].color:f._colorSet[0],Math.round(Math.max(1,.15*x))),S=0==C%2?0:.5,_=k[c].whiskerColor?k[c].whiskerColor:k[c].color?f.whiskerColor?f.whiskerColor:k[c].color:f.whiskerColor?f.whiskerColor:d,A="number"==typeof k[c].whiskerThickness?k[c].whiskerThickness:"number"==typeof f.options.whiskerThickness?f.whiskerThickness:C,B=k[c].whiskerDashType?k[c].whiskerDashType:f.whiskerDashType,F="number"==typeof(F=u(k[c].whiskerLength)?u(f.options.whiskerLength)?x:f.whiskerLength:k[c].whiskerLength)?0>=F?0:F>=x?x:F:"string"==typeof F?parseInt(F)*x/100>x?x:parseInt(F)*x/100:x,L=1==Math.round(A)%2?.5:0,I=k[c].stemColor?k[c].stemColor:k[c].color?f.stemColor?f.stemColor:k[c].color:f.stemColor?f.stemColor:d,V="number"==typeof k[c].stemThickness?k[c].stemThickness:"number"==typeof f.options.stemThickness?f.stemThickness:C,D=1==Math.round(V)%2?.5:0,W=k[c].stemDashType?k[c].stemDashType:f.stemDashType,z=k[c].lineColor?k[c].lineColor:k[c].color?f.lineColor?f.lineColor:k[c].color:f.lineColor?f.lineColor:d,X="number"==typeof k[c].lineThickness?k[c].lineThickness:"number"==typeof f.options.lineThickness?f.lineThickness:C,Y=k[c].lineDashType?k[c].lineDashType:f.lineDashType,E=1==Math.round(X)%2?.5:0,O=f.upperBoxColor,R=f.lowerBoxColor,N=u(f.options.fillOpacity)?1:f.fillOpacity,H=f.dataPointIds[c];this._eventManager.objectMap[H]={id:H,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:c,x1:w,y1:o,x2:P,y2:l,x3:n,y3:s,x4:n,y4:q,y5:r,borderThickness:C,color:d,stemThickness:V,stemColor:I,whiskerThickness:A,whiskerLength:F,whiskerColor:_,lineThickness:X,lineColor:z},b.save(),0<V&&(b.beginPath(),b.strokeStyle=I,b.lineWidth=V,b.setLineDash&&b.setLineDash(T(W,V)),b.moveTo(n-D,l),b.lineTo(n-D,o),b.stroke(),b.moveTo(n-D,q),b.lineTo(n-D,s),b.stroke()),b.restore(),e.lineWidth=Math.max(C,4),b.beginPath(),kt(b,w,Math.min(r,l),P,Math.max(l,r),R,0,d,!!p&&M,!p&&M,!1,!1,N),b.beginPath(),kt(b,w,Math.min(s,r),P,Math.max(r,s),O,0,d,!p&&M,!!p&&M,!1,!1,N),b.beginPath(),b.lineWidth=C,b.strokeStyle=d,b.rect(w-S,Math.min(l,s)-S,P-w+2*S,Math.max(l,s)-Math.min(l,s)+2*S),b.stroke(),b.save(),0<X&&(b.beginPath(),b.globalAlpha=1,b.setLineDash&&b.setLineDash(T(Y,X)),b.strokeStyle=z,b.lineWidth=X,b.moveTo(w,r-E),b.lineTo(P,r-E),b.stroke()),b.restore(),b.save(),0<A&&(b.beginPath(),b.setLineDash&&b.setLineDash(T(B,A)),b.strokeStyle=_,b.lineWidth=A,b.moveTo(n-F/2<<0,q-L),b.lineTo(n+F/2<<0,q-L),b.stroke(),b.moveTo(n-F/2<<0,o+L),b.lineTo(n+F/2<<0,o+L),b.stroke()),b.restore(),J&&(d=y(H),e.strokeStyle=d,e.lineWidth=V,0<V&&(e.moveTo(n-S-D,l),e.lineTo(n-S-D,Math.max(o,q)),e.stroke(),e.moveTo(n-S-D,Math.min(o,q)),e.lineTo(n-S-D,s),e.stroke()),kt(e,w,Math.max(l,s),P,Math.min(l,s),d,0,null,!1,!1,!1,!1),0<A&&(e.beginPath(),e.lineWidth=A,e.moveTo(n+F/2,q-L),e.lineTo(n-F/2,q-L),e.stroke(),e.moveTo(n+F/2,o+L),e.lineTo(n-F/2,o+L),e.stroke())),(k[c].indexLabel||f.indexLabel||k[c].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:f.type,dataPoint:k[c],dataSeries:f,point:{x:w+(P-w)/2,y:a.axisY.reversed?o:q},direction:1,bounds:{x1:w,y1:Math.min(o,q),x2:P,y2:Math.max(o,q)},color:d})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(g.x1,g.y1,g.width,g.height),e.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}},p.prototype.renderRangeColumn=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var e,n,o,l=null,r=this.plotArea,g=0;g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;e=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var h=a.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(a.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:r.width*(a.axisX.logarithmic?Math.log(h)/Math.log(a.axisX.range):Math.abs(h)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&g>e&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,e)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&e<g&&(e=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),h<g&&(h=g),h>e&&(h=e),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(r.x1,r.y1,r.width,r.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var s=0;s<a.dataSeriesIndexes.length;s++){var q=a.dataSeriesIndexes[s],d=this.data[q],c=d.dataPoints;if(0<c.length){var x=!!(5<h&&d.bevelEnabled);for(g=0;g<c.length;g++)if(!((o=c[g].getTime?c[g].x.getTime():c[g].x)<a.axisX.dataInfo.viewPortMin||o>a.axisX.dataInfo.viewPortMax)&&!u(c[g].y)&&c[g].y.length&&"number"==typeof c[g].y[0]&&"number"==typeof c[g].y[1]){l=a.axisX.convertValueToPixel(o),e=a.axisY.convertValueToPixel(c[g].y[0]),n=a.axisY.convertValueToPixel(c[g].y[1]);var p=a.axisX.reversed?l+a.plotType.totalDataSeries*h/2-(a.previousDataSeriesCount+s)*h<<0:l-a.plotType.totalDataSeries*h/2+(a.previousDataSeriesCount+s)*h<<0,m=a.axisX.reversed?p-h<<0:p+h<<0;l=c[g].color?c[g].color:d._colorSet[g%d._colorSet.length];if(e>n){var v=e;e=n,n=v}v=d.dataPointIds[g],this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:g,x1:p,y1:e,x2:m,y2:n},kt(b,p,e,m,n,l,0,l,x,x,!1,!1,d.fillOpacity),l=y(v),J&&kt(this._eventManager.ghostCtx,p,e,m,n,l,0,null,!1,!1,!1,!1),(c[g].indexLabel||d.indexLabel||c[g].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:c[g],dataSeries:d,indexKeyword:0,point:{x:p+(m-p)/2,y:c[g].y[1]>=c[g].y[0]?n:e},direction:c[g].y[1]>=c[g].y[0]?-1:1,bounds:{x1:p,y1:Math.min(e,n),x2:m,y2:Math.max(e,n)},color:l}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:c[g],dataSeries:d,indexKeyword:1,point:{x:p+(m-p)/2,y:c[g].y[1]>=c[g].y[0]?e:n},direction:c[g].y[1]>=c[g].y[0]?1:-1,bounds:{x1:p,y1:Math.min(e,n),x2:m,y2:Math.max(e,n)},color:l}))}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}},p.prototype.renderError=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t,e=!!a.axisY._position&&("left"!==a.axisY._position&&"right"!==a.axisY._position);if(!(0>=a.dataSeriesIndexes.length)){var n,l,s,q,r,h,d,c=null,g=!1,x=this.plotArea,m=0,p=a.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(a.axisX.range)),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(x.x1,x.y1,x.width,x.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.clip());for(var y=0,v=0;v<this.data.length;v++)!this.data[v].type.match(/(bar|column)/gi)||!this.data[v].visible||this.data[v].type.match(/(stacked)/gi)&&y||y++;for(var f=0;f<a.dataSeriesIndexes.length;f++){var k=a.dataSeriesIndexes[f],M=this.data[k],T=M.dataPoints,w=!u(M._linkedSeries)&&!(!M._linkedSeries.type.match(/(bar|column)/gi)||!M._linkedSeries.visible),P=0;if(w)for(c=M._linkedSeries.id,v=0;v<c;v++)!this.data[v].type.match(/(bar|column)/gi)||!this.data[v].visible||this.data[v].type.match(/(stacked)/gi)&&P||(this.data[v].type.match(/(range)/gi)&&(g=!0),P++);if(c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,this.plotArea.height/(w?y:1)*.9)<<0:.3*this.width,g&&(m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,this.plotArea.height/(w?y:1)*.9)<<0:.03*this.width),v=this.options.dataPointWidth?this.dataPointWidth:(e?x.height:x.width)*(a.axisX.logarithmic?Math.log(p)/Math.log(a.axisX.range):Math.abs(p)/Math.abs(a.axisX.range))/(w?y:1)*.9<<0,this.dataPointMaxWidth&&c>m&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<c&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),v<c&&(v=c),v>m&&(v=m),0<T.length){var C=M._colorSet;for(m=0;m<T.length;m++){c=M.lineColor=M.options.color?M.options.color:C[0];var S={color:T[m].whiskerColor?T[m].whiskerColor:T[m].color?M.whiskerColor?M.whiskerColor:T[m].color:M.whiskerColor?M.whiskerColor:c,thickness:u(T[m].whiskerThickness)?M.whiskerThickness:T[m].whiskerThickness,dashType:T[m].whiskerDashType?T[m].whiskerDashType:M.whiskerDashType,length:u(T[m].whiskerLength)?u(M.options.whiskerLength)?v:M.options.whiskerLength:T[m].whiskerLength,trimLength:u(T[m].whiskerLength)&&u(M.options.whiskerLength)?50:0};S.length="number"==typeof S.length?0>=S.length?0:S.length>=v?v:S.length:"string"==typeof S.length?parseInt(S.length)*v/100>v?v:parseInt(S.length)*v/100>v:v,S.thickness="number"==typeof S.thickness?0>S.thickness?0:Math.round(S.thickness):2;var _={color:T[m].stemColor?T[m].stemColor:T[m].color?M.stemColor?M.stemColor:T[m].color:M.stemColor?M.stemColor:c,thickness:T[m].stemThickness?T[m].stemThickness:M.stemThickness,dashType:T[m].stemDashType?T[m].stemDashType:M.stemDashType};if(_.thickness="number"==typeof _.thickness?0>_.thickness?0:Math.round(_.thickness):2,!((d=T[m].getTime?T[m].x.getTime():T[m].x)<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&!u(T[m].y)&&T[m].y.length&&"number"==typeof T[m].y[0]&&"number"==typeof T[m].y[1]){var A=a.axisX.convertValueToPixel(d);e?l=A:n=A,A=a.axisY.convertValueToPixel(T[m].y[0]),e?s=A:r=A,A=a.axisY.convertValueToPixel(T[m].y[1]),e?q=A:h=A,e?(r=a.axisX.reversed?l+(w?y:1)*v/2-(w?P-1:0)*v<<0:l-(w?y:1)*v/2+(w?P-1:0)*v<<0,h=a.axisX.reversed?r-v<<0:r+v<<0):(s=a.axisX.reversed?n+(w?y:1)*v/2-(w?P-1:0)*v<<0:n-(w?y:1)*v/2+(w?P-1:0)*v<<0,q=a.axisX.reversed?s-v<<0:s+v<<0),!e&&r>h&&(A=r,r=h,h=A),e&&s>q&&(A=s,s=q,q=A),A=M.dataPointIds[m],this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:m,x1:Math.min(s,q),y1:Math.min(r,h),x2:Math.max(q,s),y2:Math.max(h,r),isXYSwapped:e,stemProperties:_,whiskerProperties:S},o(b,Math.min(s,q),Math.min(r,h),Math.max(q,s),Math.max(h,r),c,S,_,e),J&&o(this._eventManager.ghostCtx,s,r,q,h,c,S,_,e),(T[m].indexLabel||M.indexLabel||T[m].indexLabelFormatter||M.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:T[m],dataSeries:M,indexKeyword:0,point:{x:e?T[m].y[1]>=T[m].y[0]?s:q:s+(q-s)/2,y:e?r+(h-r)/2:T[m].y[1]>=T[m].y[0]?h:r},direction:T[m].y[1]>=T[m].y[0]?-1:1,bounds:{x1:e?Math.min(s,q):s,y1:e?r:Math.min(r,h),x2:e?Math.max(s,q):q,y2:e?h:Math.max(r,h)},color:c,axisSwapped:e}),this._indexLabels.push({chartType:"error",dataPoint:T[m],dataSeries:M,indexKeyword:1,point:{x:e?T[m].y[1]>=T[m].y[0]?q:s:s+(q-s)/2,y:e?r+(h-r)/2:T[m].y[1]>=T[m].y[0]?r:h},direction:T[m].y[1]>=T[m].y[0]?1:-1,bounds:{x1:e?Math.min(s,q):s,y1:e?r:Math.min(r,h),x2:e?Math.max(s,q):q,y2:e?h:Math.max(r,h)},color:c,axisSwapped:e}))}}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}},p.prototype.renderRangeBar=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var e,n,o,l,r=null,h=this.plotArea,g=0;g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;e=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/a.plotType.totalDataSeries*.9)<<0;var s=a.axisX.dataInfo.minDiff;isFinite(s)||(s=.3*Math.abs(a.axisX.range)),s=this.options.dataPointWidth?this.dataPointWidth:h.height*(a.axisX.logarithmic?Math.log(s)/Math.log(a.axisX.range):Math.abs(s)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&g>e&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,e)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&e<g&&(e=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),s<g&&(s=g),s>e&&(s=e),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(h.x1,h.y1,h.width,h.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var q=0;q<a.dataSeriesIndexes.length;q++){var d=a.dataSeriesIndexes[q],c=this.data[d],x=c.dataPoints;if(0<x.length){var p=!!(5<s&&c.bevelEnabled);for(b.strokeStyle="#4572A7 ",g=0;g<x.length;g++)if(!((l=x[g].getTime?x[g].x.getTime():x[g].x)<a.axisX.dataInfo.viewPortMin||l>a.axisX.dataInfo.viewPortMax)&&!u(x[g].y)&&x[g].y.length&&"number"==typeof x[g].y[0]&&"number"==typeof x[g].y[1]){e=a.axisY.convertValueToPixel(x[g].y[0]),n=a.axisY.convertValueToPixel(x[g].y[1]),o=a.axisX.convertValueToPixel(l),o=a.axisX.reversed?o+a.plotType.totalDataSeries*s/2-(a.previousDataSeriesCount+q)*s<<0:o-a.plotType.totalDataSeries*s/2+(a.previousDataSeriesCount+q)*s<<0;var m=a.axisX.reversed?o-s<<0:o+s<<0;e>n&&(r=e,e=n,n=r),r=x[g].color?x[g].color:c._colorSet[g%c._colorSet.length],kt(b,e,o,n,m,r,0,null,p,!1,!1,!1,c.fillOpacity),r=c.dataPointIds[g],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:g,x1:e,y1:o,x2:n,y2:m},r=y(r),J&&kt(this._eventManager.ghostCtx,e,o,n,m,r,0,null,!1,!1,!1,!1),(x[g].indexLabel||c.indexLabel||x[g].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:x[g],dataSeries:c,indexKeyword:0,point:{x:x[g].y[1]>=x[g].y[0]?e:n,y:o+(m-o)/2},direction:x[g].y[1]>=x[g].y[0]?-1:1,bounds:{x1:Math.min(e,n),y1:o,x2:Math.max(e,n),y2:m},color:r}),this._indexLabels.push({chartType:"rangeBar",dataPoint:x[g],dataSeries:c,indexKeyword:1,point:{x:x[g].y[1]>=x[g].y[0]?n:e,y:o+(m-o)/2},direction:x[g].y[1]>=x[g].y[0]?1:-1,bounds:{x1:Math.min(e,n),y1:o,x2:Math.max(e,n),y2:m},color:r}))}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}},p.prototype.renderRangeArea=function(a){function t(){if(v){var a=null;0<s.lineThickness&&e.stroke();for(var b=r.length-1;0<=b;b--)a=r[b],e.lineTo(a.x,a.y),n.lineTo(a.x,a.y);if(e.closePath(),e.globalAlpha=s.fillOpacity,e.fill(),e.globalAlpha=1,n.fill(),0<s.lineThickness){for(e.beginPath(),e.moveTo(a.x,a.y),b=0;b<r.length;b++)a=r[b],e.lineTo(a.x,a.y);e.stroke()}e.beginPath(),e.moveTo(d,p),n.beginPath(),n.moveTo(d,p),v={x:d,y:p},(r=[]).push({x:d,y:u})}}var b=a.targetCanvasCtx||this.plotArea.ctx,e=J?this._preRenderCtx:b;if(!(0>=a.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,g=[],o=this.plotArea;e.save(),J&&n.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),J&&(n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip());for(var l=0;l<a.dataSeriesIndexes.length;l++){var r=[],h=a.dataSeriesIndexes[l],s=this.data[h],q=s.dataPoints;g=s.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:h},g=y(g),n.fillStyle=g;g=[];var d,p,u,c,x=!0,m=0,v=null;if(0<q.length){var f=s._colorSet[m%s._colorSet.length],k=s.lineColor=s.options.lineColor||f,M=k;e.fillStyle=f,e.strokeStyle=k,e.lineWidth=s.lineThickness;var w="solid";if(e.setLineDash){var P=T(s.nullDataLineDashType,s.lineThickness),C=T(w=s.lineDashType,s.lineThickness);e.setLineDash(C)}for(var S=!0;m<q.length;m++)if(!((c=q[m].x.getTime?q[m].x.getTime():q[m].x)<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax&&(!s.connectNullData||!S)))if(null!==q[m].y&&q[m].y.length&&"number"==typeof q[m].y[0]&&"number"==typeof q[m].y[1]){if(d=a.axisX.convertValueToPixel(c),p=a.axisY.convertValueToPixel(q[m].y[0]),u=a.axisY.convertValueToPixel(q[m].y[1]),x||S?(s.connectNullData&&!x?(e.setLineDash&&(s.options.nullDataLineDashType||w===s.lineDashType&&s.lineDashType!==s.nullDataLineDashType)&&(r[r.length-1].newLineDashArray=C,w=s.nullDataLineDashType,e.setLineDash(P)),e.lineTo(d,p),J&&n.lineTo(d,p),r.push({x:d,y:u})):(e.beginPath(),e.moveTo(d,p),v={x:d,y:p},(r=[]).push({x:d,y:u}),J&&(n.beginPath(),n.moveTo(d,p))),S=x=!1):(e.lineTo(d,p),r.push({x:d,y:u}),J&&n.lineTo(d,p),0==m%250&&t()),c=s.dataPointIds[m],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:m,x1:d,y1:p,y2:u},m<q.length-1&&(M!==(q[m].lineColor||k)||w!==(q[m].lineDashType||s.lineDashType))&&(t(),M=q[m].lineColor||k,r[r.length-1].newStrokeStyle=M,e.strokeStyle=M,e.setLineDash&&(q[m].lineDashType?(w=q[m].lineDashType,r[r.length-1].newLineDashArray=T(w,s.lineThickness),e.setLineDash(r[r.length-1].newLineDashArray)):(w=s.lineDashType,r[r.length-1].newLineDashArray=C,e.setLineDash(C)))),0!==q[m].markerSize&&(0<q[m].markerSize||0<s.markerSize)){var _=s.getMarkerProperties(m,d,u,e);g.push(_);var A=y(c);J&&g.push({x:d,y:u,ctx:n,type:_.type,size:_.size,color:A,borderColor:A,borderThickness:_.borderThickness}),_=s.getMarkerProperties(m,d,p,e),g.push(_),A=y(c),J&&g.push({x:d,y:p,ctx:n,type:_.type,size:_.size,color:A,borderColor:A,borderThickness:_.borderThickness})}(q[m].indexLabel||s.indexLabel||q[m].indexLabelFormatter||s.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:q[m],dataSeries:s,indexKeyword:0,point:{x:d,y:p},direction:q[m].y[0]>q[m].y[1]===a.axisY.reversed?-1:1,color:f}),this._indexLabels.push({chartType:"rangeArea",dataPoint:q[m],dataSeries:s,indexKeyword:1,point:{x:d,y:u},direction:q[m].y[0]>q[m].y[1]===a.axisY.reversed?1:-1,color:f}))}else S||x||t(),S=!0;t(),nt.drawMarkers(g)}}return J&&(b.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&e.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&e.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderRangeSplineArea=function(a){function t(a,b){var t=n(u,2);if(0<t.length){if(0<d.lineThickness){e.strokeStyle=b,e.setLineDash&&e.setLineDash(a),e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var l=0;l<t.length-3;l+=3)(t[l].newStrokeStyle||t[l].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(t[l].x,t[l].y),t[l].newStrokeStyle&&(e.strokeStyle=t[l].newStrokeStyle),t[l].newLineDashArray&&e.setLineDash(t[l].newLineDashArray)),e.bezierCurveTo(t[l+1].x,t[l+1].y,t[l+2].x,t[l+2].y,t[l+3].x,t[l+3].y);e.stroke()}for(e.beginPath(),e.moveTo(t[0].x,t[0].y),J&&(o.beginPath(),o.moveTo(t[0].x,t[0].y)),l=0;l<t.length-3;l+=3)e.bezierCurveTo(t[l+1].x,t[l+1].y,t[l+2].x,t[l+2].y,t[l+3].x,t[l+3].y),J&&o.bezierCurveTo(t[l+1].x,t[l+1].y,t[l+2].x,t[l+2].y,t[l+3].x,t[l+3].y);for(t=n(v,2),e.lineTo(v[v.length-1].x,v[v.length-1].y),l=t.length-1;2<l;l-=3)e.bezierCurveTo(t[l-1].x,t[l-1].y,t[l-2].x,t[l-2].y,t[l-3].x,t[l-3].y),J&&o.bezierCurveTo(t[l-1].x,t[l-1].y,t[l-2].x,t[l-2].y,t[l-3].x,t[l-3].y);if(e.closePath(),e.globalAlpha=d.fillOpacity,e.fill(),J&&(o.closePath(),o.fill()),e.globalAlpha=1,0<d.lineThickness){e.strokeStyle=b,e.setLineDash&&e.setLineDash(a),e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var g=l=0;l<t.length-3;l+=3,g++)(u[g].newStrokeStyle||u[g].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(t[l].x,t[l].y),u[g].newStrokeStyle&&(e.strokeStyle=u[g].newStrokeStyle),u[g].newLineDashArray&&e.setLineDash(u[g].newLineDashArray)),e.bezierCurveTo(t[l+1].x,t[l+1].y,t[l+2].x,t[l+2].y,t[l+3].x,t[l+3].y);e.stroke()}e.beginPath()}}var b=a.targetCanvasCtx||this.plotArea.ctx,e=J?this._preRenderCtx:b;if(!(0>=a.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,g=[],l=this.plotArea;e.save(),J&&o.save(),e.beginPath(),e.rect(l.x1,l.y1,l.width,l.height),e.clip(),J&&(o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip());for(var r=0;r<a.dataSeriesIndexes.length;r++){var h=a.dataSeriesIndexes[r],d=this.data[h],c=d.dataPoints;g=d.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:h},g=y(g),o.fillStyle=g;g=[];var x,m,p,q=0,u=[],v=[];if(0<c.length){var f=d._colorSet[q%d._colorSet.length],k=d.lineColor=d.options.lineColor||f,M=k;e.fillStyle=f,e.lineWidth=d.lineThickness;var w,P="solid";if(e.setLineDash){var C=T(d.nullDataLineDashType,d.lineThickness);w=T(P=d.lineDashType,d.lineThickness)}for(m=!1;q<c.length;q++)if(!((x=c[q].x.getTime?c[q].x.getTime():c[q].x)<a.axisX.dataInfo.viewPortMin||x>a.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!m)))if(null!==c[q].y&&c[q].y.length&&"number"==typeof c[q].y[0]&&"number"==typeof c[q].y[1]){x=a.axisX.convertValueToPixel(x),m=a.axisY.convertValueToPixel(c[q].y[0]),p=a.axisY.convertValueToPixel(c[q].y[1]);var S=d.dataPointIds[q];if(this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:q,x1:x,y1:m,y2:p},u[u.length]={x:x,y:m},v[v.length]={x:x,y:p},q<c.length-1&&(M!==(c[q].lineColor||k)||P!==(c[q].lineDashType||d.lineDashType))&&(M=c[q].lineColor||k,u[u.length-1].newStrokeStyle=M,e.setLineDash&&(c[q].lineDashType?(P=c[q].lineDashType,u[u.length-1].newLineDashArray=T(P,d.lineThickness)):(P=d.lineDashType,u[u.length-1].newLineDashArray=w))),0!==c[q].markerSize&&(0<c[q].markerSize||0<d.markerSize)){var _=d.getMarkerProperties(q,x,m,e);g.push(_);var A=y(S);J&&g.push({x:x,y:m,ctx:o,type:_.type,size:_.size,color:A,borderColor:A,borderThickness:_.borderThickness}),_=d.getMarkerProperties(q,x,p,e),g.push(_),A=y(S),J&&g.push({x:x,y:p,ctx:o,type:_.type,size:_.size,color:A,borderColor:A,borderThickness:_.borderThickness})}(c[q].indexLabel||d.indexLabel||c[q].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[q],dataSeries:d,indexKeyword:0,point:{x:x,y:m},direction:c[q].y[0]<=c[q].y[1]?-1:1,color:f}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[q],dataSeries:d,indexKeyword:1,point:{x:x,y:p},direction:c[q].y[0]<=c[q].y[1]?1:-1,color:f})),m=!1}else 0<q&&!m&&(d.connectNullData?e.setLineDash&&0<u.length&&(d.options.nullDataLineDashType||!c[q-1].lineDashType)&&(u[u.length-1].newLineDashArray=C,P=d.nullDataLineDashType):(t(w,k),u=[],v=[])),m=!0;t(w,k),nt.drawMarkers(g)}}return J&&(b.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&e.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&e.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:b,dest:this.plotArea.ctx,animationCallback:st.xClipAnimation,easingFunction:st.easing.linear,animationBase:0}}},p.prototype.renderWaterfall=function(a){var t=a.targetCanvasCtx||this.plotArea.ctx,b=J?this._preRenderCtx:t;if(!(0>=a.dataSeriesIndexes.length)){var e,n,o,s,l=this._eventManager.ghostCtx,r=null,g=this.plotArea,h=0,q=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;n=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/a.plotType.totalDataSeries*.9)<<0;var d=a.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(a.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:g.width*(a.axisX.logarithmic?Math.log(d)/Math.log(a.axisX.range):Math.abs(d)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&h>n&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<h&&(n=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),d<h&&(d=h),d>n&&(d=n),b.save(),J&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),J&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var c=0;c<a.dataSeriesIndexes.length;c++){var p=a.dataSeriesIndexes[c],u=this.data[p],x=u.dataPoints;r=u._colorSet[0];u.risingColor=u.options.risingColor?u.options.risingColor:r,u.fallingColor=u.options.fallingColor?u.options.fallingColor:"#e40a0a";var m="number"==typeof u.options.lineThickness?Math.round(u.lineThickness):1,v=1==Math.round(m)%2?-.5:0;if(0<x.length){var f=!!(5<d&&u.bevelEnabled),k=!1,M=null,w=null;for(h=0;h<x.length;h++)if(s=x[h].getTime?x[h].x.getTime():x[h].x,"number"!=typeof x[h].y){if(0<h&&!k&&u.connectNullData)var P=u.options.nullDataLineDashType||!x[h-1].lineDashType?u.nullDataLineDashType:x[h-1].lineDashType;k=!0}else{e=a.axisX.convertValueToPixel(s),n=0===u.dataPointEOs[h].cumulativeSum?q:a.axisY.convertValueToPixel(u.dataPointEOs[h].cumulativeSum),o=0===u.dataPointEOs[h].cumulativeSumYStartValue?q:a.axisY.convertValueToPixel(u.dataPointEOs[h].cumulativeSumYStartValue),e=a.axisX.reversed?e+a.plotType.totalDataSeries*d/2-(a.previousDataSeriesCount+c)*d<<0:e-a.plotType.totalDataSeries*d/2+(a.previousDataSeriesCount+c)*d<<0;var C=a.axisX.reversed?e-d<<0:e+d<<0;n>o&&(r=n,n=o,o=r),a.axisY.reversed&&(r=n,n=o,o=r),r=u.dataPointIds[h],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:h,x1:e,y1:n,x2:C,y2:o};var S=x[h].color?x[h].color:0<x[h].y?u.risingColor:u.fallingColor;kt(b,e,n,C,o,S,0,S,f,f,!1,!1,u.fillOpacity),r=y(r),J&&kt(this._eventManager.ghostCtx,e,n,C,o,r,0,null,!1,!1,!1,!1);var _;S=e;_=void 0!==x[h].isIntermediateSum&&!0===x[h].isIntermediateSum||void 0!==x[h].isCumulativeSum&&!0===x[h].isCumulativeSum?0<x[h].y?n:o:0<x[h].y?o:n,0<h&&M&&(!k||u.connectNullData)&&(k&&b.setLineDash&&b.setLineDash(T(P,m)),b.beginPath(),b.moveTo(M,w-v),b.lineTo(S,_-v),0<m&&b.stroke(),J&&(l.beginPath(),l.moveTo(M,w-v),l.lineTo(S,_-v),0<m&&l.stroke())),k=!1,M=C,w=0<x[h].y?n:o,S=x[h].lineDashType?x[h].lineDashType:u.options.lineDashType?u.options.lineDashType:"shortDash",b.strokeStyle=x[h].lineColor?x[h].lineColor:u.options.lineColor?u.options.lineColor:"#9e9e9e",b.lineWidth=m,b.setLineDash&&(S=T(S,m),b.setLineDash(S)),(x[h].indexLabel||u.indexLabel||x[h].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:x[h],dataSeries:u,point:{x:e+(C-e)/2,y:0<=x[h].y?n:o},direction:0>x[h].y===a.axisY.reversed?1:-1,bounds:{x1:e,y1:Math.min(n,o),x2:C,y2:Math.max(n,o)},color:r})}}}return J&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&b.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&b.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:st.fadeInAnimation,easingFunction:st.easing.easeInQuad,animationBase:0}}};var it=function(a,t,b,e,n,g,o,l,r){if(!(0>b)){if(void 0===l&&(l=1),!J){var h=Number((o%(2*Math.PI)).toFixed(8));Number((g%(2*Math.PI)).toFixed(8))===h&&(o-=1e-4)}a.save(),a.globalAlpha=l,"pie"===n?(a.beginPath(),a.moveTo(t.x,t.y),a.arc(t.x,t.y,b,g,o,!1),a.fillStyle=e,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.fill()):"doughnut"===n&&(a.beginPath(),a.arc(t.x,t.y,b,g,o,!1),0<=r&&a.arc(t.x,t.y,r*b,o,g,!0),a.closePath(),a.fillStyle=e,a.strokeStyle="white",a.lineWidth=2,a.fill()),a.globalAlpha=1,a.restore()}};p.prototype.renderPie=function(a){function b(a){var b=l.plotArea.ctx;for(b.clearRect(c.x1,c.y1,c.width,c.height),b.fillStyle=l.backgroundColor,b.fillRect(c.x1,c.y1,c.width,c.height),b=0;b<s.length;b++){var t=x[b].startAngle,e=x[b].endAngle;if(e>t){var n=.07*w*Math.cos(x[b].midAngle),g=.07*w*Math.sin(x[b].midAngle),o=!1;s[b].exploded?(1e-9<Math.abs(x[b].center.x-(f.x+n))||1e-9<Math.abs(x[b].center.y-(f.y+g)))&&(x[b].center.x=f.x+n*a,x[b].center.y=f.y+g*a,o=!0):(0<Math.abs(x[b].center.x-f.x)||0<Math.abs(x[b].center.y-f.y))&&(x[b].center.x=f.x+n*(1-a),x[b].center.y=f.y+g*(1-a),o=!0),o&&((n={}).dataSeries=d,n.dataPoint=d.dataPoints[b],n.index=b,l.toolTip.highlightObjects([n])),it(l.plotArea.ctx,x[b].center,x[b].radius,s[b].color?s[b].color:d._colorSet[b%d._colorSet.length],d.type,t,e,d.fillOpacity,x[b].percentInnerRadius)}}for((a=l.plotArea.ctx).save(),a.fillStyle="black",a.strokeStyle="grey",a.textBaseline="middle",a.lineJoin="round",b=b=0;b<s.length;b++)(t=x[b]).indexLabelText&&(t.indexLabelTextBlock.y-=t.indexLabelTextBlock.height/2,e=0,e="left"===t.hemisphere?"inside"!==d.indexLabelPlacement?-(t.indexLabelTextBlock.width+q):-t.indexLabelTextBlock.width/2:"inside"!==d.indexLabelPlacement?q:-t.indexLabelTextBlock.width/2,t.indexLabelTextBlock.x+=e,t.indexLabelTextBlock.render(!0),t.indexLabelTextBlock.x-=e,t.indexLabelTextBlock.y+=t.indexLabelTextBlock.height/2,"inside"!==t.indexLabelPlacement&&0<t.indexLabelLineThickness&&(e=t.center.x+w*Math.cos(t.midAngle),n=t.center.y+w*Math.sin(t.midAngle),a.strokeStyle=t.indexLabelLineColor,a.lineWidth=t.indexLabelLineThickness,a.setLineDash&&a.setLineDash(T(t.indexLabelLineDashType,t.indexLabelLineThickness)),a.beginPath(),a.moveTo(e,n),a.lineTo(t.indexLabelTextBlock.x,t.indexLabelTextBlock.y),a.lineTo(t.indexLabelTextBlock.x+("left"===t.hemisphere?-q:q),t.indexLabelTextBlock.y),a.stroke()),a.lineJoin="miter");a.save()}function t(a,b){var t=0,e=(t=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2),n=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,o=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return b.indexLabelTextBlock.y>a.indexLabelTextBlock.y?n-e:t-o}function e(a){for(var b=null,e=1;e<s.length;e++){if(b=(a+e+x.length)%x.length,x[b].hemisphere!==x[a].hemisphere){b=null;break}if(x[b].indexLabelText&&b!==a&&(0>t(x[b],x[a])||("right"===x[a].hemisphere?x[b].indexLabelTextBlock.y>=x[a].indexLabelTextBlock.y:x[b].indexLabelTextBlock.y<=x[a].indexLabelTextBlock.y)))break;b=null}return b}function g(a,b,n){if(1e3<(n=(n||0)+1))return 0;b=b||0;var o=0,l=f.y-1*r,h=f.y+1*r;if(0<=a&&a<s.length){var d=x[a];if(0>b&&d.indexLabelTextBlock.y<l||0<b&&d.indexLabelTextBlock.y>h)return 0;var c=0,q=0;q=c=c=0;for(0>b?d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2>l&&d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2+b<l&&(b=-(l-(d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2+b))):d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2<l&&d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2+b>h&&(b=d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2+b-h),b=d.indexLabelTextBlock.y+b,l=0,l="right"===d.hemisphere?f.x+Math.sqrt(Math.pow(r,2)-Math.pow(b-f.y,2)):f.x-Math.sqrt(Math.pow(r,2)-Math.pow(b-f.y,2)),q=f.x+w*Math.cos(d.midAngle),c=f.y+w*Math.sin(d.midAngle),c=Math.sqrt(Math.pow(l-q,2)+Math.pow(b-c,2)),q=Math.acos(w/r),b=(c=Math.acos((r*r+w*w-c*c)/(2*w*r)))<q?b-d.indexLabelTextBlock.y:0,l=null,h=1;h<s.length;h++){if(l=(a-h+x.length)%x.length,x[l].hemisphere!==x[a].hemisphere){l=null;break}if(x[l].indexLabelText&&x[l].hemisphere===x[a].hemisphere&&l!==a&&(0>t(x[l],x[a])||("right"===x[a].hemisphere?x[l].indexLabelTextBlock.y<=x[a].indexLabelTextBlock.y:x[l].indexLabelTextBlock.y>=x[a].indexLabelTextBlock.y)))break;l=null}q=l,c=e(a),h=l=0,0>b?(o=b,null!==(h="right"===d.hemisphere?q:c)&&(q=-b,(b=d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2-(x[h].indexLabelTextBlock.y+x[h].indexLabelTextBlock.height/2))-q<p&&(+(h=g(h,l=-q,n+1)).toFixed(v)>+l.toFixed(v)&&(o=b>p?-(b-p):-(q-(h-l)))))):0<b&&(o=b,null!==(h="right"===d.hemisphere?c:q)&&(q=b,(b=x[h].indexLabelTextBlock.y-x[h].indexLabelTextBlock.height/2-(d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2))-q<p&&(+(h=g(h,l=q,n+1)).toFixed(v)<+l.toFixed(v)&&(o=b>p?b-p:q-(l-h))))),o&&(n=d.indexLabelTextBlock.y+o,b=0,b="right"===d.hemisphere?f.x+Math.sqrt(Math.pow(r,2)-Math.pow(n-f.y,2)):f.x-Math.sqrt(Math.pow(r,2)-Math.pow(n-f.y,2)),d.midAngle>Math.PI/2-y&&d.midAngle<Math.PI/2+y?(l=(a-1+x.length)%x.length,l=x[l],a=x[(a+1+x.length)%x.length],"left"===d.hemisphere&&"right"===l.hemisphere&&b>l.indexLabelTextBlock.x?b=l.indexLabelTextBlock.x-15:"right"===d.hemisphere&&"left"===a.hemisphere&&b<a.indexLabelTextBlock.x&&(b=a.indexLabelTextBlock.x+15)):d.midAngle>3*Math.PI/2-y&&d.midAngle<3*Math.PI/2+y&&(l=(a-1+x.length)%x.length,l=x[l],a=x[(a+1+x.length)%x.length],"right"===d.hemisphere&&"left"===l.hemisphere&&b<l.indexLabelTextBlock.x?b=l.indexLabelTextBlock.x+15:"left"===d.hemisphere&&"right"===a.hemisphere&&b>a.indexLabelTextBlock.x&&(b=a.indexLabelTextBlock.x-15)),d.indexLabelTextBlock.y=n,d.indexLabelTextBlock.x=b,d.indexLabelAngle=Math.atan2(d.indexLabelTextBlock.y-f.y,d.indexLabelTextBlock.x-f.x))}return o}function n(){(a=l.plotArea.ctx).fillStyle="grey",a.strokeStyle="grey",a.font="16px Arial",a.textBaseline="middle";var b=a=0,n=0,o=!0;for(b=0;10>b&&(1>b||0<n);b++){if((d.radius||!d.radius&&void 0!==d.innerRadius&&null!==d.innerRadius&&w-n<=P)&&(o=!1),o&&(w-=n),n=0,"inside"!==d.indexLabelPlacement){for(r=w*m,a=0;a<s.length;a++){(y=x[a]).indexLabelTextBlock.x=f.x+r*Math.cos(y.midAngle),y.indexLabelTextBlock.y=f.y+r*Math.sin(y.midAngle),y.indexLabelAngle=y.midAngle,y.radius=w,y.percentInnerRadius=C}for(var h,u,a=0;a<s.length;a++){var y=x[a],k=e(a);if(null!==k){h=x[a],u=x[k];var M=0;if(0>(M=t(h,u)-p)){for(var T=u=0,S=0;S<s.length;S++)S!==a&&x[S].hemisphere===y.hemisphere&&(x[S].indexLabelTextBlock.y<y.indexLabelTextBlock.y?u++:T++);T=-1*(M-(u=M/(u+T||1)*T));var _=S=0;"right"===y.hemisphere?(S=g(a,u),+(_=g(k,T=-1*(M-S))).toFixed(v)<+T.toFixed(v)&&+S.toFixed(v)<=+u.toFixed(v)&&g(a,-(T-_))):(S=g(k,u),+(_=g(a,T=-1*(M-S))).toFixed(v)<+T.toFixed(v)&&+S.toFixed(v)<=+u.toFixed(v)&&g(k,-(T-_)))}}}}else for(a=0;a<s.length;a++)y=x[a],r="pie"===d.type?.7*w:.8*w,k=f.x+r*Math.cos(y.midAngle),u=f.y+r*Math.sin(y.midAngle),y.indexLabelTextBlock.x=k,y.indexLabelTextBlock.y=u;for(a=0;a<s.length;a++)0!==(k=(y=x[a]).indexLabelTextBlock.measureText()).height&&0!==k.width&&(k=k=0,"right"===y.hemisphere?(k=c.x2-(y.indexLabelTextBlock.x+y.indexLabelTextBlock.width+q),k*=-1):k=c.x1-(y.indexLabelTextBlock.x-y.indexLabelTextBlock.width-q),0<k&&(!o&&y.indexLabelText&&(u="right"===y.hemisphere?c.x2-y.indexLabelTextBlock.x:y.indexLabelTextBlock.x-c.x1,.3*y.indexLabelTextBlock.maxWidth>u?y.indexLabelText="":y.indexLabelTextBlock.maxWidth=.85*u,.3*y.indexLabelTextBlock.maxWidth<u&&(y.indexLabelTextBlock.x-="right"===y.hemisphere?2:-2)),Math.abs(y.indexLabelTextBlock.y-y.indexLabelTextBlock.height/2-f.y)<w||Math.abs(y.indexLabelTextBlock.y+y.indexLabelTextBlock.height/2-f.y)<w)&&(9<(k/=Math.abs(Math.cos(y.indexLabelAngle)))&&(k*=.3),k>n&&(n=k)),k=k=0,0<y.indexLabelAngle&&y.indexLabelAngle<Math.PI?(k=c.y2-(y.indexLabelTextBlock.y+y.indexLabelTextBlock.height/2+5),k*=-1):k=c.y1-(y.indexLabelTextBlock.y-y.indexLabelTextBlock.height/2-5),0<k&&(!o&&y.indexLabelText&&(0===g(a,k*(u=0<y.indexLabelAngle&&y.indexLabelAngle<Math.PI?-1:1))&&g(a,2*u)),Math.abs(y.indexLabelTextBlock.x-f.x)<w&&(9<(k/=Math.abs(Math.sin(y.indexLabelAngle)))&&(k*=.3),k>n&&(n=k))));var A=function(a,b,t){for(var e=[],n=0;e.push(x[b]),b!==t;b=(b+1+s.length)%s.length);for(e.sort((function(a,b){return a.y-b.y})),b=0;b<e.length&&(t=e[b],n<.7*a);b++)n+=t.indexLabelTextBlock.height,t.indexLabelTextBlock.text="",t.indexLabelText="",t.indexLabelTextBlock.measureText()};!function(){for(var a=-1,b=-1,n=0,g=!1,o=0;o<s.length;o++)if(g=!1,(h=x[o]).indexLabelText){var l=e(o);if(null!==l){var r,d=x[l];if(M=0,r=0>(M=t(h,d))){r=h.indexLabelTextBlock.x;var c=h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2,m=h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2,p=d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2,u=d.indexLabelTextBlock.x+d.indexLabelTextBlock.width,y=d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2;r=!(h.indexLabelTextBlock.x+h.indexLabelTextBlock.width<d.indexLabelTextBlock.x-q||r>u+q||c>y+q||m<p-q)}r?(0>a&&(a=o),l!==a&&(b=l,n+=-M),0==o%Math.max(s.length/10,3)&&(g=!0)):g=!0,g&&0<n&&0<=a&&0<=b&&(A(n,a,b),b=a=-1,n=0)}}0<n&&A(n,a,b)}()}}function o(){if(l.plotArea.layoutManager.reset(),l.title&&(l.title.dockInsidePlotArea||"center"===l.title.horizontalAlign&&"center"===l.title.verticalAlign)&&l.title.render(),l.subtitles)for(var a=0;a<l.subtitles.length;a++){var b=l.subtitles[a];(b.dockInsidePlotArea||"center"===b.horizontalAlign&&"center"===b.verticalAlign)&&b.render()}l.legend&&(l.legend.dockInsidePlotArea||"center"===l.legend.horizontalAlign&&"center"===l.legend.verticalAlign)&&(l.legend.setLayout(),l.legend.render())}var l=this;if(!(0>=a.dataSeriesIndexes.length)){var r,d=this.data[a.dataSeriesIndexes[0]],s=d.dataPoints,q=10,c=this.plotArea,x=d.dataPointEOs,p=2,m=1.3,y=20/180*Math.PI,v=6,f={x:(c.x2+c.x1)/2,y:(c.y2+c.y1)/2},k=0;a=!1;for(var M=0;M<s.length;M++)k+=Math.abs(s[M].y),!a&&void 0!==s[M].indexLabel&&null!==s[M].indexLabel&&0<s[M].indexLabel.toString().length&&(a=!0),!a&&void 0!==s[M].label&&null!==s[M].label&&0<s[M].label.toString().length&&(a=!0);if(0!==k){a=a||void 0!==d.indexLabel&&null!==d.indexLabel&&0<d.indexLabel.toString().length;var w="inside"!==d.indexLabelPlacement&&a?.75*Math.min(c.width,c.height)/2:.92*Math.min(c.width,c.height)/2;d.radius&&(w=h(d.radius,w));var P=void 0!==d.innerRadius&&null!==d.innerRadius?h(d.innerRadius,w):.7*w;d.radius=w,"doughnut"===d.type&&(d.innerRadius=P);var C=Math.min(P/w,(w-1)/w);this.pieDoughnutClickHandler=function(a){l.isAnimating||!u(a.dataSeries.explodeOnClick)&&!a.dataSeries.explodeOnClick||((a=a.dataPoint).exploded=!a.exploded,1<this.dataPoints.length&&l._animator.animate(0,500,(function(a){b(a),o()})))},function(){if(d&&s){for(var a=0,b=0,t=0,e=0,n=0;n<s.length;n++){var g=s[n],o=d.dataPointIds[n];x[n].id=o,x[n].objectType="dataPoint",x[n].dataPointIndex=n,x[n].dataSeriesIndex=0;var r=x[n],q={percent:null,total:null},p=null;q=l.getPercentAndTotal(d,g);(d.indexLabelFormatter||g.indexLabelFormatter)&&(p={chart:l.options,dataSeries:d,dataPoint:g,total:q.total,percent:q.percent}),q=g.indexLabelFormatter?g.indexLabelFormatter(p):g.indexLabel?l.replaceKeywordsWithValue(g.indexLabel,g,d,n):d.indexLabelFormatter?d.indexLabelFormatter(p):d.indexLabel?l.replaceKeywordsWithValue(d.indexLabel,g,d,n):g.label?g.label:"",l._eventManager.objectMap[o]=r,r.center={x:f.x,y:f.y},r.y=g.y,r.radius=w,r.percentInnerRadius=C,r.indexLabelText=q,r.indexLabelPlacement=d.indexLabelPlacement,r.indexLabelLineColor=g.indexLabelLineColor?g.indexLabelLineColor:d.options.indexLabelLineColor?d.options.indexLabelLineColor:g.color?g.color:d._colorSet[n%d._colorSet.length],r.indexLabelLineThickness=u(g.indexLabelLineThickness)?d.indexLabelLineThickness:g.indexLabelLineThickness,r.indexLabelLineDashType=g.indexLabelLineDashType?g.indexLabelLineDashType:d.indexLabelLineDashType,r.indexLabelFontColor=g.indexLabelFontColor?g.indexLabelFontColor:d.indexLabelFontColor,r.indexLabelFontStyle=g.indexLabelFontStyle?g.indexLabelFontStyle:d.indexLabelFontStyle,r.indexLabelFontWeight=g.indexLabelFontWeight?g.indexLabelFontWeight:d.indexLabelFontWeight,r.indexLabelFontSize=u(g.indexLabelFontSize)?d.indexLabelFontSize:g.indexLabelFontSize,r.indexLabelFontFamily=g.indexLabelFontFamily?g.indexLabelFontFamily:d.indexLabelFontFamily,r.indexLabelBackgroundColor=g.indexLabelBackgroundColor?g.indexLabelBackgroundColor:d.options.indexLabelBackgroundColor?d.options.indexLabelBackgroundColor:d.indexLabelBackgroundColor,r.indexLabelMaxWidth=g.indexLabelMaxWidth?g.indexLabelMaxWidth:d.indexLabelMaxWidth?d.indexLabelMaxWidth:.33*c.width,r.indexLabelWrap=void 0!==g.indexLabelWrap?g.indexLabelWrap:d.indexLabelWrap,r.startAngle=0===n?d.startAngle?d.startAngle/180*Math.PI:0:x[n-1].endAngle,r.startAngle=(r.startAngle+2*Math.PI)%(2*Math.PI),r.endAngle=r.startAngle+2*Math.PI/k*Math.abs(g.y),g=((g=(r.endAngle+r.startAngle)/2)+2*Math.PI)%(2*Math.PI),r.midAngle=g,r.midAngle>Math.PI/2-y&&r.midAngle<Math.PI/2+y?((0===a||x[t].midAngle>r.midAngle)&&(t=n),a++):r.midAngle>3*Math.PI/2-y&&r.midAngle<3*Math.PI/2+y&&((0===b||x[e].midAngle>r.midAngle)&&(e=n),b++),r.hemisphere=g>Math.PI/2&&g<=3*Math.PI/2?"left":"right",r.indexLabelTextBlock=new W(l.plotArea.ctx,{fontSize:r.indexLabelFontSize,fontFamily:r.indexLabelFontFamily,fontColor:r.indexLabelFontColor,fontStyle:r.indexLabelFontStyle,fontWeight:r.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:r.indexLabelBackgroundColor,maxWidth:r.indexLabelMaxWidth,maxHeight:r.indexLabelWrap?5*r.indexLabelFontSize:1.5*r.indexLabelFontSize,text:r.indexLabelText,padding:0,textBaseline:"top"}),r.indexLabelTextBlock.measureText()}for(o=g=0,q=!1,n=0;n<s.length;n++)r=x[(t+n)%s.length],1<a&&r.midAngle>Math.PI/2-y&&r.midAngle<Math.PI/2+y&&(g<=a/2&&!q?(r.hemisphere="right",g++):(r.hemisphere="left",q=!0));for(q=!1,n=0;n<s.length;n++)r=x[(e+n)%s.length],1<b&&r.midAngle>3*Math.PI/2-y&&r.midAngle<3*Math.PI/2+y&&(o<=b/2&&!q?(r.hemisphere="left",o++):(r.hemisphere="right",q=!0))}}(),n(),n(),n(),n(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(a){var b=l.plotArea.ctx;for(b.clearRect(c.x1,c.y1,c.width,c.height),b.fillStyle=l.backgroundColor,b.fillRect(c.x1,c.y1,c.width,c.height),a=x[0].startAngle+2*Math.PI*a,b=0;b<s.length;b++){var t=0===b?x[b].startAngle:e,e=t+(x[b].endAngle-x[b].startAngle),n=!1;e>a&&(e=a,n=!0);var g=s[b].color?s[b].color:d._colorSet[b%d._colorSet.length];if(e>t&&it(l.plotArea.ctx,x[b].center,x[b].radius,g,d.type,t,e,d.fillOpacity,x[b].percentInnerRadius),n)break}o()}),(function(){l.disableToolTip=!1,l._animator.animate(0,l.animatedRender?500:0,(function(a){b(a),o()}))}))}}};var at=function(a,t,b,e){void 0===b&&(b=1),0>=Math.round(t.y4-t.y1)||(a.save(),a.globalAlpha=b,a.beginPath(),a.moveTo(Math.round(t.x1),Math.round(t.y1)),a.lineTo(Math.round(t.x2),Math.round(t.y2)),a.lineTo(Math.round(t.x3),Math.round(t.y3)),a.lineTo(Math.round(t.x4),Math.round(t.y4)),"undefined"!==t.x5&&(a.lineTo(Math.round(t.x5),Math.round(t.y5)),a.lineTo(Math.round(t.x6),Math.round(t.y6))),a.closePath(),a.fillStyle=e||t.color,a.fill(),a.globalAplha=1,a.restore())};p.prototype.renderFunnel=function(a){function g(){var a,b,t,e;if("inside"!==h.indexLabelPlacement)for(var n=0;n<R.length;n++)0==G[n].textBlock.text.length?G[n].isDirty=!0:(t=void 0!==(a=R[n]).x5?(a.y2+a.y4)/2:(a.y2+a.y3)/2,b=h.reversed?void 0!==a.x5&&t>Y?o(t).x2+1:(a.x2+a.x3)/2+1:void 0!==a.x5?t<Y?o(t).x2+1:(a.x4+a.x3)/2+1:(a.x2+a.x3)/2+1,G[n].textBlock.x=b+L,G[n].textBlock.y=t-G[n].height/2,h.reversed?(G[n].textBlock.y+G[n].height>D+m&&(G[n].textBlock.y=D+m-G[n].height),G[n].textBlock.y<E-m&&(G[n].textBlock.y=E-m)):(G[n].textBlock.y<D-m&&(G[n].textBlock.y=D-m),G[n].textBlock.y+G[n].height>E+m&&(G[n].textBlock.y=E+m-G[n].height)));else for(n=0;n<R.length;n++)0==G[n].textBlock.text.length?G[n].isDirty=!0:(b=(a=R[n]).height,t=G[n].height,e=G[n].width,b>=t?(b=n!=O?(a.x4+a.x3)/2-e/2:(a.x5+a.x4)/2-e/2,t=n!=O?(a.y1+a.y3)/2-t/2:(a.y1+a.y4)/2-t/2,G[n].textBlock.x=b,G[n].textBlock.y=t):G[n].isDirty=!0)}function t(a,b){return(b<R.length?G[b].textBlock.y:h.reversed?D+m:E+m)-(0>a?h.reversed?E-m:D-m:G[a].textBlock.y+G[a].height+U)}function e(a,b,t){var e,n,o,r=[],c=m,y=[];if(-1!==b&&(0<=Z.indexOf(b)?(n=Z.indexOf(b),Z.splice(n,1)):(Z.push(b),Z=Z.sort((function(a,b){return a-b})))),0===Z.length)r=$;else{n=m*(1!=Z.length||0!=Z[0]&&Z[0]!=R.length-1?2:1)/function(){for(var a=0,b=0;b<R.length-1;b++)(0<=Z.indexOf(b)||0<=Z.indexOf(b+1))&&a++;return a}();for(var q=0;q<R.length;q++){if(1==Z.length&&0==Z[0]){if(0===q){r.push($[q]),e=c;continue}}else 0===q&&(e=-1*c);r.push($[q]+e),(0<=Z.indexOf(q)||q<R.length&&0<=Z.indexOf(q+1))&&(e+=n)}}o=function(){for(var a=[],b=0;b<R.length;b++)a.push(r[b]-R[b].y1);return a}();(new Date).getTime();var v=function(a){for(var b,t,e=0;e<R.length;e++)b=o[e],t=R[e],b*=a,void 0===y[e]&&(y[e]=0),0>y&&(y*=-1),t.y1+=b-y[e],t.y2+=b-y[e],t.y3+=b-y[e],t.y4+=b-y[e],t.y5&&(t.y5+=b-y[e],t.y6+=b-y[e]),y[e]=b};a._animator.animate(0,t,(function(t){var e=a.plotArea.ctx||a.ctx;Q=!0,e.clearRect(x.x1,x.y1,x.x2-x.x1,x.y2-x.y1),e.fillStyle=a.backgroundColor,e.fillRect(x.x1,x.y1,x.width,x.height),v(t,b);var n={};for(n.dataSeries=h,n.dataPoint=h.reversed?h.dataPoints[d.length-1-b]:h.dataPoints[b],n.index=h.reversed?d.length-1-b:b,a.toolTip.highlightObjects([n]),n=0;n<R.length;n++)at(e,R[n],h.fillOpacity);l(e),w&&("inside"!==h.indexLabelPlacement?s(e):g(),p(e)),1<=t&&(Q=!1)}),null,st.easing.easeOutQuart)}function s(a){for(var b,t,e,n,g=0;g<R.length;g++)n=1==G[g].lineThickness%2?.5:0,b=o(t=((R[g].y2+R[g].y4)/2<<0)+n).x2-1,e=G[g].textBlock.x,n=(G[g].textBlock.y+G[g].height/2<<0)+n,G[g].isDirty||0==G[g].lineThickness||(a.strokeStyle=G[g].lineColor,a.lineWidth=G[g].lineThickness,a.setLineDash&&a.setLineDash(T(G[g].lineDashType,G[g].lineThickness)),a.beginPath(),a.moveTo(b,t),a.lineTo(e,n),a.stroke())}function q(a){for(a-=1;-1<=a&&-1!=a&&G[a].isDirty;a--);return a}function n(a){for(a+=1;a<=R.length&&a!=R.length&&G[a].isDirty;a++);return a}function o(a){for(var b,t=0;t<d.length;t++)if(R[t].y1<a&&R[t].y4>a){b=R[t];break}return b?{x1:a=b.y6&&a>b.y6?b.x3+(b.x4-b.x3)/(b.y4-b.y3)*(a-b.y3):b.x2+(b.x3-b.x2)/(b.y3-b.y2)*(a-b.y2),x2:a}:-1}function p(a){for(var b=0;b<R.length;b++)G[b].isDirty||(a&&(G[b].textBlock.ctx=a),G[b].textBlock.render(!0))}function l(a){if(r.plotArea.layoutManager.reset(),a.roundRect||c(a),r.title&&(r.title.dockInsidePlotArea||"center"===r.title.horizontalAlign&&"center"===r.title.verticalAlign)&&(r.title.ctx=a,r.title.render()),r.subtitles)for(var b=0;b<r.subtitles.length;b++){var t=r.subtitles[b];(t.dockInsidePlotArea||"center"===t.horizontalAlign&&"center"===t.verticalAlign)&&(r.subtitles.ctx=a,t.render())}r.legend&&(r.legend.dockInsidePlotArea||"center"===r.legend.horizontalAlign&&"center"===r.legend.verticalAlign)&&(r.legend.ctx=a,r.legend.setLayout(),r.legend.render()),K.fNg&&K.fNg(r)}var r=this;if(!(0>=a.dataSeriesIndexes.length)){for(var h=this.data[a.dataSeriesIndexes[0]],d=h.dataPoints,x=this.plotArea,m=.025*x.width,y=.01*x.width,v=0,k=x.height-2*m,M=Math.min(x.width-2*y,2.8*x.height),w=!1,P=0;P<d.length;P++)!w&&void 0!==d[P].indexLabel&&null!==d[P].indexLabel&&0<d[P].indexLabel.toString().length&&(w=!0),!w&&void 0!==d[P].label&&null!==d[P].label&&0<d[P].label.toString().length&&(w=!0),(!w&&"function"==typeof h.indexLabelFormatter||"function"==typeof d[P].indexLabelFormatter)&&(w=!0);w=w||void 0!==h.indexLabel&&null!==h.indexLabel&&0<h.indexLabel.toString().length,"inside"!==h.indexLabelPlacement&&w||(y=(x.width-.75*M)/2);P=x.x1+y;var C=x.x2-y,S=x.y1+m,_=x.y2-m,A=a.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=h.length&&h.dataPoints&&h.visible&&0!==d.length){var B,F,L=30*(C-(a=75*M/100))/100;"funnel"===h.type?(B=u(h.options.neckHeight)?.35*k:h.neckHeight,F=u(h.options.neckWidth)?.25*a:h.neckWidth,"string"==typeof B&&B.match(/%$/)?B=(B=parseInt(B))*k/100:B=parseInt(B),"string"==typeof F&&F.match(/%$/)?F=(F=parseInt(F))*a/100:F=parseInt(F),B>k?B=k:0>=B&&(B=0),F>a?F=a-.5:0>=F&&(F=0)):"pyramid"===h.type&&(F=B=0,h.reversed=!h.reversed);y=P+a/2;var I=P,V=P+a,D=h.reversed?_:S,z=y-F/2,X=y+F/2,Y=h.reversed?S+B:_-B,E=h.reversed?S:_;a=[];y=[];var O,R=[],N=(M=[],S),H=(Y-D)/(z-I),j=-H;if(-1!==(P="area"===(h.valueRepresents?h.valueRepresents:"height")?function(){var t,e,a=I,b=V,n=z,o=X;t=S,e=_-B,o=Math.abs((e-t)*(b-a+(o-n))/2),t=e-t,e=(n=X-z)*(e-_),e=o+(e=Math.abs(e)),o=[];for(var g=0,l=0;l<d.length;l++){if(void 0===d[l].y)return-1;d[l].y="number"==typeof d[l].y?d[l].y:0,g+=Math.abs(d[l].y)}if(0===g)return-1;var r,h,c=o[0]=0,x=0;for(b=b-a,c=!1,l=0;l<d.length;l++)a=Math.abs(d[l].y)*e/g,c?r=0==Number(n.toFixed(3))?0:a/n:0>(h=H*H*b*b-4*Math.abs(H)*a)?(a-=c=(b+(h=n))*(t-x)/2,r=t-x,x+=t-x,r+=0==h?0:a/h,x+=a/h,c=!0):(h=b-2*(r=(Math.abs(H)*b-Math.sqrt(h))/2)/Math.abs(H),(x+=r)>t&&(c=(b+(h=n))*(t-(x-=r))/2,r=t-x,x+=t-x,r+=(a-=c)/h,x+=a/h,c=!0),b=h),o.push(r);return o}():function(){for(var a=0,b=[],t=0;t<d.length;t++){if(void 0===d[t].y)return-1;d[t].y="number"==typeof d[t].y?d[t].y:0,a+=Math.abs(d[t].y)}if(0===a)return-1;for(t=b[0]=0;t<d.length;t++)b.push(Math.abs(d[t].y)*k/a);return b}())){if(h.reversed)for(M.push(N),F=P.length-1;0<F;F--)N+=P[F],M.push(N);else for(F=0;F<P.length;F++)N+=P[F],M.push(N);if(h.reversed)for(F=0;F<P.length;F++)M[F]<Y?(a.push(z),y.push(X),O=F):(a.push((M[F]-D+H*I)/H),y.push((M[F]-D+j*V)/j));else for(F=0;F<P.length;F++)M[F]<Y?(a.push((M[F]-D+H*I)/H),y.push((M[F]-D+j*V)/j),O=F):(a.push(z),y.push(X));for(F=0;F<P.length-1;F++)N=h.reversed?d[d.length-1-F].color?d[d.length-1-F].color:h._colorSet[(d.length-1-F)%h._colorSet.length]:d[F].color?d[F].color:h._colorSet[F%h._colorSet.length],F===O?R.push({x1:a[F],y1:M[F],x2:y[F],y2:M[F],x3:X,y3:Y,x4:y[F+1],y4:M[F+1],x5:a[F+1],y5:M[F+1],x6:z,y6:Y,id:F,height:M[F+1]-M[F],color:N}):R.push({x1:a[F],y1:M[F],x2:y[F],y2:M[F],x3:y[F+1],y3:M[F+1],x4:a[F+1],y4:M[F+1],id:F,height:M[F+1]-M[F],color:N});var U=2,G=[],Q=!1,Z=[],$=[];P=!1;for(a=a=0,f(Z),F=0;F<d.length;F++)d[F].exploded&&(P=!0,h.reversed?Z.push(d.length-1-F):Z.push(F));if(A.clearRect(x.x1,x.y1,x.width,x.height),A.fillStyle=r.backgroundColor,A.fillRect(x.x1,x.y1,x.width,x.height),w&&h.visible&&(function(){if(h&&d){for(var a,b,t,e,n,g,l,x,m,y,v,q,s,f,p=[],k=[],M={percent:null,total:null},T=null,w=0;w<d.length;w++)f=o(f=void 0!==(f=R[w]).x5?(f.y2+f.y4)/2:(f.y2+f.y3)/2).x2+1,p[w]=C-f-L;f=.5*L;w=0;for(var P=d.length-1;w<d.length||0<=P;w++,P--)a=(b=h.reversed?d[P]:d[w]).color?b.color:h.reversed?h._colorSet[(d.length-1-w)%h._colorSet.length]:h._colorSet[w%h._colorSet.length],t=b.indexLabelPlacement||h.indexLabelPlacement||"outside",e=b.indexLabelBackgroundColor||h.indexLabelBackgroundColor||(J?"transparent":null),n=b.indexLabelFontColor||h.indexLabelFontColor||"#979797",g=u(b.indexLabelFontSize)?h.indexLabelFontSize:b.indexLabelFontSize,l=b.indexLabelFontStyle||h.indexLabelFontStyle||"normal",x=b.indexLabelFontFamily||h.indexLabelFontFamily||"arial",m=b.indexLabelFontWeight||h.indexLabelFontWeight||"normal",a=b.indexLabelLineColor||h.options.indexLabelLineColor||a,y="number"==typeof b.indexLabelLineThickness?b.indexLabelLineThickness:"number"==typeof h.indexLabelLineThickness?h.indexLabelLineThickness:2,v=b.indexLabelLineDashType||h.indexLabelLineDashType||"solid",q=void 0!==b.indexLabelWrap?b.indexLabelWrap:void 0===h.indexLabelWrap||h.indexLabelWrap,s=h.dataPointIds[w],r._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataPointIndex:w,dataSeriesIndex:0,funnelSection:R[h.reversed?d.length-1-w:w]},"inside"===h.indexLabelPlacement&&(p[w]=w!==O?h.reversed?R[w].x2-R[w].x1:R[w].x3-R[w].x4:R[w].x3-R[w].x6,20>p[w]&&(p[w]=w!==O&&h.reversed?R[w].x3-R[w].x4:R[w].x2-R[w].x1,p[w]/=2)),((s=b.indexLabelMaxWidth?b.indexLabelMaxWidth:h.options.indexLabelMaxWidth?h.indexLabelMaxWidth:p[w])>p[w]||0>s)&&(s=p[w]),k[w]="inside"===h.indexLabelPlacement&&R[w].height,M=r.getPercentAndTotal(h,b),(h.indexLabelFormatter||b.indexLabelFormatter)&&(T={chart:r.options,dataSeries:h,dataPoint:b,total:M.total,percent:M.percent}),b=b.indexLabelFormatter?b.indexLabelFormatter(T):b.indexLabel?r.replaceKeywordsWithValue(b.indexLabel,b,h,w):h.indexLabelFormatter?h.indexLabelFormatter(T):h.indexLabel?r.replaceKeywordsWithValue(h.indexLabel,b,h,w):b.label?b.label:"",0>=y&&(y=0),1e3>s&&1e3-s<f&&(s+=1e3-s),A.roundRect||c(A),(t=new W(A,{fontSize:g,fontFamily:x,fontColor:n,fontStyle:l,fontWeight:m,horizontalAlign:t,backgroundColor:e,maxWidth:s,maxHeight:!1===k[w]?q?4.28571429*g:1.5*g:k[w],text:b,padding:U})).measureText(),G.push({textBlock:t,id:h.reversed?P:w,isDirty:!1,lineColor:a,lineThickness:y,lineDashType:v,height:t.height<t.maxHeight?t.height:t.maxHeight,width:t.width<t.maxWidth?t.width:t.maxWidth})}}(),g(),function(){var a,b,t,e,o,l=[];o=!1,t=0;for(var g,r=C-V-L/2,c=(r=h.options.indexLabelMaxWidth?h.indexLabelMaxWidth>r?r:h.indexLabelMaxWidth:r,G.length-1);0<=c;c--)g=d[G[c].id],e=(t=G[c]).textBlock,b=(a=n(c)<R.length?G[n(c)]:null)?a.textBlock:null,t=t.height,a&&e.y+t+U>b.y&&(o=!0),((t=g.indexLabelMaxWidth||r)>r||0>t)&&(t=r),l.push(t);if(o)for(c=G.length-1;0<=c;c--)a=R[c],G[c].textBlock.maxWidth=l[l.length-(c+1)],G[c].textBlock.measureText(),G[c].textBlock.x=C-r,t=G[c].textBlock.height<G[c].textBlock.maxHeight?G[c].textBlock.height:G[c].textBlock.maxHeight,o=G[c].textBlock.width<G[c].textBlock.maxWidth?G[c].textBlock.width:G[c].textBlock.maxWidth,G[c].height=t,G[c].width=o,t=void 0!==a.x5?(a.y2+a.y4)/2:(a.y2+a.y3)/2,G[c].textBlock.y=t-G[c].height/2,h.reversed?(G[c].textBlock.y+G[c].height>D+m&&(G[c].textBlock.y=D+m-G[c].height),G[c].textBlock.y<E-m&&(G[c].textBlock.y=E-m)):(G[c].textBlock.y<D-m&&(G[c].textBlock.y=D-m),G[c].textBlock.y+G[c].height>E+m&&(G[c].textBlock.y=E+m-G[c].height))}(),"inside"!==h.indexLabelPlacement)){for(function(){function a(b,e){var o;if(0>b||b>=G.length)return 0;var l,r=G[b].textBlock;return 0>e?(e*=-1,(o=t(l=q(b),b))>=e?(r.y-=e,e):0==b?(0<o&&(r.y-=o),o):(0<(o+=a(l,-(e-o)))&&(r.y-=o),o)):(o=t(b,l=n(b)))>=e?(r.y+=e,e):b==R.length-1?(0<o&&(r.y+=o),o):(0<(o+=a(l,e-o))&&(r.y+=o),o)}function b(){var a,t,o,l,r,g=0;l=(_-S+2*m)/c,r=c;for(var h,d=1;d<r;d++){o=d*l;for(var s=G.length-1;0<=s;s--)!G[s].isDirty&&G[s].textBlock.y<o&&G[s].textBlock.y+G[s].height>o&&(!((h=n(s))>=G.length-1)&&G[s].textBlock.y+G[s].height+U>G[h].textBlock.y&&(G[s].textBlock.y=G[s].textBlock.y+G[s].height-o>o-G[s].textBlock.y?o+1:o-G[s].height-1))}for(h=R.length-1;0<h;h--)if(!G[h].isDirty){if(0>(o=q(h))&&G[o=0].isDirty)break;if(G[h].textBlock.y<G[o].textBlock.y+G[o].height){for(t=t||h,l=h,r=0;G[l].textBlock.y<G[o].textBlock.y+G[o].height+U;){if(a=a||G[l].textBlock.y+G[l].height,r+=G[l].height,r+=U,0>=(l=o)){r+=G[l=0].height;break}if(0>(o=q(l))){r+=G[l=0].height;break}}if(l!=h){g=e(a=r-(a-=g=G[l].textBlock.y),t,l);break}}}return g}function e(a,b,t){var e=[],n=0,g=0;for(a=Math.abs(a);t<=b;t++)e.push(R[t]);for(e.sort((function(a,b){return a.height-b.height})),t=0;t<e.length&&(b=e[t],n<a);t++)g++,n+=G[b.id].height+U,G[b.id].textBlock.text="",G[b.id].indexLabelText="",G[b.id].isDirty=!0,G[b.id].textBlock.measureText();return g}for(var o,l,r,g,h,d,c=1,s=0;s<2*c;s++){for(var x=G.length-1;0<=x&&(0<=q(x)&&q(x),g=(r=G[x]).textBlock,d=(h=n(x)<R.length?G[n(x)]:null)?h.textBlock:null,o=+r.height.toFixed(6),l=+g.y.toFixed(6),!(!r.isDirty&&h&&l+o+U>+d.y.toFixed(6)&&(o=g.y+o+U-d.y,l=a(x,-o),l<o&&(0<l&&(o-=l),l=a(n(x),o),l!=o))));x--);b()}}(),F=0;F<d.length;F++)G[F].isDirty||(a=G[F].textBlock.x+G[F].width,a=(C-a)/2,0==F&&(v=a),v>a&&(v=a));for(F=0;F<R.length;F++)R[F].x1+=v,R[F].x2+=v,R[F].x3+=v,R[F].x4+=v,R[F].x5&&(R[F].x5+=v,R[F].x6+=v),G[F].textBlock.x+=v}for(F=0;F<R.length;F++)v=R[F],at(A,v,h.fillOpacity),$.push(v.y1);if(l(A),w&&h.visible&&("inside"===h.indexLabelPlacement||r.animationEnabled||s(A),r.animationEnabled||p()),!w)for(F=0;F<d.length;F++)a={id:v=h.dataPointIds[F],objectType:"dataPoint",dataPointIndex:F,dataSeriesIndex:0,funnelSection:R[h.reversed?d.length-1-F:F]},r._eventManager.objectMap[v]=a;return!r.animationEnabled&&P?e(r,-1,0):r.animationEnabled&&!r.animatedRender&&e(r,-1,0),this.funnelPyramidClickHandler=function(a){var b=-1;!Q&&!r.isAnimating&&(u(a.dataSeries.explodeOnClick)||a.dataSeries.explodeOnClick)&&0<=(b=h.reversed?d.length-1-a.dataPointIndex:a.dataPointIndex)&&(a=b,"funnel"!==h.type&&"pyramid"!==h.type||(h.reversed?d[d.length-1-a].exploded=!d[d.length-1-a].exploded:d[a].exploded=!d[a].exploded),e(r,b,500))},{source:A,dest:this.plotArea.ctx,animationCallback:function(a,b){st.fadeInAnimation(a,b),1<=a&&(e(r,-1,500),l(r.plotArea.ctx||r.ctx))},easingFunction:st.easing.easeInQuad,animationBase:0}}}}},p.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},p.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,p.prototype.set=function(a,t,b){b=void 0===b||b,"options"===a?(this.options=t,b&&this.render()):p.base.set.call(this,a,t,b)},p.prototype.exportChart=function(a){var t=(a=void 0===a?{}:a).format?a.format:"png",b=a.fileName?a.fileName:this.exportFileName;if(a.toDataURL)return this.canvas.toDataURL("image/"+t);m(this.canvas,t,b)},p.prototype.print=function(){var a=this.exportChart({toDataURL:!0}),t=document.createElement("iframe");t.setAttribute("class","canvasjs-chart-print-frame"),t.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),t.style.height=this.height+"px",this._canvasJSContainer.appendChild(t);var b=this,e=t.contentWindow||t.contentDocument.document||t.contentDocument;e.document.open(),e.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+a+'"/><body/></html>'),e.document.close(),setTimeout((function(){e.focus(),e.print(),setTimeout((function(){b._canvasJSContainer.removeChild(t)}),1e3)}),500)},p.prototype.getPercentAndTotal=function(a,t){var b=null,e=null,n=null;if(0<=a.type.indexOf("stacked"))e=0,(b=t.x.getTime?t.x.getTime():t.x)in a.plotUnit.yTotals&&(e=a.plotUnit.yTotals[b],n=isNaN(t.y)?0:t.y/e*100);else if("pie"===a.type||"doughnut"===a.type||"funnel"===a.type||"pyramid"===a.type){for(b=e=0;b<a.dataPoints.length;b++)isNaN(a.dataPoints[b].y)||(e+=a.dataPoints[b].y);n=isNaN(t.y)?0:t.y/e*100}return{percent:n,total:e}},p.prototype.replaceKeywordsWithValue=function(a,t,b,e,n){var g=this;if(n=void 0===n?0:n,(0<=b.type.indexOf("stacked")||"pie"===b.type||"doughnut"===b.type||"funnel"===b.type||"pyramid"===b.type)&&(0<=a.indexOf("#percent")||0<=a.indexOf("#total"))){var o="#percent",l="#total",r=this.getPercentAndTotal(b,t);l=isNaN(r.total)?l:r.total,o=isNaN(r.percent)?o:r.percent;do{if(r="",b.percentFormatString)r=b.percentFormatString;else{r="#,##0.";var h=Math.max(Math.ceil(Math.log(1/Math.abs(o))/Math.LN10),2);!isNaN(h)&&isFinite(h)||(h=2);for(var s=0;s<h;s++)r+="#";b.percentFormatString=r}a=(a=a.replace("#percent",mt(o,r,g._cultureInfo))).replace("#total",mt(l,b.yValueFormatString?b.yValueFormatString:"#,##0.########",g._cultureInfo))}while(0<=a.indexOf("#percent")||0<=a.indexOf("#total"))}return a.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(a){if('"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])return a.slice(1,a.length-1);a=(a=d(a.slice(1,a.length-1))).replace("#index",n);var o=null;try{var l=a.match(/(.*?)\s*\[\s*(.*?)\s*\]/);l&&0<l.length&&(o=d(l[2]),a=d(l[1]))}catch(t){}if(l=null,"color"===a)return"waterfall"===b.type?t.color?t.color:0<t.y?b.risingColor:b.fallingColor:"error"===b.type?b.color?b.color:b._colorSet[o%b._colorSet.length]:t.color?t.color:b.color?b.color:b._colorSet[e%b._colorSet.length];if(t.hasOwnProperty(a))l=t;else{if(!b.hasOwnProperty(a))return"";l=b}return l=l[a],null!==o&&(l=l[o]),"x"!==a?"y"===a?mt(l,t.yValueFormatString?t.yValueFormatString:b.yValueFormatString?b.yValueFormatString:b.yValueFormatString="#,##0.########",g._cultureInfo):"z"===a?mt(l,t.zValueFormatString?t.zValueFormatString:b.zValueFormatString?b.zValueFormatString:b.zValueFormatString="#,##0.########",g._cultureInfo):l:"dateTime"===b.axisX.valueType||"dateTime"===b.xValueType||t.x&&t.x.getTime?g.plotInfo.plotTypes[0].plotUnits[0].axisX&&!g.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?ut(l,t.xValueFormatString?t.xValueFormatString:b.xValueFormatString?b.xValueFormatString:b.xValueFormatString=g.axisX&&g.axisX.autoValueFormatString?g.axisX.autoValueFormatString:"DD MMM YY",g._cultureInfo):void 0:mt(l,t.xValueFormatString?t.xValueFormatString:b.xValueFormatString?b.xValueFormatString:b.xValueFormatString="#,##0.########",g._cultureInfo)}))},l(v,V),v.prototype.setLayout=function(){var a=this.dockInsidePlotArea?this.chart.plotArea:this.chart,t=a.layoutManager.getFreeSpace(),b=null,e=0,n=0,g=0,o=0,l=this.markerMargin=this.chart.options.legend&&!u(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var r=[],h=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",b=this.verticalAlign,g=this.maxWidth=null!==this.maxWidth?this.maxWidth:t.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*t.height):"center"===this.verticalAlign&&(this.orientation="vertical",b=this.horizontalAlign,g=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*t.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:t.height),this.errorMarkerColor=[];for(var s=0;s<this.dataSeries.length;s++){var q=this.dataSeries[s];if(q.dataPoints&&q.dataPoints.length)if("pie"!==q.type&&"doughnut"!==q.type&&"funnel"!==q.type&&"pyramid"!==q.type){var d=q.legendMarkerType=q.legendMarkerType?q.legendMarkerType:"line"!==q.type&&"stepLine"!==q.type&&"spline"!==q.type&&"scatter"!==q.type&&"bubble"!==q.type||!q.markerType?"error"===q.type&&q._linkedSeries?q._linkedSeries.legendMarkerType?q._linkedSeries.legendMarkerType:R.getDefaultLegendMarker(q._linkedSeries.type):R.getDefaultLegendMarker(q.type):q.markerType,c=q.legendText?q.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:q,dataPoint:null}):q.name,p=q.legendMarkerColor=q.legendMarkerColor?q.legendMarkerColor:q.markerColor?q.markerColor:"error"===q.type?u(q.whiskerColor)?q._colorSet[0]:q.whiskerColor:q._colorSet[0],x=q.markerSize||"line"!==q.type&&"stepLine"!==q.type&&"spline"!==q.type?.75*this.lineHeight:0,m=q.legendMarkerBorderColor?q.legendMarkerBorderColor:q.markerBorderColor,y=q.legendMarkerBorderThickness?q.legendMarkerBorderThickness:q.markerBorderThickness?Math.max(1,Math.round(.2*x)):0;"error"===q.type&&this.errorMarkerColor.push(p),d={markerType:d,markerColor:p,text:c=this.chart.replaceKeywordsWithValue(c,q.dataPoints[0],q,s),textBlock:null,chartType:q.type,markerSize:x,lineColor:q._colorSet[0],dataSeriesIndex:q.index,dataPointIndex:null,markerBorderColor:m,markerBorderThickness:y},r.push(d)}else for(var v=0;v<q.dataPoints.length;v++){var f=q.dataPoints[v];d=f.legendMarkerType?f.legendMarkerType:q.legendMarkerType?q.legendMarkerType:R.getDefaultLegendMarker(q.type),c=f.legendText?f.legendText:q.legendText?q.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:q,dataPoint:f}):f.name?f.name:"DataPoint: "+(v+1),p=f.legendMarkerColor?f.legendMarkerColor:q.legendMarkerColor?q.legendMarkerColor:f.color?f.color:q.color?q.color:q._colorSet[v%q._colorSet.length],x=.75*this.lineHeight,m=f.legendMarkerBorderColor?f.legendMarkerBorderColor:q.legendMarkerBorderColor?q.legendMarkerBorderColor:f.markerBorderColor?f.markerBorderColor:q.markerBorderColor,y=f.legendMarkerBorderThickness?f.legendMarkerBorderThickness:q.legendMarkerBorderThickness?q.legendMarkerBorderThickness:f.markerBorderThickness||q.markerBorderThickness?Math.max(1,Math.round(.2*x)):0,d={markerType:d,markerColor:p,text:c=this.chart.replaceKeywordsWithValue(c,f,q,v),textBlock:null,chartType:q.type,markerSize:x,dataSeriesIndex:s,dataPointIndex:v,markerBorderColor:m,markerBorderThickness:y};(f.showInLegend||q.showInLegend&&!1!==f.showInLegend)&&r.push(d)}}if(!0===this.reversed&&r.reverse(),0<r.length){for(q=null,p=c=f=v=0,f=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,g):this.itemMaxWidth=Math.min(this.itemWidth,g):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,g):this.itemMaxWidth=g,f-=(x=0===x?.75*this.lineHeight:x)+l,s=0;s<r.length;s++)m=f,"line"!==(d=r[s]).chartType&&"spline"!==d.chartType&&"stepLine"!==d.chartType||(m-=.2*this.lineHeight),0>=o||void 0===o||0>=m||void 0===m||("horizontal"===this.orientation?(d.textBlock=new W(this.ctx,{x:0,y:0,maxWidth:m,maxHeight:this.itemWrap?o:this.lineHeight,angle:0,text:d.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),d.textBlock.measureText(),null!==this.itemWidth&&(d.textBlock.width=this.itemWidth-(x+l+("line"===d.chartType||"spline"===d.chartType||"stepLine"===d.chartType?.2*this.lineHeight:0))),(!q||q.width+Math.round(d.textBlock.width+x+l+(0===q.width?0:this.horizontalSpacing)+("line"===d.chartType||"spline"===d.chartType||"stepLine"===d.chartType?.2*this.lineHeight:0))>g)&&(q={items:[],width:0},h.push(q),this.height+=c,c=0),c=Math.max(c,d.textBlock.height)):(d.textBlock=new W(this.ctx,{x:0,y:0,maxWidth:f,maxHeight:!0===this.itemWrap?o:1.5*this.fontSize,angle:0,text:d.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),d.textBlock.measureText(),null!==this.itemWidth&&(d.textBlock.width=this.itemWidth-(x+l+("line"===d.chartType||"spline"===d.chartType||"stepLine"===d.chartType?.2*this.lineHeight:0))),this.height<o-this.lineHeight?(q={items:[],width:0},h.push(q)):(q=h[v],v=(v+1)%h.length),this.height+=d.textBlock.height),d.textBlock.x=q.width,d.textBlock.y=0,q.width+=Math.round(d.textBlock.width+x+l+(0===q.width?0:this.horizontalSpacing)+("line"===d.chartType||"spline"===d.chartType||"stepLine"===d.chartType?.2*this.lineHeight:0)),q.items.push(d),this.width=Math.max(q.width,this.width),p=d.textBlock.width+(x+l+("line"===d.chartType||"spline"===d.chartType||"stepLine"===d.chartType?.2*this.lineHeight:0)));this.itemWidth=p,this.height=!1===this.itemWrap?h.length*this.lineHeight:this.height+c,this.height=Math.min(o,this.height),this.width=Math.min(g,this.width)}for("top"===this.verticalAlign?(n="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,e=t.y1):"center"===this.verticalAlign?(n="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,e=t.y1+t.height/2-this.height/2):"bottom"===this.verticalAlign&&(n="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,e=t.y2-this.height),this.items=r,s=0;s<this.items.length;s++)(d=r[s]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[d.id]={id:d.id,objectType:"legendItem",legendItemIndex:s,dataSeriesIndex:d.dataSeriesIndex,dataPointIndex:d.dataPointIndex};this.markerSize=x,this.rows=h,0<r.length&&a.layoutManager.registerSpace(b,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:n,y1:e,x2:n+this.width,y2:e+this.height}},v.prototype.render=function(){var a=this.bounds.x1,t=this.bounds.y1,b=this.markerMargin,e=this.maxWidth,n=this.maxHeight,g=this.markerSize,o=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(a,t,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var l=0,r=0;r<o.length;r++){for(var h=o[r],s=0,q=0;q<h.items.length;q++){var d=h.items[q],c=d.textBlock.x+a+(0===q?.2*g:this.horizontalSpacing),p=t+l,u=c;if(this.chart.data[d.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(a,t,e,Math.max(n-n%this.lineHeight,0)),this.ctx.clip(),"line"!==d.chartType&&"stepLine"!==d.chartType&&"spline"!==d.chartType||(this.ctx.strokeStyle=d.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(c-.1*this.lineHeight,p+this.lineHeight/2),this.ctx.lineTo(c+.85*this.lineHeight,p+this.lineHeight/2),this.ctx.stroke(),u-=.1*this.lineHeight),"error"===d.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=g/8,this.ctx.beginPath();var x=c-.08*this.lineHeight+.1*this.lineHeight,m=p+.15*this.lineHeight,v=.7*this.lineHeight,f=v+.02*this.lineHeight;this.ctx.moveTo(x,m),this.ctx.lineTo(x+v,m),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(x+v/2,m),this.ctx.lineTo(x+v/2,m+f),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(x,m+f),this.ctx.lineTo(x+v,m+f),this.ctx.stroke(),this.errorMarkerColor.shift()}nt.drawMarker(c+g/2,p+this.lineHeight/2,this.ctx,d.markerType,"error"===d.chartType||"line"===d.chartType||"spline"===d.chartType?d.markerSize/2:d.markerSize,d.markerColor,d.markerBorderColor,d.markerBorderThickness),d.textBlock.x=c+b+g,"line"!==d.chartType&&"stepLine"!==d.chartType&&"spline"!==d.chartType||(d.textBlock.x+=.1*this.lineHeight),d.textBlock.y=Math.round(p+this.lineHeight/2),d.textBlock.render(!0),this.ctx.restore(),s=0<q?Math.max(s,d.textBlock.height):d.textBlock.height,this.chart.data[d.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),c=y(d.id),this.ghostCtx.fillStyle=c,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(u,d.textBlock.y-this.lineHeight/2,d.textBlock.x+d.textBlock.width-u,d.textBlock.height),d.x1=this.chart._eventManager.objectMap[d.id].x1=u,d.y1=this.chart._eventManager.objectMap[d.id].y1=d.textBlock.y-this.lineHeight/2,d.x2=this.chart._eventManager.objectMap[d.id].x2=d.textBlock.x+d.textBlock.width,d.y2=this.chart._eventManager.objectMap[d.id].y2=d.textBlock.y+d.textBlock.height-this.lineHeight/2}l+=s}},l(R,V),R.prototype.getDefaultAxisPlacement=function(){var a=this.type;return"column"===a||"line"===a||"stepLine"===a||"spline"===a||"area"===a||"stepArea"===a||"splineArea"===a||"stackedColumn"===a||"stackedLine"===a||"bubble"===a||"scatter"===a||"stackedArea"===a||"stackedColumn100"===a||"stackedLine100"===a||"stackedArea100"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"normal":"bar"===a||"stackedBar"===a||"stackedBar100"===a||"rangeBar"===a?"xySwapped":"pie"===a||"doughnut"===a||"funnel"===a||"pyramid"===a?"none":("error"!==a&&window.console.log("Unknown Chart Type: "+a),null)},R.getDefaultLegendMarker=function(a){return"column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===a||"stackedColumn100"===a||"stackedLine100"===a||"stepArea"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeBar"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"square":"line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a?"circle":"area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a||"funnel"===a||"pyramid"===a?"triangle":"error"===a?"none":(window.console.log("Unknown Chart Type: "+a),null)},R.prototype.getDataPointAtX=function(a,t){if(!this.dataPoints||0===this.dataPoints.length)return null;var b={dataPoint:null,distance:1/0,index:NaN},e=null,n=0,g=0,o=1,l=1/0,r=0,h=0,s=0;for("none"!==this.chart.plotInfo.axisPlacement&&(this.axisX.logarithmic?s=1<(s=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/s*Math.log(a/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:s=0<(s=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/s*(a-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(g=0<o?s+n:s-n)&&g<this.dataPoints.length){e=this.dataPoints[g];var q=this.axisX.logarithmic?e.x>a?e.x/a:a/e.x:Math.abs(e.x-a);if(q<b.distance&&(b.dataPoint=e,b.distance=q,b.index=g),(e=q)<=l?l=e:0<o?r++:h++,1e3<r&&1e3<h)break}else if(0>s-n&&s+n>=this.dataPoints.length)break;-1===o?(n++,o=1):o=-1}return t||b.dataPoint.x!==a?t&&null!==b.dataPoint?b:null:b},R.prototype.getDataPointAtXY=function(a,t,b){if(!this.dataPoints||0===this.dataPoints.length||a<this.chart.plotArea.x1||a>this.chart.plotArea.x2||t<this.chart.plotArea.y1||t>this.chart.plotArea.y2)return null;b=b||!1;var e=[],n=0,g=0,o=1,l=!1,r=1/0,h=0,s=0,q=0;if("none"!==this.chart.plotInfo.axisPlacement)if(q=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:a,y:t}),this.axisX.logarithmic)q=1<(d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(q/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else q=0<(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/d*(q-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(0<=(g=0<o?q+n:q-n)&&g<this.dataPoints.length){var d=this.chart._eventManager.objectMap[this.dataPointIds[g]],c=this.dataPoints[g],p=null;if(d){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":a>=d.x1&&a<=d.x2&&t>=d.y1&&t<=d.y2&&(e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:Math.min(Math.abs(d.x1-a),Math.abs(d.x2-a),Math.abs(d.y1-t),Math.abs(d.y2-t))}),l=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var u=C("markerSize",c,this)||4,x=b?20:u;(p=Math.sqrt(Math.pow(d.x1-a,2)+Math.pow(d.y1-t,2)))<=x&&e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:p}),(d=Math.abs(d.x1-a))<=r?r=d:0<o?h++:s++,p<=u/2&&(l=!0);break;case"rangeArea":case"rangeSplineArea":u=C("markerSize",c,this)||4,x=b?20:u,(p=Math.min(Math.sqrt(Math.pow(d.x1-a,2)+Math.pow(d.y1-t,2)),Math.sqrt(Math.pow(d.x1-a,2)+Math.pow(d.y2-t,2))))<=x&&e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:p}),(d=Math.abs(d.x1-a))<=r?r=d:0<o?h++:s++,p<=u/2&&(l=!0);break;case"bubble":u=d.size,(p=Math.sqrt(Math.pow(d.x1-a,2)+Math.pow(d.y1-t,2)))<=u/2&&(e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:p}),l=!0);break;case"pie":case"doughnut":u=d.center,x="doughnut"===this.type?d.percentInnerRadius*d.radius:0,(p=Math.sqrt(Math.pow(u.x-a,2)+Math.pow(u.y-t,2)))<d.radius&&p>x&&(0>(p=Math.atan2(t-u.y,a-u.x))&&(p+=2*Math.PI),p=Number(((p/Math.PI*180%360+360)%360).toFixed(12)),u=Number(((d.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(x=Number(((d.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<d.endAngle&&(x=360),u>=x&&0!==c.y&&(x+=360,p<u&&(p+=360)),p>u&&p<x&&(e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:0}),l=!0));break;case"funnel":case"pyramid":t>(p=d.funnelSection).y1&&t<p.y4&&(p.y6?t>p.y6?(g=p.x6+(p.x5-p.x6)/(p.y5-p.y6)*(t-p.y6),p=p.x3+(p.x4-p.x3)/(p.y4-p.y3)*(t-p.y3)):(g=p.x1+(p.x6-p.x1)/(p.y6-p.y1)*(t-p.y1),p=p.x2+(p.x3-p.x2)/(p.y3-p.y2)*(t-p.y2)):(g=p.x1+(p.x4-p.x1)/(p.y4-p.y1)*(t-p.y1),p=p.x2+(p.x3-p.x2)/(p.y3-p.y2)*(t-p.y2)),a>g&&a<p&&(e.push({dataPoint:c,dataPointIndex:d.dataPointIndex,dataSeries:this,distance:0}),l=!0));break;case"boxAndWhisker":(a>=d.x1-d.borderThickness/2&&a<=d.x2+d.borderThickness/2&&t>=d.y4-d.borderThickness/2&&t<=d.y1+d.borderThickness/2||Math.abs(d.x2-a+d.x1-a)<d.borderThickness&&t>=d.y1&&t<=d.y4)&&(e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:Math.min(Math.abs(d.x1-a),Math.abs(d.x2-a),Math.abs(d.y2-t),Math.abs(d.y3-t))}),l=!0);break;case"candlestick":(a>=d.x1-d.borderThickness/2&&a<=d.x2+d.borderThickness/2&&t>=d.y2-d.borderThickness/2&&t<=d.y3+d.borderThickness/2||Math.abs(d.x2-a+d.x1-a)<d.borderThickness&&t>=d.y1&&t<=d.y4)&&(e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:Math.min(Math.abs(d.x1-a),Math.abs(d.x2-a),Math.abs(d.y2-t),Math.abs(d.y3-t))}),l=!0);break;case"ohlc":(Math.abs(d.x2-a+d.x1-a)<d.borderThickness&&t>=d.y2&&t<=d.y3||a>=d.x1&&a<=(d.x2+d.x1)/2&&t>=d.y1-d.borderThickness/2&&t<=d.y1+d.borderThickness/2||a>=(d.x1+d.x2)/2&&a<=d.x2&&t>=d.y4-d.borderThickness/2&&t<=d.y4+d.borderThickness/2)&&(e.push({dataPoint:c,dataPointIndex:g,dataSeries:this,distance:Math.min(Math.abs(d.x1-a),Math.abs(d.x2-a),Math.abs(d.y2-t),Math.abs(d.y3-t))}),l=!0)}if(l||1e3<h&&1e3<s)break}}else if(0>q-n&&q+n>=this.dataPoints.length)break;-1===o?(n++,o=1):o=-1}for(a=null,t=0;t<e.length;t++)a?e[t].distance<=a.distance&&(a=e[t]):a=e[t];return a},R.prototype.getMarkerProperties=function(a,t,b,e){var n=this.dataPoints;return{x:t,y:b,ctx:e,type:n[a].markerType?n[a].markerType:this.markerType,size:n[a].markerSize?n[a].markerSize:this.markerSize,color:n[a].markerColor?n[a].markerColor:this.markerColor?this.markerColor:n[a].color?n[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],borderColor:n[a].markerBorderColor?n[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:n[a].markerBorderThickness?n[a].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},l(N,V),N.prototype.createExtraLabelsForLog=function(a){if(!(5<(a=(a||0)+1))){var t=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(t/this.viewportMinimum)<this.noTicks-1){for(var b=N.getNiceNumber((t-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),e=Math.ceil(this.viewportMinimum/b)*b;e<t;e+=b)e<this.viewportMinimum||this.logLabelValues.push(e);this.logLabelValues.sort(x),this.createExtraLabelsForLog(a)}}},N.prototype.createLabels=function(){var a,t,n,o,p,b=0,l=0,g=0,h=0,d=(l=0,l=this.interval,0),c=.6*this.chart.height;a=!1;var q=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],x=q.length?u(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){a=Math.ceil(l);var m=!1;for(b=l=Math.ceil(this.intervalStartPosition);b<this.viewportMaximum;b+=a){if(!this.labels[b]){m=!1;break}m=!0}m&&(this.interval=a,this.intervalStartPosition=l)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),l=0,m=x;l<this.logLabelValues.length;l++)if((b=this.logLabelValues[l])<this.viewportMinimum)l++;else{for(;m<q.length&&b>q[m].endValue;m++);p=b,(a=m<q.length&&b>=q[m].startValue&&b<=q[m].endValue)||(a=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:p,label:this.labels[p]?this.labels[p]:null}):"axisX"===this.type&&this.labels[p]?this.labels[p]:mt(p,this.valueFormatString,this.chart._cultureInfo),a=new W(this.ctx,Object(e.a)({x:0,y:0,maxWidth:g,maxHeight:h,angle:this.labelAngle,text:this.prefix+a+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"},"borderThickness",0)),this._labels.push({position:p,textBlock:a,effectiveHeight:null}))}for(m=x,b=this.intervalStartPosition;b<=n;b=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?b*Math.pow(this.logarithmBase,this.interval):b+this.interval:(this.logarithmic&&this.equidistantInterval?b*Math.pow(this.logarithmBase,this.interval):b+this.interval).toFixed(12))){for(;m<q.length&&b>q[m].endValue;m++);p=b,(a=m<q.length&&b>=q[m].startValue&&b<=q[m].endValue)||(a=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:p,label:this.labels[p]?this.labels[p]:null}):"axisX"===this.type&&this.labels[p]?this.labels[p]:mt(p,this.valueFormatString,this.chart._cultureInfo),a=new W(this.ctx,{x:0,y:0,maxWidth:g,maxHeight:h,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:p,textBlock:a,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=r(new Date(this.viewportMaximum),this.interval,this.intervalType),m=x,b=this.intervalStartPosition;b<n;r(b,l,this.intervalType)){for(a=b.getTime();m<q.length&&a>q[m].endValue;m++);p=a,(a=m<q.length&&a>=q[m].startValue&&a<=q[m].endValue)||(a=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(p),label:this.labels[p]?this.labels[p]:null}):"axisX"===this.type&&this.labels[p]?this.labels[p]:ut(p,this.valueFormatString,this.chart._cultureInfo),a=new W(this.ctx,{x:0,y:0,maxWidth:g,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:h,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:p,textBlock:a,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(d=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*lt[this.intervalType+"Duration"]*this.interval,g=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(h=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(d=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*lt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(g=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),h=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),l=0;l<this._labels.length;l++){(a=this._labels[l].textBlock).maxWidth=g,a.maxHeight=h;var y=a.measureText();o=y.height}if(n=[],x=q=0,this.labelAutoFit||this.options.labelAutoFit)if(u(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(g=.9*d>>0,x=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,b=0;b<this._labels.length;b++)if(!this._labels[b].breaksLabelType){var v;for(m=(a=this._labels[b].textBlock).text.split(" "),l=0;l<m.length;l++)p=m[l],this.ctx.font=a.fontStyle+" "+a.fontWeight+" "+a.fontSize+"px "+a.fontFamily,(p=this.ctx.measureText(p)).width>x&&(v=b,x=p.width)}for(b=0,b=this.intervalStartPosition<this.viewportMinimum?1:0;b<this._labels.length;b++)if(!this._labels[b].breaksLabelType){for(y=(a=this._labels[b].textBlock).measureText(),m=b+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){t=(t=this._labels[m].textBlock).measureText();break}if(n.push(a.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l=g*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:Math.min((l-g*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),p=(c-(o+a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),u(this.options.labelWrap)){if(u(this.options.labelWrap))if(u(this.options.labelMaxWidth)){if(!u(t))if(l=y.width+t.width>>0,m=this.labelFontSize,x<g)l-2*g>q&&(q=l-2*g,l>=2*g&&l<2.2*g?(this.sessionVariables.labelMaxWidth=g,u(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),a.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=2.2*g&&l<2.8*g?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelFontSize=m):l>=2.8*g&&l<3.2*g?(this.sessionVariables.labelMaxWidth=Math.max(g,x),this.sessionVariables.labelWrap=!0,u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=3.2*g&&l<3.6*g?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelFontSize=this.labelFontSize):l>3.6*g&&l<5*g?(u(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),a.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p):l>5*g&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelFontSize=m,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle));else if(v===b&&(0===v&&x+this._labels[v+1].textBlock.measureText().width-2*g>q||v===this._labels.length-1&&x+this._labels[v-1].textBlock.measureText().width-2*g>q||0<v&&v<this._labels.length-1&&x+this._labels[v+1].textBlock.measureText().width-2*g>q&&x+this._labels[v-1].textBlock.measureText().width-2*g>q))q=0===v?x+this._labels[v+1].textBlock.measureText().width-2*g:x+this._labels[v-1].textBlock.measureText().width-2*g,this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p;else if(0===q)for(this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,l=0;l<this._labels.length;l++)(a=this._labels[l].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(g,x),p),y=a.measureText(),l<this._labels.length-1&&(m=l+1,(t=this._labels[m].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(g,x),p),t=t.measureText(),y.width+t.width>>0>2*g&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<g?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h)}else this.labelWrap?u(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(g,x),p),this.sessionVariables.labelWrap=this.labelWrap,y.width+t.width>>0>2*g&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>g?-25:this.sessionVariables.labelAngle):u(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=g,y.width+t.width>>0>2*g&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>g?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:Math.min((l-g*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),p=0!=this.labelAngle?(c-(o+a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):g,this.sessionVariables.labelMaxHeight=h=this.labelWrap?(c-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,u(this.options.labelWrap)?u(this.options.labelWrap)&&(this.labelWrap&&!u(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelMaxHeight=l<.9*d?.9*d:l,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p):(u(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=h)}for(l=0;l<this._labels.length;l++)(a=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,a.fontSize=this.sessionVariables.labelFontSize,a.angle=this.labelAngle=this.sessionVariables.labelAngle,a.wrap=this.labelWrap=this.sessionVariables.labelWrap,a.maxHeight=this.sessionVariables.labelMaxHeight,a.measureText()}else for(b=0;b<this._labels.length;b++)(a=this._labels[b].textBlock).maxWidth=this.labelMaxWidth=u(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,a.fontSize=this.labelFontSize=u(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,a.angle=this.labelAngle=u(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,a.wrap=this.labelWrap=u(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,a.maxHeight=this.sessionVariables.labelMaxHeight,a.measureText();else if("left"===this._position||"right"===this._position)if(g=u(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,h=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,b=0;b<this._labels.length;b++)if(!this._labels[b].breaksLabelType){for(y=(a=this._labels[b].textBlock).measureText(),m=b+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){t=(t=this._labels[m].textBlock).measureText();break}n.push(a.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),l=g*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),u(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?u(this.options.labelWrap)?u(this.options.labelWrap)&&(u(this.options.labelMaxWidth)?u(t)||(d=y.height+t.height>>0)-2*h>x&&(x=d-2*h,d>=2*h&&d<2.4*h?(u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):d>=2.4*h&&d<2.8*h?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):d>=2.8*h&&d<3.2*h?(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=!0,u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):d>=3.2*h&&d<3.6*h?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):d>3.6*h&&d<10*h?(u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):d>10*h&&d<50*h&&(u(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),a.measureText()),this.sessionVariables.labelFontSize=u(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelAngle=u(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:g,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?g:Math.min((l-h*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),h),u(this.options.labelWrap)?u(this.options.labelWrap)&&(this.labelWrap&&!u(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g,this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:l,u(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?h:l,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=g):(this.sessionVariables.labelMaxHeight=h,u(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(l=0;l<this._labels.length;l++)(a=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,a.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,a.angle=this.labelAngle=this.sessionVariables.labelAngle,a.wrap=this.labelWrap=this.sessionVariables.labelWrap,a.maxHeight=this.sessionVariables.labelMaxHeight,a.measureText()}else for(b=0;b<this._labels.length;b++)(a=this._labels[b].textBlock).maxWidth=this.labelMaxWidth=u(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,a.fontSize=this.labelFontSize=u(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,a.angle=this.labelAngle=u(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,a.wrap=this.labelWrap=u(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,a.maxHeight=this.sessionVariables.labelMaxHeight,a.measureText();for(b=0;b<this.stripLines.length;b++){var f;"outside"===(g=this.stripLines[b]).labelPlacement?(h=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(f=u(g.options.labelWrap)?this.sessionVariables.labelMaxHeight:g.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(f=u(g.options.labelWrap)?this.sessionVariables.labelMaxHeight:g.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),u(g.labelBackgroundColor)&&(g.labelBackgroundColor="#EEEEEE")):(h="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,f=u(g.options.labelWrap)||g.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,u(g.labelBackgroundColor)&&(u(g.startValue)&&0!==g.startValue?g.labelBackgroundColor=J?"transparent":null:g.labelBackgroundColor="#EEEEEE")),a=new W(this.ctx,{x:0,y:0,backgroundColor:g.labelBackgroundColor,borderColor:g.labelBorderColor,borderThickness:g.labelBorderThickness,cornerRadius:g.labelCornerRadius,maxWidth:g.options.labelMaxWidth?g.options.labelMaxWidth:h,maxHeight:f,angle:this.labelAngle,text:g.labelFormatter?g.labelFormatter({chart:this.chart,axis:this,stripLine:g}):g.label,horizontalAlign:"left",fontSize:"outside"===g.labelPlacement?g.options.labelFontSize?g.labelFontSize:this.labelFontSize:g.labelFontSize,fontFamily:"outside"===g.labelPlacement?g.options.labelFontFamily?g.labelFontFamily:this.labelFontFamily:g.labelFontFamily,fontWeight:"outside"===g.labelPlacement?g.options.labelFontWeight?g.labelFontWeight:this.labelFontWeight:g.labelFontWeight,fontColor:g.labelFontColor||g.color,fontStyle:"outside"===g.labelPlacement?g.options.labelFontStyle?g.labelFontStyle:this.fontWeight:g.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:g.value,textBlock:a,effectiveHeight:null,stripLine:g})}},N.prototype.createLabelsAndCalculateWidth=function(){var a=0,t=0;this._labels=[],this._stripLineLabels=[];var b=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),t=0;t<this._labels.length;t++){var e=this._labels[t].textBlock,n=e.measureText(),g=0;a<(g=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(n.height-e.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(a=g),this._labels[t].effectiveWidth=g}for(t=0;t<this._stripLineLabels.length;t++)"outside"===this._stripLineLabels[t].stripLine.labelPlacement&&this._stripLineLabels[t].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[t].stripLine.value<=this.viewportMaximum&&(n=(e=this._stripLineLabels[t].textBlock).measureText(),a<(g=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(n.height-e.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(a=g),this._stripLineLabels[t].effectiveWidth=g)}return t=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?e=t+b:t+a+this.tickLength+b},N.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=[],this._stripLineLabels=[];var t,b=0,e=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(b=0;b<this._labels.length;b++){var n=(t=this._labels[b].textBlock).measureText(),g=0;a<(g=0===this.labelAngle?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(a=g),this._labels[b].effectiveHeight=g}for(b=0;b<this._stripLineLabels.length;b++)"outside"===this._stripLineLabels[b].stripLine.labelPlacement&&this._stripLineLabels[b].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[b].stripLine.value<=this.viewportMaximum&&(n=(t=this._stripLineLabels[b].textBlock).measureText(),a<(g=0===this.labelAngle?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(a=g),this._stripLineLabels[b].effectiveHeight=g)}return t=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?b=t+e:t+a+this.tickLength+e},N.setLayout=function(a,t,b,e,n,g){var o,l,r,h,p=a[0]?a[0].chart:t[0].chart,q=p.isNavigator?0:10,d=p._axes;if(a&&0<a.length)for(var c=0;c<a.length;c++)a[c]&&a[c].calculateAxisParameters();if(t&&0<t.length)for(c=0;c<t.length;c++)t[c].calculateAxisParameters();if(b&&0<b.length)for(c=0;c<b.length;c++)b[c].calculateAxisParameters();if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].calculateAxisParameters();for(c=0;c<d.length;c++)if(d[c]&&d[c].scaleBreaks&&d[c].scaleBreaks._appliedBreaks.length)for(var x=d[c].scaleBreaks._appliedBreaks,m=0;m<x.length&&!(x[m].startValue>d[c].viewportMaximum);m++)x[m].endValue<d[c].viewportMinimum||(u(d[c].scaleBreaks.firstBreakIndex)&&(d[c].scaleBreaks.firstBreakIndex=m),x[m].startValue>=d[c].viewPortMinimum&&(d[c].scaleBreaks.lastBreakIndex=m));var y,v,f,k,M,T=m=0,w=0,P=0,C=0,S=0,_=0,A=l=0;for(x=f=k=M=!1,c=0;c<d.length;c++)d[c]&&d[c].title&&(d[c]._titleTextBlock=new W(d[c].ctx,{text:d[c].title,horizontalAlign:"center",fontSize:d[c].titleFontSize,fontFamily:d[c].titleFontFamily,fontWeight:d[c].titleFontWeight,fontColor:d[c].titleFontColor,fontStyle:d[c].titleFontStyle,borderColor:d[c].titleBorderColor,borderThickness:d[c].titleBorderThickness,backgroundColor:d[c].titleBackgroundColor,cornerRadius:d[c].titleCornerRadius,textBaseline:"top"}));for(c=0;c<d.length;c++)if(d[c].title)switch(d[c]._position){case"left":d[c]._titleTextBlock.maxWidth=d[c].titleMaxWidth||g.height,d[c]._titleTextBlock.maxHeight=d[c].titleWrap?.8*g.width:1.5*d[c].titleFontSize,d[c]._titleTextBlock.angle=-90;break;case"right":d[c]._titleTextBlock.maxWidth=d[c].titleMaxWidth||g.height,d[c]._titleTextBlock.maxHeight=d[c].titleWrap?.8*g.width:1.5*d[c].titleFontSize,d[c]._titleTextBlock.angle=90;break;default:d[c]._titleTextBlock.maxWidth=d[c].titleMaxWidth||g.width,d[c]._titleTextBlock.maxHeight=d[c].titleWrap?.8*g.height:1.5*d[c].titleFontSize,d[c]._titleTextBlock.angle=0}if("normal"===n){P=[],C=[],S=[],_=[];for(var B=[],F=[],L=[],I=[];4>m;){var V=0,D=0,z=0,X=0,Y=n=0,E=0,O=0,R=0,N=0,H=0,j=0;if(b&&0<b.length)for(S=[],c=H=0;c<b.length;c++)S.push(Math.ceil(b[c]?b[c].createLabelsAndCalculateWidth():0)),H+=S[c],E+=b[c]&&!p.isNavigator?b[c].margin:0;else S.push(Math.ceil(b[0]?b[0].createLabelsAndCalculateWidth():0));if(L.push(S),e&&0<e.length)for(_=[],c=j=0;c<e.length;c++)_.push(Math.ceil(e[c]?e[c].createLabelsAndCalculateWidth():0)),j+=_[c],O+=e[c]?e[c].margin:0;else _.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(I.push(_),o=Math.round(g.x1+H+E),r=Math.round(g.x2-j-O>p.width-q?p.width-q:g.x2-j-O),a&&0<a.length)for(P=[],c=R=0;c<a.length;c++)a[c]&&(a[c].lineCoordinates={}),a[c].lineCoordinates.width=Math.abs(r-o),a[c].title&&(a[c]._titleTextBlock.maxWidth=0<a[c].titleMaxWidth&&a[c].titleMaxWidth<a[c].lineCoordinates.width?a[c].titleMaxWidth:a[c].lineCoordinates.width),P.push(Math.ceil(a[c]?a[c].createLabelsAndCalculateHeight():0)),R+=P[c],n+=a[c]&&!p.isNavigator?a[c].margin:0;else P.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0));if(B.push(P),t&&0<t.length)for(C=[],c=N=0;c<t.length;c++)t[c]&&(t[c].lineCoordinates={}),t[c].lineCoordinates.width=Math.abs(r-o),t[c].title&&(t[c]._titleTextBlock.maxWidth=0<t[c].titleMaxWidth&&t[c].titleMaxWidth<t[c].lineCoordinates.width?t[c].titleMaxWidth:t[c].lineCoordinates.width),C.push(Math.ceil(t[c]?t[c].createLabelsAndCalculateHeight():0)),N+=C[c],Y+=t[c]&&!p.isNavigator?t[c].margin:0;else C.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(F.push(C),a&&0<a.length)for(c=0;c<a.length;c++)a[c]&&(a[c].lineCoordinates.x1=o,r=Math.round(g.x2-j-O>p.width-q?p.width-q:g.x2-j-O),a[c]._labels&&1<a[c]._labels.length&&(l=h=0,h=a[c]._labels[1],l="dateTime"===a[c].valueType?a[c]._labels[a[c]._labels.length-2]:a[c]._labels[a[c]._labels.length-1],T=h.textBlock.width*Math.cos(Math.PI/180*Math.abs(h.textBlock.angle))+(h.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(h.textBlock.angle)),w=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle))),!a[c]||!a[c].labelAutoFit||u(y)||u(v)||p.isNavigator||(l=0,0<a[c].labelAngle?v+w>r&&(l+=0<a[c].labelAngle?v+w-r-j:0):0>a[c].labelAngle?y-T<o&&y-T<a[c].viewportMinimum&&(A=o-(E+a[c].tickLength+S+y-T+a[c].labelFontSize/2)):0===a[c].labelAngle&&(v+w>r&&(l=v+w/2-r-j),y-T<o&&y-T<a[c].viewportMinimum&&(A=o-E-a[c].tickLength-S-y+T/2)),a[c].viewportMaximum===a[c].maximum&&a[c].viewportMinimum===a[c].minimum&&0<a[c].labelAngle&&0<l?r-=l:a[c].viewportMaximum===a[c].maximum&&a[c].viewportMinimum===a[c].minimum&&0>a[c].labelAngle&&0<A?o+=A:a[c].viewportMaximum===a[c].maximum&&a[c].viewportMinimum===a[c].minimum&&0===a[c].labelAngle&&(0<A&&(o+=A),0<l&&(r-=l))),p.panEnabled?R=p.sessionVariables.axisX.height:p.sessionVariables.axisX.height=R,l=Math.round(g.y2-R-n+V),h=Math.round(g.y2),a[c].lineCoordinates.x2=r,a[c].lineCoordinates.width=r-o,a[c].lineCoordinates.y1=l,a[c].lineCoordinates.y2=l,a[c].bounds={x1:o,y1:l,x2:r,y2:h-(R+n-P[c]-V),width:r-o,height:h-l}),V+=P[c]+a[c].margin;if(t&&0<t.length)for(c=0;c<t.length;c++)t[c].lineCoordinates.x1=Math.round(g.x1+H+E),t[c].lineCoordinates.x2=Math.round(g.x2-j-O>p.width-q?p.width-q:g.x2-j-O),t[c].lineCoordinates.width=Math.abs(r-o),t[c]._labels&&1<t[c]._labels.length&&(h=t[c]._labels[1],l="dateTime"===t[c].valueType?t[c]._labels[t[c]._labels.length-2]:t[c]._labels[t[c]._labels.length-1],T=h.textBlock.width*Math.cos(Math.PI/180*Math.abs(h.textBlock.angle))+(h.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(h.textBlock.angle)),w=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle))),p.panEnabled?N=p.sessionVariables.axisX2.height:p.sessionVariables.axisX2.height=N,l=Math.round(g.y1),h=Math.round(g.y2+t[c].margin),t[c].lineCoordinates.y1=l+N+Y-D,t[c].lineCoordinates.y2=l,t[c].bounds={x1:o,y1:l+(N+Y-C[c]-D),x2:r,y2:h,width:r-o,height:h-l},D+=C[c]+t[c].margin;if(b&&0<b.length)for(c=0;c<b.length;c++)E=p.isNavigator?0:10,b[c]&&(o=Math.round(a[0]?a[0].lineCoordinates.x1:t[0].lineCoordinates.x1),E=b[c]._labels&&0<b[c]._labels.length?b[c]._labels[b[c]._labels.length-1].textBlock.height/2:q,l=Math.round(g.y1+N+Y<Math.max(E,q)?Math.max(E,q):g.y1+N+Y),r=Math.round(a[0]?a[0].lineCoordinates.x1:t[0].lineCoordinates.x1),E=0<a.length?0:b[c]._labels&&0<b[c]._labels.length?b[c]._labels[0].textBlock.height/2:q,h=Math.round(g.y2-R-n-E),b[c].lineCoordinates={x1:r-z,y1:l,x2:r-z,y2:h,height:Math.abs(h-l)},b[c].bounds={x1:o-(S[c]+z),y1:l,x2:r,y2:h,width:r-o,height:h-l},b[c].title&&(b[c]._titleTextBlock.maxWidth=0<b[c].titleMaxWidth&&b[c].titleMaxWidth<b[c].lineCoordinates.height?b[c].titleMaxWidth:b[c].lineCoordinates.height),z+=S[c]+b[c].margin);if(e&&0<e.length)for(c=0;c<e.length;c++)e[c]&&(o=Math.round(a[0]?a[0].lineCoordinates.x2:t[0].lineCoordinates.x2),r=Math.round(o),E=e[c]._labels&&0<e[c]._labels.length?e[c]._labels[e[c]._labels.length-1].textBlock.height/2:0,l=Math.round(g.y1+N+Y<Math.max(E,q)?Math.max(E,q):g.y1+N+Y),E=0<a.length?0:e[c]._labels&&0<e[c]._labels.length?e[c]._labels[0].textBlock.height/2:0,h=Math.round(g.y2-(R+n+E)),e[c].lineCoordinates={x1:o+X,y1:l,x2:o+X,y2:h,height:Math.abs(h-l)},e[c].bounds={x1:o,y1:l,x2:r+(_[c]+X),y2:h,width:r-o,height:h-l},e[c].title&&(e[c]._titleTextBlock.maxWidth=0<e[c].titleMaxWidth&&e[c].titleMaxWidth<e[c].lineCoordinates.height?e[c].titleMaxWidth:e[c].lineCoordinates.height),X+=_[c]+e[c].margin);if(a&&0<a.length)for(c=0;c<a.length;c++)a[c]&&(a[c].calculateValueToPixelConversionParameters(),a[c].calculateBreaksSizeInValues(),a[c]._labels&&1<a[c]._labels.length&&(y=(a[c].logarithmic?Math.log(a[c]._labels[1].position/a[c].viewportMinimum)/a[c].conversionParameters.lnLogarithmBase:a[c]._labels[1].position-a[c].viewportMinimum)*Math.abs(a[c].conversionParameters.pixelPerUnit)+a[c].lineCoordinates.x1,o=a[c]._labels[a[c]._labels.length-("dateTime"===a[c].valueType?2:1)].position,o=a[c].getApparentDifference(a[c].viewportMinimum,o),v=a[c].logarithmic?(1<o?Math.log(o)/a[c].conversionParameters.lnLogarithmBase*Math.abs(a[c].conversionParameters.pixelPerUnit):0)+a[c].lineCoordinates.x1:(0<o?o*Math.abs(a[c].conversionParameters.pixelPerUnit):0)+a[c].lineCoordinates.x1));if(t&&0<t.length)for(c=0;c<t.length;c++)t[c].calculateValueToPixelConversionParameters(),t[c].calculateBreaksSizeInValues(),t[c]._labels&&1<t[c]._labels.length&&(y=(t[c].logarithmic?Math.log(t[c]._labels[1].position/t[c].viewportMinimum)/t[c].conversionParameters.lnLogarithmBase:t[c]._labels[1].position-t[c].viewportMinimum)*Math.abs(t[c].conversionParameters.pixelPerUnit)+t[c].lineCoordinates.x1,o=t[c]._labels[t[c]._labels.length-("dateTime"===t[c].valueType?2:1)].position,o=t[c].getApparentDifference(t[c].viewportMinimum,o),v=t[c].logarithmic?(1<o?Math.log(o)/t[c].conversionParameters.lnLogarithmBase*Math.abs(t[c].conversionParameters.pixelPerUnit):0)+t[c].lineCoordinates.x1:(0<o?o*Math.abs(t[c].conversionParameters.pixelPerUnit):0)+t[c].lineCoordinates.x1);for(c=0;c<d.length;c++)"axisY"===d[c].type&&(d[c].calculateValueToPixelConversionParameters(),d[c].calculateBreaksSizeInValues());if(0<m){if(a&&0<a.length)for(c=0;c<a.length;c++)x=B[m-1][c]===B[m][c];else x=!0;if(t&&0<t.length)for(c=0;c<t.length;c++)f=F[m-1][c]===F[m][c];else f=!0;if(b&&0<b.length)for(c=0;c<b.length;c++)k=L[m-1][c]===L[m][c];else k=!0;if(e&&0<e.length)for(c=0;c<e.length;c++)M=I[m-1][c]===I[m][c];else M=!0}if(x&&f&&k&&M)break;m++}if(a&&0<a.length)for(c=0;c<a.length;c++)a[c].calculateStripLinesThicknessInValues(),a[c].calculateBreaksInPixels();if(t&&0<t.length)for(c=0;c<t.length;c++)t[c].calculateStripLinesThicknessInValues(),t[c].calculateBreaksInPixels();if(b&&0<b.length)for(c=0;c<b.length;c++)b[c].calculateStripLinesThicknessInValues(),b[c].calculateBreaksInPixels();if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].calculateStripLinesThicknessInValues(),e[c].calculateBreaksInPixels()}else{for(q=[],y=[],A=[],T=[],v=[],w=[],B=[],F=[];4>m;){if(R=X=D=z=O=E=Y=n=I=L=V=N=0,a&&0<a.length)for(A=[],c=X=0;c<a.length;c++)A.push(Math.ceil(a[c]?a[c].createLabelsAndCalculateWidth():0)),X+=A[c],n+=a[c]&&!p.isNavigator?a[c].margin:0;else A.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0));if(B.push(A),t&&0<t.length)for(T=[],c=R=0;c<t.length;c++)T.push(Math.ceil(t[c]?t[c].createLabelsAndCalculateWidth():0)),R+=T[c],Y+=t[c]?t[c].margin:0;else T.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(F.push(T),b&&0<b.length)for(c=0;c<b.length;c++)b[c].lineCoordinates={},o=Math.round(g.x1+X+n),r=Math.round(g.x2-R-Y>p.width-10?p.width-10:g.x2-R-Y),b[c].labelAutoFit&&!u(P)&&(0<!a.length&&(o=0>b[c].labelAngle?Math.max(o,P):0===b[c].labelAngle?Math.max(o,P/2):o),0<!t.length&&(r=0<b[c].labelAngle?r-C/2:0===b[c].labelAngle?r-C/2:r)),b[c].lineCoordinates.x1=o,b[c].lineCoordinates.x2=r,b[c].lineCoordinates.width=Math.abs(r-o),b[c].title&&(b[c]._titleTextBlock.maxWidth=0<b[c].titleMaxWidth&&b[c].titleMaxWidth<b[c].lineCoordinates.width?b[c].titleMaxWidth:b[c].lineCoordinates.width);if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].lineCoordinates={},o=Math.round(g.x1+X+n),r=Math.round(g.x2-R-Y>e[c].chart.width-10?e[c].chart.width-10:g.x2-R-Y),e[c]&&e[c].labelAutoFit&&!u(S)&&(0<!a.length&&(o=0<e[c].labelAngle?Math.max(o,S):0===e[c].labelAngle?Math.max(o,S/2):o),0<!t.length&&(r-=_/2)),e[c].lineCoordinates.x1=o,e[c].lineCoordinates.x2=r,e[c].lineCoordinates.width=Math.abs(r-o),e[c].title&&(e[c]._titleTextBlock.maxWidth=0<e[c].titleMaxWidth&&e[c].titleMaxWidth<e[c].lineCoordinates.width?e[c].titleMaxWidth:e[c].lineCoordinates.width);if(b&&0<b.length)for(q=[],c=z=0;c<b.length;c++)q.push(Math.ceil(b[c]?b[c].createLabelsAndCalculateHeight():0)),z+=q[c]+b[c].margin,E+=b[c].margin;else q.push(Math.ceil(b[0]?b[0].createLabelsAndCalculateHeight():0));if(v.push(q),e&&0<e.length)for(y=[],c=D=0;c<e.length;c++)y.push(Math.ceil(e[c]?e[c].createLabelsAndCalculateHeight():0)),D+=y[c],O+=e[c].margin;else y.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(w.push(y),b&&0<b.length)for(c=0;c<b.length;c++)0<b[c]._labels.length&&(h=b[c]._labels[0],l=b[c]._labels[b[c]._labels.length-1],P=h.textBlock.width*Math.cos(Math.PI/180*Math.abs(h.textBlock.angle))+(h.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(h.textBlock.angle)),C=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle)));if(e&&0<e.length)for(c=0;c<e.length;c++)e[c]&&0<e[c]._labels.length&&(h=e[c]._labels[0],l=e[c]._labels[e[c]._labels.length-1],S=h.textBlock.width*Math.cos(Math.PI/180*Math.abs(h.textBlock.angle))+(h.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(h.textBlock.angle)),_=l.textBlock.width*Math.cos(Math.PI/180*Math.abs(l.textBlock.angle))+(l.textBlock.height-l.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(l.textBlock.angle)));if(p.panEnabled)for(c=0;c<b.length;c++)q[c]=p.sessionVariables.axisY.height;else for(c=0;c<b.length;c++)p.sessionVariables.axisY.height=q[c];if(b&&0<b.length)for(c=b.length-1;0<=c;c--)l=Math.round(g.y2),h=Math.round(g.y2>b[c].chart.height-10?b[c].chart.height-10:g.y2),b[c].lineCoordinates.y1=l-(q[c]+b[c].margin+N),b[c].lineCoordinates.y2=l-(q[c]+b[c].margin+N),b[c].bounds={x1:o,y1:l-(q[c]+N+b[c].margin),x2:r,y2:h-(N+b[c].margin),width:r-o,height:q[c]},b[c].title&&(b[c]._titleTextBlock.maxWidth=0<b[c].titleMaxWidth&&b[c].titleMaxWidth<b[c].lineCoordinates.width?b[c].titleMaxWidth:b[c].lineCoordinates.width),N+=q[c]+b[c].margin;if(e&&0<e.length)for(c=e.length-1;0<=c;c--)e[c]&&(l=Math.round(g.y1),h=Math.round(g.y1+(y[c]+e[c].margin+V)),e[c].lineCoordinates.y1=h,e[c].lineCoordinates.y2=h,e[c].bounds={x1:o,y1:l+(e[c].margin+V),x2:r,y2:h,width:r-o,height:D},e[c].title&&(e[c]._titleTextBlock.maxWidth=0<e[c].titleMaxWidth&&e[c].titleMaxWidth<e[c].lineCoordinates.width?e[c].titleMaxWidth:e[c].lineCoordinates.width),V+=y[c]+e[c].margin);if(a&&0<a.length)for(c=0;c<a.length;c++){if(E=a[c]._labels&&0<a[c]._labels.length?a[c]._labels[0].textBlock.fontSize/2:0,o=Math.round(g.x1+n),l=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:g.y1<Math.max(E,10)?Math.max(E,10):g.y1):g.y1<Math.max(E,10)?Math.max(E,10):g.y1,r=Math.round(g.x1+X+n),h=b&&0<b.length?Math.round(b[0]?b[0].lineCoordinates.y1:g.y2-z>p.height-Math.max(E,10)?p.height-Math.max(E,10):g.y2-z):g.y2>p.height-Math.max(E,10)?p.height-Math.max(E,10):g.y2,b&&0<b.length)for(E=0;E<b.length;E++)b[E]&&b[E].labelAutoFit&&(r=0>b[E].labelAngle?Math.max(r,P):0===b[E].labelAngle?Math.max(r,P/2):r,o=0>b[E].labelAngle||0===b[E].labelAngle?r-X:o);if(e&&0<e.length)for(E=0;E<e.length;E++)e[E]&&e[E].labelAutoFit&&(o=(r=e[E].lineCoordinates.x1)-X);a[c].lineCoordinates={x1:r-L,y1:l,x2:r-L,y2:h,height:Math.abs(h-l)},a[c].bounds={x1:r-(A[c]+L),y1:l,x2:r,y2:h,width:r-o,height:h-l},a[c].title&&(a[c]._titleTextBlock.maxWidth=0<a[c].titleMaxWidth&&a[c].titleMaxWidth<a[c].lineCoordinates.height?a[c].titleMaxWidth:a[c].lineCoordinates.height),a[c].calculateValueToPixelConversionParameters(),a[c].calculateBreaksSizeInValues(),L+=A[c]+a[c].margin}if(t&&0<t.length)for(c=0;c<t.length;c++){if(E=t[c]._labels&&0<t[c]._labels.length?t[c]._labels[0].textBlock.fontSize/2:0,o=Math.round(g.x1-n),l=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:g.y1<Math.max(E,10)?Math.max(E,10):g.y1):g.y1<Math.max(E,10)?Math.max(E,10):g.y1,r=Math.round(g.x2-R-Y),h=b&&0<b.length?Math.round(b[0]?b[0].lineCoordinates.y1:g.y2-z>p.height-Math.max(E,10)?p.height-Math.max(E,10):g.y2-z):g.y2>p.height-Math.max(E,10)?p.height-Math.max(E,10):g.y2,b&&0<b.length)for(E=0;E<b.length;E++)b[E]&&b[E].labelAutoFit&&(r=0>b[E].labelAngle?Math.max(r,P):0===b[E].labelAngle?Math.max(r,P/2):r,o=0>b[E].labelAngle||0===b[E].labelAngle?r-R:o);if(e&&0<e.length)for(E=0;E<e.length;E++)e[E]&&e[E].labelAutoFit&&(o=(r=e[E].lineCoordinates.x2)-R);t[c].lineCoordinates={x1:r+I,y1:l,x2:r+I,y2:h,height:Math.abs(h-l)},t[c].bounds={x1:o,y1:l,x2:r+T[c]+I,y2:h,width:r-o,height:h-l},t[c].title&&(t[c]._titleTextBlock.maxWidth=0<t[c].titleMaxWidth&&t[c].titleMaxWidth<t[c].lineCoordinates.height?t[c].titleMaxWidth:t[c].lineCoordinates.height),t[c].calculateValueToPixelConversionParameters(),t[c].calculateBreaksSizeInValues(),I+=T[c]+t[c].margin}for(c=0;c<d.length;c++)"axisY"===d[c].type&&(d[c].calculateValueToPixelConversionParameters(),d[c].calculateBreaksSizeInValues());if(0<m){if(a&&0<a.length)for(c=0;c<a.length;c++)x=B[m-1][c]===B[m][c];else x=!0;if(t&&0<t.length)for(c=0;c<t.length;c++)f=F[m-1][c]===F[m][c];else f=!0;if(b&&0<b.length)for(c=0;c<b.length;c++)k=v[m-1][c]===v[m][c];else k=!0;if(e&&0<e.length)for(c=0;c<e.length;c++)M=w[m-1][c]===w[m][c];else M=!0}if(x&&f&&k&&M)break;m++}if(b&&0<b.length)for(c=0;c<b.length;c++)b[c].calculateStripLinesThicknessInValues(),b[c].calculateBreaksInPixels();if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].calculateStripLinesThicknessInValues(),e[c].calculateBreaksInPixels();if(a&&0<a.length)for(c=0;c<a.length;c++)a[c].calculateStripLinesThicknessInValues(),a[c].calculateBreaksInPixels();if(t&&0<t.length)for(c=0;c<t.length;c++)t[c].calculateStripLinesThicknessInValues(),t[c].calculateBreaksInPixels()}},N.render=function(a,t,b,e,n){var g=a[0]?a[0].chart:t[0].chart;n=g.ctx;var o=g._axes;if(g.alignVerticalAxes&&g.alignVerticalAxes(),n.save(),n.beginPath(),a[0]&&n.rect(5,a[0].bounds.y1,a[0].chart.width-10,a[0].bounds.height),t[0]&&n.rect(5,t[t.length-1].bounds.y1,t[0].chart.width-10,t[0].bounds.height),n.clip(),a&&0<a.length)for(var l=0;l<a.length;l++)a[l].renderLabelsTicksAndTitle();if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderLabelsTicksAndTitle();if(n.restore(),b&&0<b.length)for(l=0;l<b.length;l++)b[l].renderLabelsTicksAndTitle();if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderLabelsTicksAndTitle();if(g.preparePlotArea(),g=g.plotArea,n.save(),n.beginPath(),n.rect(g.x1,g.y1,Math.abs(g.x2-g.x1),Math.abs(g.y2-g.y1)),n.clip(),a&&0<a.length)for(l=0;l<o.length;l++)o[l].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderStripLinesOfThicknessType("value");if(b&&0<b.length)for(l=0;l<b.length;l++)b[l].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderStripLinesOfThicknessType("value");if(a&&0<a.length)for(l=0;l<a.length;l++)a[l].renderInterlacedColors();if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderInterlacedColors();if(b&&0<b.length)for(l=0;l<b.length;l++)b[l].renderInterlacedColors();if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderInterlacedColors();if(n.restore(),a&&0<a.length)for(l=0;l<a.length;l++)a[l].renderGrid(),J&&(a[l].createMask(),a[l].renderBreaksBackground());if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderGrid(),J&&(t[l].createMask(),t[l].renderBreaksBackground());if(b&&0<b.length)for(l=0;l<b.length;l++)b[l].renderGrid(),J&&(b[l].createMask(),b[l].renderBreaksBackground());if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderGrid(),J&&(e[l].createMask(),e[l].renderBreaksBackground());if(a&&0<a.length)for(l=0;l<a.length;l++)a[l].renderAxisLine();if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderAxisLine();if(b&&0<b.length)for(l=0;l<b.length;l++)b[l].renderAxisLine();if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderAxisLine();if(a&&0<a.length)for(l=0;l<a.length;l++)a[l].renderStripLinesOfThicknessType("pixel");if(t&&0<t.length)for(l=0;l<t.length;l++)t[l].renderStripLinesOfThicknessType("pixel");if(b&&0<b.length)for(l=0;l<b.length;l++)b[l].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(l=0;l<e.length;l++)e[l].renderStripLinesOfThicknessType("pixel")},N.prototype.calculateStripLinesThicknessInValues=function(){for(var a=0;a<this.stripLines.length;a++)if(null!==this.stripLines[a].startValue&&null!==this.stripLines[a].endValue){var t=Math.min(this.stripLines[a].startValue,this.stripLines[a].endValue),b=Math.max(this.stripLines[a].startValue,this.stripLines[a].endValue);t=this.getApparentDifference(t,b);this.stripLines[a].value=this.logarithmic?this.stripLines[a].value*Math.sqrt(Math.log(this.stripLines[a].endValue/this.stripLines[a].startValue)/Math.log(t)):this.stripLines[a].value+(Math.abs(this.stripLines[a].endValue-this.stripLines[a].startValue)-t)/2,this.stripLines[a].thickness=t,this.stripLines[a]._thicknessType="value"}},N.prototype.calculateBreaksSizeInValues=function(){for(var t,a="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],b=this.conversionParameters.pixelPerUnit||a/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),n=this.scaleBreaks&&!u(this.scaleBreaks.options.spacing),g=0;g<e.length;g++)t=n||!u(e[g].options.spacing),e[g].spacing=h(e[g].spacing,a,8,t?.1*a:8,t?0:3)<<0,e[g].size=0>e[g].spacing?0:Math.abs(e[g].spacing/b),this.logarithmic&&(e[g].size=Math.pow(this.logarithmBase,e[g].size))},N.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];a.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var t=0;t<a.length&&!(a[t].startValue>this.conversionParameters.maximum);t++)a[t].endValue<this.conversionParameters.minimum||(u(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=t),a[t].startValue>=this.conversionParameters.minimum&&(a[t].startPixel=this.convertValueToPixel(a[t].startValue),this.scaleBreaks.lastBreakIndex=t),a[t].endValue<=this.conversionParameters.maximum&&(a[t].endPixel=this.convertValueToPixel(a[t].endValue)))}},N.prototype.renderLabelsTicksAndTitle=function(){var a=this,t=!1,b=0,e=0,n=1,g=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(n=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){b=[],n=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var o,l=this.viewportMaximum,r=this.lineCoordinates.width/Math.log(this.range),h=this._labels.length-1;0<=h&&!((q=this._labels[h]).position<this.viewportMinimum);h--)q.position>this.viewportMaximum||!(h===this._labels.length-1||o<Math.log(l/q.position)*r/n)||(b.push(q),l=q.position,o=q.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+q.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=b}else{for(h=0;h<this._labels.length;h++)(q=this._labels[h]).position<this.viewportMinimum||(b+=o=q.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+q.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));b>this.lineCoordinates.width*n&&this.labelAutoFit&&(t=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var p;for(b=[],l=this.viewportMaximum,r=this.lineCoordinates.height/Math.log(this.range),h=this._labels.length-1;0<=h&&!((q=this._labels[h]).position<this.viewportMinimum);h--)q.position>this.viewportMaximum||!(h===this._labels.length-1||p<Math.log(l/q.position)*r)||(b.push(q),l=q.position,p=q.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+q.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=b}else{for(h=0;h<this._labels.length;h++)(q=this._labels[h]).position<this.viewportMinimum||(e+=p=q.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+q.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));e>this.lineCoordinates.height*n&&this.labelAutoFit&&(t=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(a,b){return a.position-b.position}));var q,d;h=0;if("bottom"===this._position){for(h=0;h<this._labels.length;h++)(q=this._labels[h]).position<this.viewportMinimum||q.position>this.viewportMaximum||t&&0!=g++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(q.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,d.y<<0),this.ctx.lineTo(e,d.y+this.tickLength<<0),this.ctx.stroke()),0===q.textBlock.angle?(d.x-=q.textBlock.width/2,d.y="inside"===this.labelPlacement?d.y-(this.tickLength+q.textBlock.fontSize/2):d.y+this.tickLength+q.textBlock.fontSize/2):(d.x="inside"===this.labelPlacement?0>this.labelAngle?d.x:d.x-q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):d.x-(0>this.labelAngle?q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),d.y="inside"===this.labelPlacement?0>this.labelAngle?d.y-this.tickLength-5:d.y-this.tickLength-Math.abs(q.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):d.y+this.tickLength+Math.abs(0>this.labelAngle?q.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),q.textBlock.x=d.x,q.textBlock.y=d.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<a._labels.length;h++)if(!((q=a._labels[h]).position<a.viewportMinimum||q.position>a.viewportMaximum||t&&0!=g++%2&&a.labelAutoFit)&&(d=a.getPixelCoordinatesOnAxis(q.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var b=1==a.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(b,d.y<<0),a.ctx.lineTo(b,d.y-a.tickLength<<0),a.ctx.stroke(),a.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(h=0;h<this._labels.length;h++)(q=this._labels[h]).position<this.viewportMinimum||q.position>this.viewportMaximum||t&&0!=g++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(q.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,d.y<<0),this.ctx.lineTo(e,d.y-this.tickLength<<0),this.ctx.stroke()),0===q.textBlock.angle?(d.x-=q.textBlock.width/2,d.y="inside"===this.labelPlacement?d.y+this.labelFontSize/2+this.tickLength+5:d.y-(this.tickLength+q.textBlock.height-q.textBlock.fontSize/2)):(d.x="inside"===this.labelPlacement?0<this.labelAngle?d.x:d.x-q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):d.x+(q.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),d.y="inside"===this.labelPlacement?0<this.labelAngle?d.y+this.tickLength+5:d.y-q.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:d.y-(this.tickLength+((q.textBlock.height-q.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?q.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),q.textBlock.x=d.x,q.textBlock.y=d.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<a._labels.length;h++)if(!((q=a._labels[h]).position<a.viewportMinimum||q.position>a.viewportMaximum||t&&0!=g++%2&&a.labelAutoFit)&&(d=a.getPixelCoordinatesOnAxis(q.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var b=1==this.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(b,d.y<<0),a.ctx.lineTo(b,d.y+a.tickLength<<0),a.ctx.stroke(),a.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(h=0;h<this._labels.length;h++)(q=this._labels[h]).position<this.viewportMinimum||q.position>this.viewportMaximum||t&&0!=g++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(q.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0,this.ctx.beginPath(),this.ctx.moveTo(d.x<<0,e),this.ctx.lineTo(d.x-this.tickLength<<0,e),this.ctx.stroke()),0===this.labelAngle?(q.textBlock.y=d.y,q.textBlock.x="inside"===this.labelPlacement?d.x+this.tickLength+5:d.x-q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(q.textBlock.y="inside"===this.labelPlacement?d.y:d.y-q.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),q.textBlock.x="inside"===this.labelPlacement?d.x+this.tickLength+5:0<this.labelAngle?d.x-q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:d.x-q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(q.textBlock.height-q.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<a._labels.length;h++)if(!((q=a._labels[h]).position<a.viewportMinimum||q.position>a.viewportMaximum||t&&0!=g++%2&&a.labelAutoFit)&&(d=a.getPixelCoordinatesOnAxis(q.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var b=1==a.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(d.x<<0,b),a.ctx.lineTo(d.x+a.tickLength<<0,b),a.ctx.stroke(),a.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(h=0;h<this._labels.length;h++)(q=this._labels[h]).position<this.viewportMinimum||q.position>this.viewportMaximum||t&&0!=g++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(q.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0,this.ctx.beginPath(),this.ctx.moveTo(d.x<<0,e),this.ctx.lineTo(d.x+this.tickLength<<0,e),this.ctx.stroke()),0===this.labelAngle?(q.textBlock.y=d.y,q.textBlock.x="inside"===this.labelPlacement?d.x-q.textBlock.width-this.tickLength-5:d.x+this.tickLength+5):(q.textBlock.y="inside"===this.labelPlacement?d.y-q.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?d.y:d.y-(q.textBlock.height-q.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),q.textBlock.x="inside"===this.labelPlacement?d.x-q.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?d.x+(q.textBlock.height-q.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:d.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<a._labels.length;h++)if(!((q=a._labels[h]).position<a.viewportMinimum||q.position>a.viewportMaximum||t&&0!=g++%2&&a.labelAutoFit)&&(d=a.getPixelCoordinatesOnAxis(q.position),a.tickThickness)){a.ctx.lineWidth=a.tickThickness,a.ctx.strokeStyle=a.tickColor;var b=1==a.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0;a.ctx.save(),a.ctx.beginPath(),a.ctx.moveTo(d.x<<0,b),a.ctx.lineTo(d.x-a.tickLength<<0,b),a.ctx.stroke(),a.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(g=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<a._labels.length;h++)(q=a._labels[h]).position<a.viewportMinimum||q.position>a.viewportMaximum||t&&0!=g++%2&&a.labelAutoFit||(a.ctx.save(),a.ctx.beginPath(),q.textBlock.render(!0),a.ctx.restore())}),this);else for(h=0;h<this._labels.length;h++)(q=this._labels[h]).position<this.viewportMinimum||q.position>this.viewportMaximum||t&&0!=g++%2&&this.labelAutoFit||q.textBlock.render(!0)},N.prototype.renderInterlacedColors=function(){var t,b,a=this.chart.plotArea.ctx,e=this.chart.plotArea,n=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(a.fillStyle=this.interlacedColor,n=0;n<this._labels.length;n++)t?(b=this.getPixelCoordinatesOnAxis(this._labels[n].position),t=n+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[n+1].position),a.fillRect(e.x1,Math.min(b.y,t.y),Math.abs(e.x1-e.x2),Math.abs(t.y-b.y)),t=!1):t=!0}else for(a.fillStyle=this.interlacedColor,n=0;n<this._labels.length;n++)t?(t=this.getPixelCoordinatesOnAxis(this._labels[n].position),b=n+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[n+1].position),a.fillRect(Math.min(b.x,t.x),e.y1,Math.abs(b.x-t.x),Math.abs(e.y1-e.y2)),t=!1):t=!0;a.beginPath()},N.prototype.renderStripLinesOfThicknessType=function(a){if(this.stripLines&&0<this.stripLines.length&&a){var b,t=this,e=0,n=0,g=!1,o=!1,l=[],r=[];for(o=!1,e=0;e<this.stripLines.length;e++){var h=this.stripLines[e];h._thicknessType===a&&("pixel"===a&&(h.value<this.viewportMinimum||h.value>this.viewportMaximum||u(h.value)||isNaN(this.range))||l.push(h))}for(e=0;e<this._stripLineLabels.length;e++)if(h=this.stripLines[e],!((b=this._stripLineLabels[e]).position<this.viewportMinimum||b.position>this.viewportMaximum||isNaN(this.range))){if(a=this.getPixelCoordinatesOnAxis(b.position),"outside"===b.stripLine.labelPlacement)if(h&&(this.ctx.strokeStyle=h.color,"pixel"===h._thicknessType&&(this.ctx.lineWidth=h.thickness)),"bottom"===this._position){var p=1==this.ctx.lineWidth%2?.5+(a.x<<0):a.x<<0;this.ctx.beginPath(),this.ctx.moveTo(p,a.y<<0),this.ctx.lineTo(p,a.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(a.x-=b.textBlock.width/2,a.y+=this.tickLength+b.textBlock.fontSize/2):(a.x-=0>this.labelAngle?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,a.y+=this.tickLength+Math.abs(0>this.labelAngle?b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(p=1==this.ctx.lineWidth%2?.5+(a.x<<0):a.x<<0,this.ctx.beginPath(),this.ctx.moveTo(p,a.y<<0),this.ctx.lineTo(p,a.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(a.x-=b.textBlock.width/2,a.y-=this.tickLength+b.textBlock.height):(a.x+=(b.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),a.y-=this.tickLength+(b.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(p=1==this.ctx.lineWidth%2?.5+(a.y<<0):a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,p),this.ctx.lineTo(a.x-this.tickLength<<0,p),this.ctx.stroke(),0===this.labelAngle?a.x=a.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(a.y-=b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:a.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(b.textBlock.height-b.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(p=1==this.ctx.lineWidth%2?.5+(a.y<<0):a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,p),this.ctx.lineTo(a.x+this.tickLength<<0,p),this.ctx.stroke(),0===this.labelAngle?a.x=a.x+this.tickLength+5:(a.y=0>this.labelAngle?a.y:a.y-(b.textBlock.height-b.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x+(b.textBlock.height-b.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:a.x+this.tickLength+5));else b.textBlock.angle=-90,"bottom"===this._position?(b.textBlock.maxWidth=this.options.stripLines[e].labelMaxWidth?this.options.stripLines[e].labelMaxWidth:this.chart.plotArea.height-3,b.textBlock.measureText(),a.x-b.textBlock.height>this.chart.plotArea.x1?u(h.startValue)?a.x-=b.textBlock.height-b.textBlock.fontSize/2:a.x-=b.textBlock.height/2-b.textBlock.fontSize/2+3:(b.textBlock.angle=90,u(h.startValue)?a.x+=b.textBlock.height-b.textBlock.fontSize/2:a.x+=b.textBlock.height/2-b.textBlock.fontSize/2+3),a.y=-90===b.textBlock.angle?"near"===b.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===b.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+b.textBlock.width)/2:this.chart.plotArea.y1+b.textBlock.width+3:"near"===b.stripLine.labelAlign?this.chart.plotArea.y2-b.textBlock.width-3:"center"===b.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-b.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(b.textBlock.maxWidth=this.options.stripLines[e].labelMaxWidth?this.options.stripLines[e].labelMaxWidth:this.chart.plotArea.height-3,b.textBlock.measureText(),a.x-b.textBlock.height>this.chart.plotArea.x1?u(h.startValue)?a.x-=b.textBlock.height-b.textBlock.fontSize/2:a.x-=b.textBlock.height/2-b.textBlock.fontSize/2+3:(b.textBlock.angle=90,u(h.startValue)?a.x+=b.textBlock.height-b.textBlock.fontSize/2:a.x+=b.textBlock.height/2-b.textBlock.fontSize/2+3),a.y=-90===b.textBlock.angle?"near"===b.stripLine.labelAlign?this.chart.plotArea.y1+b.textBlock.width+3:"center"===b.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+b.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===b.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===b.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-b.textBlock.width)/2:this.chart.plotArea.y2-b.textBlock.width-3):"left"===this._position?(b.textBlock.maxWidth=this.options.stripLines[e].labelMaxWidth?this.options.stripLines[e].labelMaxWidth:this.chart.plotArea.width-3,b.textBlock.angle=0,b.textBlock.measureText(),a.y-b.textBlock.height>this.chart.plotArea.y1?u(h.startValue)?a.y-=b.textBlock.height-b.textBlock.fontSize/2:a.y-=b.textBlock.height/2-b.textBlock.fontSize+3:a.y-b.textBlock.height<this.chart.plotArea.y2?a.y+=b.textBlock.fontSize/2+3:u(h.startValue)?a.y-=b.textBlock.height-b.textBlock.fontSize/2:a.y-=b.textBlock.height/2-b.textBlock.fontSize+3,a.x="near"===b.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===b.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-b.textBlock.width/2:this.chart.plotArea.x2-b.textBlock.width-3):"right"===this._position&&(b.textBlock.maxWidth=this.options.stripLines[e].labelMaxWidth?this.options.stripLines[e].labelMaxWidth:this.chart.plotArea.width-3,b.textBlock.angle=0,b.textBlock.measureText(),a.y-+b.textBlock.height>this.chart.plotArea.y1?u(h.startValue)?a.y-=b.textBlock.height-b.textBlock.fontSize/2:a.y-=b.textBlock.height/2-b.textBlock.fontSize/2-3:a.y-b.textBlock.height<this.chart.plotArea.y2?a.y+=b.textBlock.fontSize/2+3:u(h.startValue)?a.y-=b.textBlock.height-b.textBlock.fontSize/2:a.y-=b.textBlock.height/2-b.textBlock.fontSize/2+3,a.x="near"===b.stripLine.labelAlign?this.chart.plotArea.x2-b.textBlock.width-3:"center"===b.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-b.textBlock.width/2:this.chart.plotArea.x1+3);b.textBlock.x=a.x,b.textBlock.y=a.y,r.push(b)}if(!o){for(o=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),e=0;e<l.length;e++)(h=l[e]).showOnTop?g||(g=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),n=0;n<l.length;n++)(h=l[n]).showOnTop&&h.render();this.ctx.restore()}),h)):h.render();for(e=0;e<r.length;e++)(b=r[e]).stripLine.showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(n=0;n<r.length;n++)"inside"===(b=r[n]).stripLine.labelPlacement&&b.stripLine.showOnTop&&(t.ctx.save(),t.ctx.beginPath(),t.ctx.rect(t.chart.plotArea.x1,t.chart.plotArea.y1,t.chart.plotArea.width,t.chart.plotArea.height),t.ctx.clip(),b.textBlock.render(!0),t.ctx.restore())}),b.textBlock)):"inside"===b.stripLine.labelPlacement&&b.textBlock.render(!0);this.ctx.restore(),o=!0}if(o)for(o=!1,e=0;e<r.length;e++)(b=r[e]).stripLine.showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(n=0;n<r.length;n++)"outside"===(b=r[n]).stripLine.labelPlacement&&b.stripLine.showOnTop&&b.textBlock.render(!0)}),b.textBlock)):"outside"===b.stripLine.labelPlacement&&b.textBlock.render(!0)}},N.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},N.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var a=this.scaleBreaks._appliedBreaks;J?(this.maskCanvas=A(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var t=0;t<a.length;t++)a[t].endValue<this.viewportMinimum||a[t].startValue>this.viewportMaximum||isNaN(this.range)||a[t].render(this.maskCtx);this.maskCtx.restore()}},N.prototype.renderCrosshair=function(a,t){this.crosshair.render(a,t)},N.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var a=this.chart.ctx;a.save();var t,b=this.chart.plotArea;if(a.lineWidth=this.gridThickness,a.strokeStyle=this.gridColor,a.setLineDash&&a.setLineDash(T(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(a.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[e].position),t=1==a.lineWidth%2?.5+(t.x<<0):t.x<<0,a.moveTo(t,b.y1<<0),a.lineTo(t,b.y2<<0),a.stroke());else if("left"===this._position||"right"===this._position)for(var e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(a.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[e].position),t=1==a.lineWidth%2?.5+(t.y<<0):t.y<<0,a.moveTo(b.x1<<0,t),a.lineTo(b.x2<<0,t),a.stroke());a.restore()}},N.prototype.renderAxisLine=function(){var t,g,a=this.chart.ctx,e=J?this.chart._preRenderCtx:a,b=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(e.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(t=this.lineCoordinates.x2,g=this.lineCoordinates.x1):(t=this.lineCoordinates.x1,g=this.lineCoordinates.x2),e.lineWidth=this.lineThickness,e.strokeStyle=this.lineColor?this.lineColor:"black",e.setLineDash&&e.setLineDash(T(this.lineDashType,this.lineThickness));var o=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(e.beginPath(),this.scaleBreaks&&!u(this.scaleBreaks.firstBreakIndex))if(u(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var l=this.scaleBreaks.firstBreakIndex;l<=this.scaleBreaks.lastBreakIndex;l++)e.moveTo(t,o),e.lineTo(this.scaleBreaks._appliedBreaks[l].startPixel+b,o),t=this.scaleBreaks._appliedBreaks[l].endPixel+n;t&&(e.moveTo(t,o),e.lineTo(g,o)),e.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(t=this.lineCoordinates.y1,g=this.lineCoordinates.y2):(t=this.lineCoordinates.y2,g=this.lineCoordinates.y1),e.lineWidth=this.lineThickness,e.strokeStyle=this.lineColor,e.setLineDash&&e.setLineDash(T(this.lineDashType,this.lineThickness)),o=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,e.beginPath(),this.scaleBreaks&&!u(this.scaleBreaks.firstBreakIndex))if(u(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+b;else for(l=this.scaleBreaks.firstBreakIndex;l<=this.scaleBreaks.lastBreakIndex;l++)e.moveTo(o,t),e.lineTo(o,this.scaleBreaks._appliedBreaks[l].startPixel+n),t=this.scaleBreaks._appliedBreaks[l].endPixel+b;t&&(e.moveTo(o,t),e.lineTo(o,g)),e.stroke()}J&&(a.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),e.clearRect(0,0,this.chart.width,this.chart.height)),e.restore()},N.prototype.getPixelCoordinatesOnAxis=function(a){var t={};return"bottom"!==this._position&&"top"!==this._position||(t.x=this.convertValueToPixel(a),t.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(t.y=this.convertValueToPixel(a),t.x=this.lineCoordinates.x2),t},N.prototype.convertPixelToValue=function(a){if(void 0===a)return null;var t,e=0,b=0,n=(e=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);b="number"==typeof a?a:"left"===this._position||"right"===this._position?a.y:a.x;if(this.logarithmic){if(a=t=Math.pow(this.logarithmBase,(b-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),b<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(b=0;b<n.length;b++)if(!(n[b].endValue<this.conversionParameters.minimum))if(e)if(n[b].startValue<this.conversionParameters.minimum){if(1<n[b].size&&this.conversionParameters.minimum*Math.pow(n[b].endValue/n[b].startValue,Math.log(t)/Math.log(n[b].size))<n[b].endValue){a=Math.pow(n[b].endValue/n[b].startValue,Math.log(t)/Math.log(n[b].size));break}a*=n[b].endValue/this.conversionParameters.minimum/Math.pow(n[b].size,Math.log(n[b].endValue/this.conversionParameters.minimum)/Math.log(n[b].endValue/n[b].startValue)),t/=Math.pow(n[b].size,Math.log(n[b].endValue/this.conversionParameters.minimum)/Math.log(n[b].endValue/n[b].startValue)),e=!1}else{if(!(t>n[b].startValue/this.conversionParameters.minimum))break;if((t/=n[b].startValue/this.conversionParameters.minimum)<n[b].size){a*=Math.pow(n[b].endValue/n[b].startValue,1===n[b].size?1:Math.log(t)/Math.log(n[b].size))/t;break}a*=n[b].endValue/n[b].startValue/n[b].size,t/=n[b].size,e=!1}else{if(!(t>n[b].startValue/n[b-1].endValue))break;if((t/=n[b].startValue/n[b-1].endValue)<n[b].size){a*=Math.pow(n[b].endValue/n[b].startValue,1===n[b].size?1:Math.log(t)/Math.log(n[b].size))/t;break}a*=n[b].endValue/n[b].startValue/n[b].size,t/=n[b].size}}else for(b=n.length-1;0<=b;b--)if(!(n[b].startValue>this.conversionParameters.minimum))if(e)if(n[b].endValue>this.conversionParameters.minimum){if(1<n[b].size&&this.conversionParameters.minimum*Math.pow(n[b].endValue/n[b].startValue,Math.log(t)/Math.log(n[b].size))>n[b].startValue){a=Math.pow(n[b].endValue/n[b].startValue,Math.log(t)/Math.log(n[b].size));break}a*=n[b].startValue/this.conversionParameters.minimum*Math.pow(n[b].size,Math.log(n[b].startValue/this.conversionParameters.minimum)/Math.log(n[b].endValue/n[b].startValue))*t,t*=Math.pow(n[b].size,Math.log(this.conversionParameters.minimum/n[b].startValue)/Math.log(n[b].endValue/n[b].startValue)),e=!1}else{if(!(t<n[b].endValue/this.conversionParameters.minimum))break;if((t/=n[b].endValue/this.conversionParameters.minimum)>1/n[b].size){a*=Math.pow(n[b].endValue/n[b].startValue,1>=n[b].size?1:Math.log(t)/Math.log(n[b].size))*t;break}a/=n[b].endValue/n[b].startValue/n[b].size,t*=n[b].size,e=!1}else{if(!(t<n[b].endValue/n[b+1].startValue))break;if((t/=n[b].endValue/n[b+1].startValue)>1/n[b].size){a*=Math.pow(n[b].endValue/n[b].startValue,1>=n[b].size?1:Math.log(t)/Math.log(n[b].size))*t;break}a/=n[b].endValue/n[b].startValue/n[b].size,t*=n[b].size}e=a*this.viewportMinimum}else{if(a=t=(b-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,b<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(b=0;b<n.length;b++)if(!(n[b].endValue<this.conversionParameters.minimum))if(e)if(n[b].startValue<this.conversionParameters.minimum){if(n[b].size&&this.conversionParameters.minimum+t*(n[b].endValue-n[b].startValue)/n[b].size<n[b].endValue){a=0>=n[b].size?0:t*(n[b].endValue-n[b].startValue)/n[b].size;break}a+=n[b].endValue-this.conversionParameters.minimum-n[b].size*(n[b].endValue-this.conversionParameters.minimum)/(n[b].endValue-n[b].startValue),t-=n[b].size*(n[b].endValue-this.conversionParameters.minimum)/(n[b].endValue-n[b].startValue),e=!1}else{if(!(t>n[b].startValue-this.conversionParameters.minimum))break;if((t-=n[b].startValue-this.conversionParameters.minimum)<n[b].size){a+=(n[b].endValue-n[b].startValue)*(0===n[b].size?1:t/n[b].size)-t;break}a+=n[b].endValue-n[b].startValue-n[b].size,t-=n[b].size,e=!1}else{if(!(t>n[b].startValue-n[b-1].endValue))break;if((t-=n[b].startValue-n[b-1].endValue)<n[b].size){a+=(n[b].endValue-n[b].startValue)*(0===n[b].size?1:t/n[b].size)-t;break}a+=n[b].endValue-n[b].startValue-n[b].size,t-=n[b].size}}else for(b=n.length-1;0<=b;b--)if(!(n[b].startValue>this.conversionParameters.minimum))if(e)if(n[b].endValue>this.conversionParameters.minimum){if(n[b].size&&this.conversionParameters.minimum+t*(n[b].endValue-n[b].startValue)/n[b].size>n[b].startValue){a=0>=n[b].size?0:t*(n[b].endValue-n[b].startValue)/n[b].size;break}a+=n[b].startValue-this.conversionParameters.minimum+n[b].size*(this.conversionParameters.minimum-n[b].startValue)/(n[b].endValue-n[b].startValue),t+=n[b].size*(this.conversionParameters.minimum-n[b].startValue)/(n[b].endValue-n[b].startValue),e=!1}else{if(!(t<n[b].endValue-this.conversionParameters.minimum))break;if((t-=n[b].endValue-this.conversionParameters.minimum)>-1*n[b].size){a+=(n[b].endValue-n[b].startValue)*(0===n[b].size?1:t/n[b].size)+t;break}a-=n[b].endValue-n[b].startValue-n[b].size,t+=n[b].size,e=!1}else{if(!(t<n[b].endValue-n[b+1].startValue))break;if((t-=n[b].endValue-n[b+1].startValue)>-1*n[b].size){a+=(n[b].endValue-n[b].startValue)*(0===n[b].size?1:t/n[b].size)+t;break}a-=n[b].endValue-n[b].startValue-n[b].size,t+=n[b].size}e=this.conversionParameters.minimum+a}return e},N.prototype.convertValueToPixel=function(a){return a=this.getApparentDifference(this.conversionParameters.minimum,a,a),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(a/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5},N.prototype.getApparentDifference=function(a,t,b,e){var n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){b=u(b)?t/a:b;for(var g=0;g<n.length&&!(t<n[g].startValue);g++)a>n[g].endValue||(a<=n[g].startValue&&t>=n[g].endValue?b=b/n[g].endValue*n[g].startValue*n[g].size:a>=n[g].startValue&&t>=n[g].endValue?b=b/n[g].endValue*a*Math.pow(n[g].size,Math.log(n[g].endValue/a)/Math.log(n[g].endValue/n[g].startValue)):a<=n[g].startValue&&t<=n[g].endValue?b=b/t*n[g].startValue*Math.pow(n[g].size,Math.log(t/n[g].startValue)/Math.log(n[g].endValue/n[g].startValue)):!e&&a>n[g].startValue&&t<n[g].endValue&&(b=a*Math.pow(n[g].size,Math.log(t/a)/Math.log(n[g].endValue/n[g].startValue))))}else for(b=u(b)?Math.abs(t-a):b,g=0;g<n.length&&!(t<n[g].startValue);g++)a>n[g].endValue||(a<=n[g].startValue&&t>=n[g].endValue?b=b-n[g].endValue+n[g].startValue+n[g].size:a>n[g].startValue&&t>=n[g].endValue?b=b-n[g].endValue+a+n[g].size*(n[g].endValue-a)/(n[g].endValue-n[g].startValue):a<=n[g].startValue&&t<n[g].endValue?b=b-t+n[g].startValue+n[g].size*(t-n[g].startValue)/(n[g].endValue-n[g].startValue):!e&&a>n[g].startValue&&t<n[g].endValue&&(b=a+n[g].size*(t-a)/(n[g].endValue-n[g].startValue)));return b},N.prototype.setViewPortRange=function(a,t){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(a,t),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(a,t)},N.prototype.getXValueAt=function(a){if(!a)return null;var t=null;return"left"===this._position?t=this.convertPixelToValue(a.y):"bottom"===this._position&&(t=this.convertPixelToValue(a.x)),t},N.prototype.calculateValueToPixelConversionParameters=function(a){a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var t={pixelPerUnit:null,minimum:null,reference:null},b=this.lineCoordinates.width,e=this.lineCoordinates.height;b="bottom"===this._position||"top"===this._position?b:e,e=Math.abs(this.range);if(this.logarithmic)for(var n=0;n<a.length&&!(this.viewportMaximum<a[n].startValue);n++)this.viewportMinimum>a[n].endValue||(this.viewportMinimum>=a[n].startValue&&this.viewportMaximum<=a[n].endValue?b=0:this.viewportMinimum<=a[n].startValue&&this.viewportMaximum>=a[n].endValue?(e=e/a[n].endValue*a[n].startValue,b=0<a[n].spacing.toString().indexOf("%")?b*(1-parseFloat(a[n].spacing)/100):b-Math.min(a[n].spacing,.1*b)):this.viewportMinimum>a[n].startValue&&this.viewportMaximum>=a[n].endValue?(e=e/a[n].endValue*this.viewportMinimum,b=0<a[n].spacing.toString().indexOf("%")?b*(1-parseFloat(a[n].spacing)/100*Math.log(a[n].endValue/this.viewportMinimum)/Math.log(a[n].endValue/a[n].startValue)):b-Math.min(a[n].spacing,.1*b)*Math.log(a[n].endValue/this.viewportMinimum)/Math.log(a[n].endValue/a[n].startValue)):this.viewportMinimum<=a[n].startValue&&this.viewportMaximum<a[n].endValue&&(e=e/this.viewportMaximum*a[n].startValue,b=0<a[n].spacing.toString().indexOf("%")?b*(1-parseFloat(a[n].spacing)/100*Math.log(this.viewportMaximum/a[n].startValue)/Math.log(a[n].endValue/a[n].startValue)):b-Math.min(a[n].spacing,.1*b)*Math.log(this.viewportMaximum/a[n].startValue)/Math.log(a[n].endValue/a[n].startValue)));else for(n=0;n<a.length&&!(this.viewportMaximum<a[n].startValue);n++)this.viewportMinimum>a[n].endValue||(this.viewportMinimum>=a[n].startValue&&this.viewportMaximum<=a[n].endValue?b=0:this.viewportMinimum<=a[n].startValue&&this.viewportMaximum>=a[n].endValue?(e=e-a[n].endValue+a[n].startValue,b=0<a[n].spacing.toString().indexOf("%")?b*(1-parseFloat(a[n].spacing)/100):b-Math.min(a[n].spacing,.1*b)):this.viewportMinimum>a[n].startValue&&this.viewportMaximum>=a[n].endValue?(e=e-a[n].endValue+this.viewportMinimum,b=0<a[n].spacing.toString().indexOf("%")?b*(1-parseFloat(a[n].spacing)/100*(a[n].endValue-this.viewportMinimum)/(a[n].endValue-a[n].startValue)):b-Math.min(a[n].spacing,.1*b)*(a[n].endValue-this.viewportMinimum)/(a[n].endValue-a[n].startValue)):this.viewportMinimum<=a[n].startValue&&this.viewportMaximum<a[n].endValue&&(e=e-this.viewportMaximum+a[n].startValue,b=0<a[n].spacing.toString().indexOf("%")?b*(1-parseFloat(a[n].spacing)/100*(this.viewportMaximum-a[n].startValue)/(a[n].endValue-a[n].startValue)):b-Math.min(a[n].spacing,.1*b)*(this.viewportMaximum-a[n].startValue)/(a[n].endValue-a[n].startValue)));t.minimum=this.viewportMinimum,t.maximum=this.viewportMaximum,t.range=e,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?-1:1)*b*t.lnLogarithmBase/Math.log(Math.abs(e))):t.pixelPerUnit=(this.reversed?-1:1)*b/Math.abs(e),t.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?1:-1)*b*t.lnLogarithmBase/Math.log(Math.abs(e))):t.pixelPerUnit=(this.reversed?1:-1)*b/Math.abs(e),t.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=t},N.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var a=this.chart.layoutManager.getFreeSpace(),t=!1,b=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=a.width,this.maxHeight=a.height):(this.maxWidth=a.height,this.maxHeight=a.width);a="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var e=4;"axisX"===this.type&&(e=600>this.maxWidth?8:6);var n,g,o;a=Math.max(e,Math.floor(this.maxWidth/a)),e=0;if(!u(this.options.viewportMinimum)&&!u(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!u(this.options.viewportMinimum)||u(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!u(this.options.viewportMaximum)||u(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(e=0;e<this.scaleBreaks._appliedBreaks.length;e++)if((!u(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[e].startValue||!u(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[e].startValue||!u(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[e].startValue)&&(!u(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[e].endValue||!u(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[e].endValue||!u(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[e].endValue)){this.scaleBreaks._appliedBreaks.splice(e,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(n=0;n<this.dataSeries.length;n++)"dateTime"===this.dataSeries[n].xValueType&&(b=!0);n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,0==(g=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-n&&(g+=e=void 0===this.options.interval?.4:this.options.interval,n-=e),1/0!==this.dataInfo.minDiff?o=this.dataInfo.minDiff:1<g-n?o=.5*Math.abs(g-n):(o=1,b&&(t=!0))}else"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,g=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(g)?isFinite(n)?isFinite(g)||(g=n):n=g:(g=void 0===this.options.interval?-1/0:this.options.interval,n=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===n&&0===g?(g+=9,n=0):0==g-n?(g+=e=Math.min(Math.abs(.01*Math.abs(g)),5),n-=e):n>g?(e=Math.min(.01*Math.abs(this.getApparentDifference(g,n,null,!0)),5),0<=g?n=g-e:g=isFinite(n)?n+e:0):(e=Math.min(.01*Math.abs(this.getApparentDifference(n,g,null,!0)),.05),0!==g&&(g+=e),0!==n&&(n-=e)),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<g-n?.5*Math.abs(g-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>g&&(g=0));e=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?g:this.viewportMaximum,null,!0),"axisX"===this.type&&b?(this.intervalType||(e/1<=a?(this.interval=1,this.intervalType="millisecond"):e/2<=a?(this.interval=2,this.intervalType="millisecond"):e/5<=a?(this.interval=5,this.intervalType="millisecond"):e/10<=a?(this.interval=10,this.intervalType="millisecond"):e/20<=a?(this.interval=20,this.intervalType="millisecond"):e/50<=a?(this.interval=50,this.intervalType="millisecond"):e/100<=a?(this.interval=100,this.intervalType="millisecond"):e/200<=a?(this.interval=200,this.intervalType="millisecond"):e/250<=a?(this.interval=250,this.intervalType="millisecond"):e/300<=a?(this.interval=300,this.intervalType="millisecond"):e/400<=a?(this.interval=400,this.intervalType="millisecond"):e/500<=a?(this.interval=500,this.intervalType="millisecond"):e/(1*lt.secondDuration)<=a?(this.interval=1,this.intervalType="second"):e/(2*lt.secondDuration)<=a?(this.interval=2,this.intervalType="second"):e/(5*lt.secondDuration)<=a?(this.interval=5,this.intervalType="second"):e/(10*lt.secondDuration)<=a?(this.interval=10,this.intervalType="second"):e/(15*lt.secondDuration)<=a?(this.interval=15,this.intervalType="second"):e/(20*lt.secondDuration)<=a?(this.interval=20,this.intervalType="second"):e/(30*lt.secondDuration)<=a?(this.interval=30,this.intervalType="second"):e/(1*lt.minuteDuration)<=a?(this.interval=1,this.intervalType="minute"):e/(2*lt.minuteDuration)<=a?(this.interval=2,this.intervalType="minute"):e/(5*lt.minuteDuration)<=a?(this.interval=5,this.intervalType="minute"):e/(10*lt.minuteDuration)<=a?(this.interval=10,this.intervalType="minute"):e/(15*lt.minuteDuration)<=a?(this.interval=15,this.intervalType="minute"):e/(20*lt.minuteDuration)<=a?(this.interval=20,this.intervalType="minute"):e/(30*lt.minuteDuration)<=a?(this.interval=30,this.intervalType="minute"):e/(1*lt.hourDuration)<=a?(this.interval=1,this.intervalType="hour"):e/(2*lt.hourDuration)<=a?(this.interval=2,this.intervalType="hour"):e/(3*lt.hourDuration)<=a?(this.interval=3,this.intervalType="hour"):e/(6*lt.hourDuration)<=a?(this.interval=6,this.intervalType="hour"):e/(1*lt.dayDuration)<=a?(this.interval=1,this.intervalType="day"):e/(2*lt.dayDuration)<=a?(this.interval=2,this.intervalType="day"):e/(4*lt.dayDuration)<=a?(this.interval=4,this.intervalType="day"):e/(1*lt.weekDuration)<=a?(this.interval=1,this.intervalType="week"):e/(2*lt.weekDuration)<=a?(this.interval=2,this.intervalType="week"):e/(3*lt.weekDuration)<=a?(this.interval=3,this.intervalType="week"):e/(1*lt.monthDuration)<=a?(this.interval=1,this.intervalType="month"):e/(2*lt.monthDuration)<=a?(this.interval=2,this.intervalType="month"):e/(3*lt.monthDuration)<=a?(this.interval=3,this.intervalType="month"):e/(6*lt.monthDuration)<=a?(this.interval=6,this.intervalType="month"):(this.interval=e/(1*lt.yearDuration)<=a?1:e/(2*lt.yearDuration)<=a?2:e/(4*lt.yearDuration)<=a?4:Math.floor(N.getNiceNumber(e/(a-1),!0)/lt.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-o/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=g+o/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",e=N.getNiceNumber(e,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:N.getNiceNumber(e/(a-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n-o/2:Math.floor(n/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?g+o/2:Math.ceil(g/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=N.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(a-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(n=null!==this.minimum?this.minimum:this.dataInfo.min,0==(g=null!==this.maximum?this.maximum:this.dataInfo.max)-n&&(g+=e=void 0===this.options.interval?.4:this.options.interval,n-=e),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<g-n?.5*Math.abs(g-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,g=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(g)?0===n&&0===g?(g+=9,n=0):0==g-n?(g+=e=Math.min(Math.abs(.01*Math.abs(g)),5),n-=e):n>g?(e=Math.min(.01*Math.abs(this.getApparentDifference(g,n,null,!0)),5),0<=g?n=g-e:g=isFinite(n)?n+e:0):(e=Math.min(.01*Math.abs(this.getApparentDifference(n,g,null,!0)),.05),0!==g&&(g+=e),0!==n&&(n-=e)):(g=void 0===this.options.interval?-1/0:this.options.interval,n=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<g-n?.5*Math.abs(g-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>g&&(g=0)),Math.abs(this.getApparentDifference(n,g,null,!0)),"axisX"===this.type&&b?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=n-o/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=g+o/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n-o/2:Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?g+o/2:Math.ceil(g/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),u(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),u(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&b?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=N.generateValueFormatString(this.range,2))}},N.prototype.calculateLogarithmicAxisParameters=function(){var b,a=this.chart.layoutManager.getFreeSpace(),t=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=a.width,this.maxHeight=a.height):(this.maxWidth=a.height,this.maxHeight=a.width);var e,n,g,o;a="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3);if(o=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(o=0;o<this.scaleBreaks._appliedBreaks.length;o++)if((!u(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[o].startValue||!u(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[o].startValue||!u(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[o].startValue)&&(!u(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[o].endValue||!u(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[o].endValue||!u(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[o].endValue)){this.scaleBreaks._appliedBreaks.splice(o,1);break}"axisX"===this.type?(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,1==(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/e&&(n*=o=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=o),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=e&&!isFinite(n)?(n=void 0===this.options.interval?0:this.options.interval,e=1):0>=e?e=n:isFinite(n)||(n=e),1===e&&1===n?(n*=this.logarithmBase-1/this.logarithmBase,e=1):1==n/e?(n*=o=Math.min(n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),e/=o):e>n?(o=Math.min(e/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=n?e=n/o:n=e*o):(o=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=o),1!==e&&(e/=o)),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>n&&(n=1)),o=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);var l=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);if(this.intervalType="number",o=Math.pow(this.logarithmBase,N.getNiceNumber(Math.abs(Math.log(o)/t),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=N.getNiceExponent(Math.log(o)/t/(a-1),!0),b=N.getNiceNumber(l/(a-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?e/Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?n*Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/t/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=N.getNiceExponent(Math.ceil(Math.log(o)/t)/(a-1)),b=N.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(a-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(e=null!==this.minimum?this.minimum:this.dataInfo.min,1==(n=null!==this.maximum?this.maximum:this.dataInfo.max)/e&&(n*=o=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=o),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(e=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(n)?1===e&&1===n?(n*=this.logarithmBase,e/=this.logarithmBase):1==n/e?(n*=o=Math.pow(this.logarithmBase,this.interval),e/=o):e>n?(o=Math.min(e/n*.01,5),1<=n?e=n/o:n=e*o):(o=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=o),1!==e&&(e/=o)):(n=void 0===this.options.interval?0:this.options.interval,e=1),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>n&&(n=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?e/Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?n*Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/t/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=a,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>a?2:3)){for(t=Math.floor(this.viewportMinimum/b+.5)*b;t<this.viewportMinimum;)t+=b;this.equidistantInterval=!1,this.intervalStartPosition=t,this.interval=b}else this.options.interval||(b=Math.ceil(this.interval),this.range>this.interval&&(this.interval=b,e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=e;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(t=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(t)&&isFinite(t)||(t=2),2<t))for(o=0;o<t-2;o++)this.valueFormatString+="#"},N.generateValueFormatString=function(a,t){var b="#,##0.",e=t;1>a&&(e+=Math.floor(Math.abs(Math.log(a)/Math.LN10)),isNaN(e)||!isFinite(e))&&(e=t);for(var n=0;n<e;n++)b+="#";return b},N.getNiceExponent=function(a,t){var b=Math.floor(Math.log(a)/Math.LN10),e=a/Math.pow(10,b);e=0>b?1>=e?1:5>=e?5:10:Math.max(Math.floor(e),1);return Number(-20>b?e*Math.pow(10,b):(e*Math.pow(10,b)).toFixed(20))},N.getNiceNumber=function(a,t){var b=Math.floor(Math.log(a)/Math.LN10),e=a/Math.pow(10,b);e=t?1.5>e?1:3>e?2:7>e?5:10:1>=e?1:2>=e?2:5>=e?5:10;return Number(-20>b?e*Math.pow(10,b):(e*Math.pow(10,b)).toFixed(20))},N.prototype.getLabelStartPoint=function(){var a=lt[this.intervalType+"Duration"]*this.interval;a=new Date(Math.floor(this.viewportMinimum/a)*a);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+1),a.setMilliseconds(0)):"minute"===this.intervalType?(0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)):"hour"===this.intervalType?(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"day"===this.intervalType?(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"week"===this.intervalType?(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"month"===this.intervalType?(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"year"===this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),a},l(H,V),l(j,V),j.prototype.createUserOptions=function(a){if(void 0!==a||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent[this.optionsName]),t=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===a?{}:a,this.parent.options[this.optionsName][t]=this.options}},j.prototype.render=function(a){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var t=this.ctx,b=this.ctx.globalAlpha;this.ctx=a||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var g,e,n,o,l,p,r=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,y(this.id),a=Math.max(this.spacing,3);var q=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=q,this.ctx.setLineDash&&this.ctx.setLineDash(T(this.lineDashType,q)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(r=1==q%2?.5+(r.x<<0):r.x<<0,e=1==q%2?.5+(h.x<<0):h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,n=this.chart.plotArea.y2+q/2+.5<<0):(h=this.chart.plotArea.y2,n=this.chart.plotArea.y1-q/2+.5<<0,a*=-1),this.bounds={x1:r-q/2,y1:h,x2:e+q/2,y2:n},this.ctx.moveTo(r,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=a||"bottom"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(r,n),this.ctx.lineTo(e,n),this.ctx.lineTo(e,h);else if("wavy"===this.type){o=r,g=.5,p=(n-(l=h))/a/3;for(var d=0;d<p;d++)this.ctx.bezierCurveTo(o+g*a,l+a,o+g*a,l+2*a,o,l+3*a),l+=3*a,g*=-1;for(this.ctx.bezierCurveTo(o+g*a,l+a,o+g*a,l+2*a,o,l+3*a),o=e,g*=-1,this.ctx.lineTo(o,l),d=0;d<p;d++)this.ctx.bezierCurveTo(o+g*a,l-a,o+g*a,l-2*a,o,l-3*a),l-=3*a,g*=-1}else if("zigzag"===this.type){for(g=-1,o=r+a,p=(n-(l=h+a))/a/2,d=0;d<p;d++)this.ctx.lineTo(o,l),o+=2*g*a,l+=2*a,g*=-1;for(this.ctx.lineTo(o,l),o+=e-r,d=0;d<p+1;d++)this.ctx.lineTo(o,l),o+=2*g*a,l-=2*a,g*=-1;this.ctx.lineTo(o+g*a,l+a)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(h=1==q%2?.5+(h.y<<0):h.y<<0,n=1==q%2?.5+(r.y<<0):r.y<<0,"left"===this.scaleBreaks.parent._position?(r=this.chart.plotArea.x1,e=this.chart.plotArea.x2+q/2+.5<<0):(r=this.chart.plotArea.x2,e=this.chart.plotArea.x1-q/2+.5<<0,a*=-1),this.bounds={x1:r,y1:h-q/2,x2:e,y2:n+q/2},this.ctx.moveTo(r,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=a||"right"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(e,h),this.ctx.lineTo(e,n),this.ctx.lineTo(r,n);else if("wavy"===this.type){for(l=h,g=.5,p=(e-(o=r))/a/3,d=0;d<p;d++)this.ctx.bezierCurveTo(o+a,l+g*a,o+2*a,l+g*a,o+3*a,l),o+=3*a,g*=-1;for(this.ctx.bezierCurveTo(o+a,l+g*a,o+2*a,l+g*a,o+3*a,l),l=n,g*=-1,this.ctx.lineTo(o,l),d=0;d<p;d++)this.ctx.bezierCurveTo(o-a,l+g*a,o-2*a,l+g*a,o-3*a,l),o-=3*a,g*=-1}else if("zigzag"===this.type){for(g=1,l=h-a,p=(e-(o=r+a))/a/2,d=0;d<p;d++)this.ctx.lineTo(o,l),l+=2*g*a,o+=2*a,g*=-1;for(this.ctx.lineTo(o,l),l+=n-h,d=0;d<p+1;d++)this.ctx.lineTo(o,l),l+=2*g*a,o-=2*a,g*=-1;this.ctx.lineTo(o+a,l+g*a)}0<q&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=b,this.ctx=t}},l(U,V),U.prototype.createUserOptions=function(a){if(void 0!==a||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent.stripLines),t=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===a?{}:a,this.parent.options.stripLines[t]=this.options}},U.prototype.render=function(){this.ctx.save();var a=this.parent.getPixelCoordinatesOnAxis(this.value),t=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<t){var b=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var e,g,n,o,l=this.ctx.globalAlpha;this.ctx.globalAlpha=b,y(this.id),this.ctx.lineWidth=t,this.ctx.setLineDash&&this.ctx.setLineDash(T(this.lineDashType,t)),"bottom"===this.parent._position||"top"===this.parent._position?(e=g=1==this.ctx.lineWidth%2?.5+(a.x<<0):a.x<<0,n=this.chart.plotArea.y1,o=this.chart.plotArea.y2,this.bounds={x1:e-t/2,y1:n,x2:g+t/2,y2:o}):"left"!==this.parent._position&&"right"!==this.parent._position||(n=o=1==this.ctx.lineWidth%2?.5+(a.y<<0):a.y<<0,e=this.chart.plotArea.x1,g=this.chart.plotArea.x2,this.bounds={x1:e,y1:n-t/2,x2:g,y2:o+t/2}),this.ctx.moveTo(e,n),this.ctx.lineTo(g,o),this.ctx.stroke(),this.ctx.globalAlpha=l}this.ctx.restore()},l(Q,V),Q.prototype.render=function(a,t){var b,e,n,g,o=null,l=o=null,r="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var h=0;h="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0);this.valueFormatString=N.generateValueFormatString(this.parent.range,h)}l=null===this.opacity?1:this.opacity,h=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var p=this.chart.overlaidCanvasCtx,q=p.globalAlpha;if(p.globalAlpha=l,p.beginPath(),p.strokeStyle=this.color,p.lineWidth=h,p.save(),this.labelFontSize=u(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=u(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=u(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=u(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=u(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<h&&p.setLineDash&&p.setLineDash(T(this.lineDashType,h)),l=new W(p,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:r,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var d=0;o=[];if("xySwapped"===this.chart.plotInfo.axisPlacement){var c=null;"bottom"===this.parent._position||"top"===this.parent._position?d=this.parent.dataSeries[0].axisX.convertPixelToValue({y:t}):"left"!==this.parent._position&&"right"!==this.parent._position||(d=this.parent.convertPixelToValue({y:t}));for(var x=0;x<this.parent.dataSeries.length;x++)(c=this.parent.dataSeries[x].getDataPointAtX(d,!0))&&0<=c.index&&(c.dataSeries=this.parent.dataSeries[x],null!==c.dataPoint.y&&o.push(c));if(c=null,0===o.length)return;if(o.sort((function(a,b){return a.distance-b.distance})),c=Math.abs(a-this.parent.convertValueToPixel(o[0].dataPoint.y)),x=0,"rangeBar"===o[0].dataSeries.type||"error"===o[0].dataSeries.type){c=Math.abs(a-this.parent.convertValueToPixel(o[x].dataPoint.y[0]));var m=0;for(d=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(a-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else(m=Math.abs(a-this.parent.convertValueToPixel(o[d].dataPoint.y)))<c&&(c=m,x=d)}else if("stackedBar"===o[0].dataSeries.type){c=Math.abs(a-this.parent.convertValueToPixel(o[0].dataPoint.y));var y=m=0;for(d=x=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(a-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else y+=o[d].dataPoint.y,(m=Math.abs(a-this.parent.convertValueToPixel(y)))<c&&(c=m,x=d)}else if("stackedBar100"===o[0].dataSeries.type){c=Math.abs(a-this.parent.convertValueToPixel(o[0].dataPoint.y));var v=y=m=0;for(d=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(a-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else y+=o[d].dataPoint.y,v=o[d].dataPoint.x.getTime?o[d].dataPoint.x.getTime():o[d].dataPoint.x,v=y/o[d].dataSeries.plotUnit.dataPointYSums[v]*100,(m=Math.abs(a-this.parent.convertValueToPixel(v)))<c&&(c=m,x=d)}else for(c=Math.abs(a-this.parent.convertValueToPixel(o[0].dataPoint.y)),d=x=m=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(a-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else(m=Math.abs(a-this.parent.convertValueToPixel(o[d].dataPoint.y)))<c&&(c=m,x=d);if(r=o[x],"bottom"===this.parent._position||"top"===this.parent._position){if(b=0,"rangeBar"===this.parent.dataSeries[x].type||"error"===this.parent.dataSeries[x].type){for(c=Math.abs(a-this.parent.convertValueToPixel(r.dataPoint.y[0])),d=m=0;d<r.dataPoint.y.length;d++)(m=Math.abs(a-this.parent.convertValueToPixel(r.dataPoint.y[d])))<c&&(c=m,b=d);o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(r.dataPoint.y[b])<<0):this.parent.convertValueToPixel(r.dataPoint.y[b])<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.y[b]}):u(this.options.label)?mt(r.dataPoint.y[b],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[x].type){for(c=Math.abs(a-this.parent.convertValueToPixel(o[0].dataPoint.y)),y=m=0,d=x;0<=d;d--)y+=o[d].dataPoint.y,(m=Math.abs(a-this.parent.convertValueToPixel(y)))<c&&(c=m,b=d);o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.y}):u(this.options.label)?mt(r.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[x].type){for(c=Math.abs(a-this.parent.convertValueToPixel(o[0].dataPoint.y)),v=y=m=0,d=x;0<=d;d--)y+=o[d].dataPoint.y,v=o[d].dataPoint.x.getTime?o[d].dataPoint.x.getTime():o[d].dataPoint.x,v=y/o[d].dataSeries.plotUnit.dataPointYSums[v]*100,(m=Math.abs(a-this.parent.convertValueToPixel(v)))<c&&(c=m,b=d);o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:v}):u(this.options.label)?mt(v,this.valueFormatString,this.chart._cultureInfo):this.label}else o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(r.dataPoint.y)<<0):this.parent.convertValueToPixel(r.dataPoint.y)<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.y}):u(this.options.label)?mt(r.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;b=e=o,n=this.chart.plotArea.y1,g=this.chart.plotArea.y2,this.bounds={x1:b-h/2,y1:n,x2:e+h/2,y2:g},l.x=b-l.measureText().width/2,l.x+l.width>this.chart.bounds.x2?l.x=this.chart.bounds.x2-l.width:l.x<this.chart.bounds.x1&&(l.x=this.chart.bounds.x1),l.y=this.parent.lineCoordinates.y2+l.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(n=g=o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(r.dataPoint.x)<<0):this.parent.convertValueToPixel(r.dataPoint.x)<<0,b=this.chart.plotArea.x1,e=this.chart.plotArea.x2,this.bounds={x1:b,y1:n-h/2,x2:e,y2:g+h/2},v=!1,this.parent.labels)for(o=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=o){if(!this.parent.labels[d]){v=!1;break}v=!0}if(v){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({y:t}),c=null,x=0;x<this.parent.dataSeries.length;x++)(c=this.parent.dataSeries[x].getDataPointAtX(d,!0))&&0<=c.index&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.x}):u(this.options.label)?c.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.x}):u(this.options.label)?ut(r.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.x}):u(this.options.label)?mt(r.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);l.y=g+l.fontSize/2-l.measureText().height/2+2,l.y-l.fontSize/2<this.chart.bounds.y1?l.y=this.chart.bounds.y1+l.fontSize/2+2:l.y+l.measureText().height-l.fontSize/2>this.chart.bounds.y2&&(l.y=this.chart.bounds.y2-l.measureText().height+l.fontSize/2),"left"===this.parent._position?l.x=this.parent.lineCoordinates.x2-l.measureText().width:"right"===this.parent._position&&(l.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(d=this.parent.convertPixelToValue({x:a}),x=0;x<this.parent.dataSeries.length;x++)(c=this.parent.dataSeries[x].getDataPointAtX(d,!0))&&0<=c.index&&(c.dataSeries=this.parent.dataSeries[x],null!==c.dataPoint.y&&o.push(c));if(0===o.length)return;if(o.sort((function(a,b){return a.distance-b.distance})),r=o[0],b=e=o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(r.dataPoint.x)<<0):this.parent.convertValueToPixel(r.dataPoint.x)<<0,n=this.chart.plotArea.y1,g=this.chart.plotArea.y2,this.bounds={x1:b-h/2,y1:n,x2:e+h/2,y2:g},v=!1,this.parent.labels)for(o=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=o){if(!this.parent.labels[d]){v=!1;break}v=!0}if(v){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({x:a}),c=null,x=0;x<this.parent.dataSeries.length;x++)(c=this.parent.dataSeries[x].getDataPointAtX(d,!0))&&0<=c.index&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.x}):u(this.options.label)?c.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.x}):u(this.options.label)?ut(r.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.x}):u(this.options.label)?mt(r.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);l.x=b-l.measureText().width/2,l.x+l.width>this.chart.bounds.x2&&(l.x=this.chart.bounds.x2-l.width),l.x<this.chart.bounds.x1&&(l.x=this.chart.bounds.x1),"bottom"===this.parent._position?l.y=this.parent.lineCoordinates.y2+l.fontSize/2+2:"top"===this.parent._position&&(l.y=this.parent.lineCoordinates.y1-l.height+l.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!u(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(d=this.parent.dataSeries[0].axisX.convertPixelToValue({x:a})),x=0;x<this.parent.dataSeries.length;x++)(c=this.parent.dataSeries[x].getDataPointAtX(d,!0))&&0<=c.index&&(c.dataSeries=this.parent.dataSeries[x],null!==c.dataPoint.y&&o.push(c));if(0===o.length)return;if(o.sort((function(a,b){return a.distance-b.distance})),x=0,"rangeColumn"===o[0].dataSeries.type||"rangeArea"===o[0].dataSeries.type||"error"===o[0].dataSeries.type||"rangeSplineArea"===o[0].dataSeries.type||"candlestick"===o[0].dataSeries.type||"ohlc"===o[0].dataSeries.type||"boxAndWhisker"===o[0].dataSeries.type)for(c=Math.abs(t-this.parent.convertValueToPixel(o[0].dataPoint.y[0])),d=m=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(t-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else(m=Math.abs(t-this.parent.convertValueToPixel(o[d].dataPoint.y)))<c&&(c=m,x=d);else if("stackedColumn"===o[0].dataSeries.type||"stackedArea"===o[0].dataSeries.type)for(c=Math.abs(t-this.parent.convertValueToPixel(o[0].dataPoint.y)),d=y=m=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(t-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else y+=o[d].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(y)))<c&&(c=m,x=d);else if("stackedColumn100"===o[0].dataSeries.type||"stackedArea100"===o[0].dataSeries.type)for(c=Math.abs(t-this.parent.convertValueToPixel(o[0].dataPoint.y)),d=v=y=m=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(t-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else y+=o[d].dataPoint.y,v=o[d].dataPoint.x.getTime?o[d].dataPoint.x.getTime():o[d].dataPoint.x,v=y/o[d].dataSeries.plotUnit.dataPointYSums[v]*100,(m=Math.abs(t-this.parent.convertValueToPixel(v)))<c&&(c=m,x=d);else for(c=Math.abs(t-this.parent.convertValueToPixel(o[0].dataPoint.y)),d=m=0;d<o.length;d++)if(o[d].dataPoint.y&&o[d].dataPoint.y.length)for(r=0;r<o[d].dataPoint.y.length;r++)(m=Math.abs(t-this.parent.convertValueToPixel(o[d].dataPoint.y[r])))<c&&(c=m,x=d);else(m=Math.abs(t-this.parent.convertValueToPixel(o[d].dataPoint.y)))<c&&(c=m,x=d);if(r=o[x],b=0,"rangeColumn"===this.parent.dataSeries[x].type||"rangeArea"===this.parent.dataSeries[x].type||"error"===this.parent.dataSeries[x].type||"rangeSplineArea"===this.parent.dataSeries[x].type||"candlestick"===this.parent.dataSeries[x].type||"ohlc"===this.parent.dataSeries[x].type||"boxAndWhisker"===this.parent.dataSeries[x].type){for(c=Math.abs(t-this.parent.convertValueToPixel(r.dataPoint.y[0])),d=m=0;d<r.dataPoint.y.length;d++)(m=Math.abs(t-this.parent.convertValueToPixel(r.dataPoint.y[d])))<c&&(c=m,b=d);o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(r.dataPoint.y[b])<<0):this.parent.convertValueToPixel(r.dataPoint.y[b])<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.y[b]}):u(this.options.label)?mt(r.dataPoint.y[b],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[x].type||"stackedArea"===this.parent.dataSeries[x].type){for(c=Math.abs(t-this.parent.convertValueToPixel(o[0].dataPoint.y)),y=m=0,d=x;0<=d;d--)y+=o[d].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(y)))<c&&(c=m,b=d);o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.y}):u(this.options.label)?mt(r.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[x].type||"stackedArea100"===this.parent.dataSeries[x].type){for(c=Math.abs(t-this.parent.convertValueToPixel(o[0].dataPoint.y)),y=m=0,d=x;0<=d;d--)y+=o[d].dataPoint.y,v=o[d].dataPoint.x.getTime?o[d].dataPoint.x.getTime():o[d].dataPoint.x,v=y/o[d].dataSeries.plotUnit.dataPointYSums[v]*100,(m=Math.abs(t-this.parent.convertValueToPixel(v)))<c&&(c=m,b=d);o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:v}):u(this.options.label)?mt(v,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[x].type?(o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(r.dataSeries.dataPointEOs[r.index].cumulativeSum)<<0):this.parent.convertValueToPixel(r.dataSeries.dataPointEOs[r.index].cumulativeSum)<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataSeries.dataPointEOs[r.index].cumulativeSum}):u(this.options.label)?mt(r.dataSeries.dataPointEOs[r.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(o=1==p.lineWidth%2?.5+(this.parent.convertValueToPixel(r.dataPoint.y)<<0):this.parent.convertValueToPixel(r.dataPoint.y)<<0,l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:r.dataPoint.y}):u(this.options.label)?mt(r.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);n=g=o,b=this.chart.plotArea.x1,e=this.chart.plotArea.x2,this.bounds={x1:b,y1:n-h/2,x2:e,y2:g+h/2},l.y=g+l.fontSize/2-l.measureText().height/2+2,l.y-l.fontSize/2<this.chart.bounds.y1?l.y=this.chart.bounds.y1+l.fontSize/2+2:l.y+l.measureText().height-l.fontSize/2>this.chart.bounds.y2&&(l.y=this.chart.bounds.y2-l.measureText().height+l.fontSize/2),"left"===this.parent._position?l.x=this.parent.lineCoordinates.x2-l.measureText().width:"right"===this.parent._position&&(l.x=this.parent.lineCoordinates.x2)}o=null,("bottom"===this.parent._position||"top"===this.parent._position)&&b>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&e<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<h&&(p.moveTo(b,n),p.lineTo(e,g),p.stroke()),p.restore(),!u(l.text)&&("number"==typeof l.text.valueOf()||0<l.text.length)&&l.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&g>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&n<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<h&&(p.moveTo(b,n),p.lineTo(e,g),p.stroke()),p.restore(),!u(l.text)&&("number"==typeof l.text.valueOf()||0<l.text.length)&&l.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(b=e=o=1==p.lineWidth%2?.5+(a<<0):a<<0,n=this.chart.plotArea.y1,g=this.chart.plotArea.y2,this.bounds={x1:b-h/2,y1:n,x2:e+h/2,y2:g}):"left"!==this.parent._position&&"right"!==this.parent._position||(n=g=o=1==p.lineWidth%2?.5+(t<<0):t<<0,b=this.chart.plotArea.x1,e=this.chart.plotArea.x2,this.bounds={x1:b,y1:n-h/2,x2:e,y2:g+h/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(v=!1,this.parent.labels)for(o=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=o){if(!this.parent.labels[d]){v=!1;break}v=!0}if(v){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({y:t}),c=null,x=0;x<this.parent.dataSeries.length;x++)(c=this.parent.dataSeries[x].getDataPointAtX(d,!0))&&0<=c.index&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(a)}):u(this.options.label)?c.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):u(this.options.label)?ut(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):u(this.options.label)?mt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);l.y=t+l.fontSize/2-l.measureText().height/2+2,l.y-l.fontSize/2<this.chart.bounds.y1?l.y=this.chart.bounds.y1+l.fontSize/2+2:l.y+l.measureText().height-l.fontSize/2>this.chart.bounds.y2&&(l.y=this.chart.bounds.y2-l.measureText().height+l.fontSize/2),"left"===this.parent._position?l.x=this.parent.lineCoordinates.x1-l.measureText().width:"right"===this.parent._position&&(l.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(a)}):u(this.options.label)?mt(this.parent.convertPixelToValue(a),this.valueFormatString,this.chart._cultureInfo):this.label,l.x=b-l.measureText().width/2,l.x+l.width>this.chart.bounds.x2&&(l.x=this.chart.bounds.x2-l.width),l.x<this.chart.bounds.x1&&(l.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(l.y=this.parent.lineCoordinates.y2+l.fontSize/2+2),"top"===this.parent._position&&(l.y=this.parent.lineCoordinates.y1-l.height+l.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(v=!1,r="",this.parent.labels)for(o=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=o){if(!this.parent.labels[d]){v=!1;break}v=!0}if(v){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({x:a}),c=null,x=0;x<this.parent.dataSeries.length;x++)(c=this.parent.dataSeries[x].getDataPointAtX(d,!0))&&0<=c.index&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(a)}):u(this.options.label)?c.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(a)}):u(this.options.label)?ut(this.parent.convertPixelToValue(a),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(a):""}):u(this.options.label)?mt(this.parent.convertPixelToValue(a),this.valueFormatString,this.chart._cultureInfo):this.label);l.x=b-l.measureText().width/2,l.x+l.width>this.chart.bounds.x2&&(l.x=this.chart.bounds.x2-l.width),l.x<this.chart.bounds.x1&&(l.x=this.chart.bounds.x1),"bottom"===this.parent._position?l.y=this.parent.lineCoordinates.y2+l.fontSize/2+2:"top"===this.parent._position&&(l.y=this.parent.lineCoordinates.y1-l.height+l.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(l.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):u(this.options.label)?mt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,l.y=t+l.fontSize/2-l.measureText().height/2+2,l.y-l.fontSize/2<this.chart.bounds.y1?l.y=this.chart.bounds.y1+l.fontSize/2+2:l.y+l.measureText().height-l.fontSize/2>this.chart.bounds.y2&&(l.y=this.chart.bounds.y2-l.measureText().height+l.fontSize/2),"left"===this.parent._position?l.x=this.parent.lineCoordinates.x2-l.measureText().width:"right"===this.parent._position&&(l.x=this.parent.lineCoordinates.x2));0<h&&(p.moveTo(b,n),p.lineTo(e,g),p.stroke()),p.restore(),!u(l.text)&&("number"==typeof l.text.valueOf()||0<l.text.length)&&l.render(!0)}p.globalAlpha=q},l(Z,V),Z.prototype._initialize=function(){var a;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",a='<div style=" width: auto;height: auto;min-width: 50px;',a+="line-height: auto;",a+="margin: 0px 0px 0px 0px;",a+="padding: 5px;",a+="font-family: Calibri, Arial, Georgia, serif;",a+="font-weight: normal;",a+="font-style: "+(J?"italic;":"normal;"),a+="font-size: 14px;",a+="color: #000000;",a+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",a+="text-align: left;",a+="border: 2px solid gray;",a+=J?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",a+="text-indent: 0px;",a+="white-space: nowrap;",a+="border-radius: 5px;",a+="-moz-user-select:none;",a+="-khtml-user-select: none;",a+="-webkit-user-select: none;",a+="-ms-user-select: none;",a+="user-select: none;",J||(a+="filter: alpha(opacity = 90);",a+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),a+='} "> Sample Tooltip</div>',this.container.innerHTML=a,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},Z.prototype.mouseMoveHandler=function(a,t){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(a,t))},Z.prototype._updateToolTip=function(a,t,b){if(b=void 0===b||b,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===a||void 0===t){if(isNaN(this._prevX)||isNaN(this._prevY))return;a=this._prevX,t=this._prevY}else this._prevX=a,this._prevY=t;var e=null,n=null,g=[],o=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var r=0;r<this.chart.axisX.length;r++){o=this.chart.axisX[r].convertPixelToValue({y:t});var h=null;for(e=0;e<this.chart.axisX[r].dataSeries.length;e++)(h=this.chart.axisX[r].dataSeries[e].getDataPointAtX(o,b))&&0<=h.index&&(h.dataSeries=this.chart.axisX[r].dataSeries[e],null!==h.dataPoint.y&&l.push(h));h=null}if(this.chart.axisX2)for(r=0;r<this.chart.axisX2.length;r++){for(o=this.chart.axisX2[r].convertPixelToValue({y:t}),h=null,e=0;e<this.chart.axisX2[r].dataSeries.length;e++)(h=this.chart.axisX2[r].dataSeries[e].getDataPointAtX(o,b))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[r].dataSeries[e],null!==h.dataPoint.y&&l.push(h));h=null}}else{if(l=[],this.chart.axisX)for(r=0;r<this.chart.axisX.length;r++)for(o=this.chart.axisX[r].convertPixelToValue({x:a}),h=null,e=0;e<this.chart.axisX[r].dataSeries.length;e++)(h=this.chart.axisX[r].dataSeries[e].getDataPointAtX(o,b))&&0<=h.index&&(h.dataSeries=this.chart.axisX[r].dataSeries[e],null!==h.dataPoint.y&&l.push(h));if(this.chart.axisX2)for(r=0;r<this.chart.axisX2.length;r++)for(o=this.chart.axisX2[r].convertPixelToValue({x:a}),h=null,e=0;e<this.chart.axisX2[r].dataSeries.length;e++)(h=this.chart.axisX2[r].dataSeries[e].getDataPointAtX(o,b))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[r].dataSeries[e],null!==h.dataPoint.y&&l.push(h))}if(0===l.length)return;for(l.sort((function(a,b){return a.distance-b.distance})),b=l[0],e=0;e<l.length;e++)l[e].dataPoint.x.valueOf()===b.dataPoint.x.valueOf()&&g.push(l[e]);l=null}else{if(h=this.chart.getDataPointAtXY(a,t,b))this.currentDataPointIndex=h.dataPointIndex,this.currentSeriesIndex=h.dataSeries.index;else if(J)if(0<(h=P(a,t,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[h]){if("legendItem"===(h=this.chart._eventManager.objectMap[h]).objectType)return;this.currentSeriesIndex=h.dataSeriesIndex,this.currentDataPointIndex=0<=h.dataPointIndex?h.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(n=this.chart.data[this.currentSeriesIndex],h={},0<=this.currentDataPointIndex)e=n.dataPoints[this.currentDataPointIndex],h.dataSeries=n,h.dataPoint=e,h.index=this.currentDataPointIndex,h.distance=Math.abs(e.x-o),"waterfall"===n.type&&(h.cumulativeSumYStartValue=n.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,h.cumulativeSum=n.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==n.type&&"stepLine"!==n.type&&"spline"!==n.type&&"area"!==n.type&&"stepArea"!==n.type&&"splineArea"!==n.type&&"stackedArea"!==n.type&&"stackedArea100"!==n.type&&"rangeArea"!==n.type&&"rangeSplineArea"!==n.type&&"candlestick"!==n.type&&"ohlc"!==n.type&&"boxAndWhisker"!==n.type)return;o=n.axisX.convertPixelToValue({x:a}),u(h=n.getDataPointAtX(o,b))||(h.dataSeries=n,this.currentDataPointIndex=h.index,e=h.dataPoint)}if(!u(h)&&!u(h.dataPoint)&&!u(h.dataPoint.y))if(h.dataSeries.axisY)if(0<h.dataPoint.y.length){for(e=b=0;e<h.dataPoint.y.length;e++)h.dataPoint.y[e]<h.dataSeries.axisY.viewportMinimum?b--:h.dataPoint.y[e]>h.dataSeries.axisY.viewportMaximum&&b++;b<h.dataPoint.y.length&&b>-h.dataPoint.y.length&&g.push(h)}else"column"===n.type||"bar"===n.type?0>h.dataPoint.y?0>h.dataSeries.axisY.viewportMinimum&&h.dataSeries.axisY.viewportMaximum>=h.dataPoint.y&&g.push(h):h.dataSeries.axisY.viewportMinimum<=h.dataPoint.y&&0<=h.dataSeries.axisY.viewportMaximum&&g.push(h):"bubble"===n.type?(b=this.chart._eventManager.objectMap[n.dataPointIds[h.index]].size/2,h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum-b&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum+b&&g.push(h)):"waterfall"===n.type?(b=0,h.cumulativeSumYStartValue<h.dataSeries.axisY.viewportMinimum?b--:h.cumulativeSumYStartValue>h.dataSeries.axisY.viewportMaximum&&b++,h.cumulativeSum<h.dataSeries.axisY.viewportMinimum?b--:h.cumulativeSum>h.dataSeries.axisY.viewportMaximum&&b++,2>b&&-2<b&&g.push(h)):(0<=h.dataSeries.type.indexOf("100")||"stackedColumn"===n.type||"stackedBar"===n.type||h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum)&&g.push(h);else g.push(h)}}if(0<g.length){if(this.highlightObjects(g),this.enabled)if(b="",null!==(b=this.getToolTipInnerHTML({entries:g}))){this.contentDiv.innerHTML=b,b=!1,"none"===this.container.style.display&&(b=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:J?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===g[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:g[0].dataPoint.color?g[0].dataPoint.color:0<g[0].dataPoint.y?g[0].dataSeries.risingColor:g[0].dataSeries.fallingColor:"error"===g[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:g[0].dataSeries.color?g[0].dataSeries.color:g[0].dataSeries._colorSet[n.index%g[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:g[0].dataPoint.color?g[0].dataPoint.color:g[0].dataSeries.color?g[0].dataSeries.color:g[0].dataSeries._colorSet[g[0].index%g[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:J?"italic":"normal"}catch(t){}"pie"===g[0].dataSeries.type||"doughnut"===g[0].dataSeries.type||"funnel"===g[0].dataSeries.type||"pyramid"===g[0].dataSeries.type||"bar"===g[0].dataSeries.type||"rangeBar"===g[0].dataSeries.type||"stackedBar"===g[0].dataSeries.type||"stackedBar100"===g[0].dataSeries.type?a=a-10-this.container.clientWidth:(a=g[0].dataSeries.axisX.convertValueToPixel(g[0].dataPoint.x)-this.container.clientWidth<<0,a-=10),0>a&&(a+=this.container.clientWidth+20),a+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(a=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(t=10-(t=1!==g.length||this.shared||"line"!==g[0].dataSeries.type&&"stepLine"!==g[0].dataSeries.type&&"spline"!==g[0].dataSeries.type&&"area"!==g[0].dataSeries.type&&"stepArea"!==g[0].dataSeries.type&&"splineArea"!==g[0].dataSeries.type?"bar"===g[0].dataSeries.type||"rangeBar"===g[0].dataSeries.type||"stackedBar"===g[0].dataSeries.type||"stackedBar100"===g[0].dataSeries.type?g[0].dataSeries.axisX.convertValueToPixel(g[0].dataPoint.x):t:g[0].dataSeries.axisY.convertValueToPixel(g[0].dataPoint.y)))+this.container.clientHeight+5&&(t-=t+this.container.clientHeight+5-0),this.fixMozTransitionDelay(a,t),!this.animationEnabled||b?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=a+"px",this.container.style.bottom=t+"px"}else this.hide(!1)}else this.hide()}},Z.prototype.highlightObjects=function(a){var t=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),t.clearRect(0,0,this.chart.width,this.chart.height),t.save();var b=this.chart.plotArea,e=0;for(t.beginPath(),t.rect(b.x1,b.y1,b.x2-b.x1,b.y2-b.y1),t.clip(),b=0;b<a.length;b++){var n=a[b];if((n=this.chart._eventManager.objectMap[n.dataSeries.dataPointIds[n.index]])&&n.objectType&&"dataPoint"===n.objectType){var g=(e=this.chart.data[n.dataSeriesIndex]).dataPoints[n.dataPointIndex],l=n.dataPointIndex;!1===g.highlightEnabled||!0!==e.highlightEnabled&&!0!==g.highlightEnabled||("line"===e.type||"stepLine"===e.type||"spline"===e.type||"scatter"===e.type||"area"===e.type||"stepArea"===e.type||"splineArea"===e.type||"stackedArea"===e.type||"stackedArea100"===e.type||"rangeArea"===e.type||"rangeSplineArea"===e.type?((g=e.getMarkerProperties(l,n.x1,n.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*g.size<<0,10),g.borderColor=g.borderColor||"#FFFFFF",g.borderThickness=g.borderThickness||Math.ceil(.1*g.size),nt.drawMarkers([g]),void 0!==n.y2&&((g=e.getMarkerProperties(l,n.x1,n.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*g.size<<0,10),g.borderColor=g.borderColor||"#FFFFFF",g.borderThickness=g.borderThickness||Math.ceil(.1*g.size),nt.drawMarkers([g]))):"bubble"===e.type?((g=e.getMarkerProperties(l,n.x1,n.y1,this.chart.overlaidCanvasCtx)).size=n.size,g.color="white",g.borderColor="white",t.globalAlpha=.3,nt.drawMarkers([g]),t.globalAlpha=1):"column"===e.type||"stackedColumn"===e.type||"stackedColumn100"===e.type||"bar"===e.type||"rangeBar"===e.type||"stackedBar"===e.type||"stackedBar100"===e.type||"rangeColumn"===e.type||"waterfall"===e.type?kt(t,n.x1,n.y1,n.x2,n.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===e.type||"doughnut"===e.type?it(t,n.center,n.radius,"white",e.type,n.startAngle,n.endAngle,.3,n.percentInnerRadius):"funnel"===e.type||"pyramid"===e.type?at(t,n.funnelSection,.3,"white"):"candlestick"===e.type?(t.globalAlpha=1,t.strokeStyle=n.color,t.lineWidth=2*n.borderThickness,e=0==t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(n.x3-e,Math.min(n.y2,n.y3)),t.lineTo(n.x3-e,Math.min(n.y1,n.y4)),t.stroke(),t.beginPath(),t.moveTo(n.x3-e,Math.max(n.y1,n.y4)),t.lineTo(n.x3-e,Math.max(n.y2,n.y3)),t.stroke(),kt(t,n.x1,Math.min(n.y1,n.y4),n.x2,Math.max(n.y1,n.y4),"transparent",2*n.borderThickness,n.color,!1,!1,!1,!1),t.globalAlpha=1):"ohlc"===e.type?(t.globalAlpha=1,t.strokeStyle=n.color,t.lineWidth=2*n.borderThickness,e=0==t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(n.x3-e,n.y2),t.lineTo(n.x3-e,n.y3),t.stroke(),t.beginPath(),t.moveTo(n.x3,n.y1),t.lineTo(n.x1,n.y1),t.stroke(),t.beginPath(),t.moveTo(n.x3,n.y4),t.lineTo(n.x2,n.y4),t.stroke(),t.globalAlpha=1):"boxAndWhisker"===e.type?(t.save(),t.globalAlpha=1,t.strokeStyle=n.stemColor,t.lineWidth=2*n.stemThickness,0<n.stemThickness&&(t.beginPath(),t.moveTo(n.x3,n.y2+n.borderThickness/2),t.lineTo(n.x3,n.y1+n.whiskerThickness/2),t.stroke(),t.beginPath(),t.moveTo(n.x3,n.y4-n.whiskerThickness/2),t.lineTo(n.x3,n.y3-n.borderThickness/2),t.stroke()),t.beginPath(),kt(t,n.x1-n.borderThickness/2,Math.max(n.y2+n.borderThickness/2,n.y3+n.borderThickness/2),n.x2+n.borderThickness/2,Math.min(n.y2-n.borderThickness/2,n.y3-n.borderThickness/2),"transparent",n.borderThickness,n.color,!1,!1,!1,!1),t.globalAlpha=1,t.strokeStyle=n.whiskerColor,t.lineWidth=2*n.whiskerThickness,0<n.whiskerThickness&&(t.beginPath(),t.moveTo(Math.floor(n.x3-n.whiskerLength/2),n.y4),t.lineTo(Math.ceil(n.x3+n.whiskerLength/2),n.y4),t.stroke(),t.beginPath(),t.moveTo(Math.floor(n.x3-n.whiskerLength/2),n.y1),t.lineTo(Math.ceil(n.x3+n.whiskerLength/2),n.y1),t.stroke()),t.globalAlpha=1,t.strokeStyle=n.lineColor,t.lineWidth=2*n.lineThickness,0<n.lineThickness&&(t.beginPath(),t.moveTo(n.x1,n.y5),t.lineTo(n.x2,n.y5),t.stroke()),t.restore(),t.globalAlpha=1):"error"===e.type&&o(t,n.x1,n.y1,n.x2,n.y2,"white",n.whiskerProperties,n.stemProperties,n.isXYSwapped,.3))}}t.restore(),t.globalAlpha=1,t.beginPath()},Z.prototype.getToolTipInnerHTML=function(a){a=a.entries;for(var t=null,b=null,e=null,n=0,g="",o=!0,l=0;l<a.length;l++)if(a[l].dataSeries.toolTipContent||a[l].dataPoint.toolTipContent){o=!1;break}if(o&&(this.content&&"function"==typeof this.content||this.contentFormatter))a={chart:this.chart,toolTip:this.options,entries:a},t=this.contentFormatter?this.contentFormatter(a):this.content(a);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var p=null,r="";for(l=0;l<a.length;l++)b=a[l].dataSeries,e=a[l].dataPoint,n=a[l].index,g="",0===l&&o&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?r+=void 0!==this.chart.axisX[0].labels[e.x]?this.chart.axisX[0].labels[e.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(r+=void 0!==this.chart.axisX2[0].labels[e.x]?this.chart.axisX2[0].labels[e.x]:"{x}"),r+="</br>",r=this.chart.replaceKeywordsWithValue(r,e,b,n)),null===e.toolTipContent||void 0===e.toolTipContent&&null===b.options.toolTipContent||("line"===b.type||"stepLine"===b.type||"spline"===b.type||"area"===b.type||"stepArea"===b.type||"splineArea"===b.type||"column"===b.type||"bar"===b.type||"scatter"===b.type||"stackedColumn"===b.type||"stackedColumn100"===b.type||"stackedBar"===b.type||"stackedBar100"===b.type||"stackedArea"===b.type||"stackedArea100"===b.type||"waterfall"===b.type?(this.chart.axisX&&1<this.chart.axisX.length&&(g+=p!=b.axisXIndex?b.axisX.title?b.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),g+=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",p=b.axisXIndex):"bubble"===b.type?(this.chart.axisX&&1<this.chart.axisX.length&&(g+=p!=b.axisXIndex?b.axisX.title?b.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),g+=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===b.type||"rangeBar"===b.type||"rangeArea"===b.type||"rangeSplineArea"===b.type||"error"===b.type?(this.chart.axisX&&1<this.chart.axisX.length&&(g+=p!=b.axisXIndex?b.axisX.title?b.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),g+=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===b.type||"ohlc"===b.type?(this.chart.axisX&&1<this.chart.axisX.length&&(g+=p!=b.axisXIndex?b.axisX.title?b.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),g+=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===b.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(g+=p!=b.axisXIndex?b.axisX.title?b.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),g+=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),!0===this.reversed?(t=this.chart.replaceKeywordsWithValue(g,e,b,n)+t,l<a.length-1&&(t="</br>"+t)):(t+=this.chart.replaceKeywordsWithValue(g,e,b,n),l<a.length-1&&(t+="</br>")));null!==t&&(t=r+t)}else{if(b=a[0].dataSeries,e=a[0].dataPoint,n=a[0].index,null===e.toolTipContent||void 0===e.toolTipContent&&null===b.options.toolTipContent)return null;"line"===b.type||"stepLine"===b.type||"spline"===b.type||"area"===b.type||"stepArea"===b.type||"splineArea"===b.type||"column"===b.type||"bar"===b.type||"scatter"===b.type||"stackedColumn"===b.type||"stackedColumn100"===b.type||"stackedBar"===b.type||"stackedBar100"===b.type||"stackedArea"===b.type||"stackedArea100"===b.type||"waterfall"===b.type?g=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===b.type?g=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===b.type||"doughnut"===b.type||"funnel"===b.type||"pyramid"===b.type?g=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(e.name?"{name}:</span>&nbsp;&nbsp;":e.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===b.type||"rangeBar"===b.type||"rangeArea"===b.type||"rangeSplineArea"===b.type||"error"===b.type?g=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(e.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===b.type||"ohlc"===b.type?g=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(e.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===b.type&&(g=e.toolTipContent?e.toolTipContent:b.toolTipContent?b.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(e.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),t+=this.chart.replaceKeywordsWithValue(g,e,b,n)}return t},Z.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var a=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=a,this.container.style.MsTransition=a,this.container.style.transition=a,this.container.style.MozTransition=this.mozContainerTransition}},Z.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Z.prototype.hide=function(a){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===a||a)&&this.chart.resetOverlayedCanvas())},Z.prototype.show=function(a,t,b){this._updateToolTip(a,t,void 0!==b&&b)},Z.prototype.fixMozTransitionDelay=function(a,t){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var b=parseFloat(this.container.style.left),e=(b=isNaN(b)?0:b,parseFloat(this.container.style.bottom));e=isNaN(e)?0:e;10<Math.sqrt(Math.pow(b-a,2)+Math.pow(e-t,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},Z.prototype.getContainerTransition=function(a){return"left "+a+"s ease-out 0s, bottom "+a+"s ease-out 0s"},$.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],J&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},$.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},$.prototype.mouseEventHandler=function(a){if("mousemove"===a.type||"click"===a.type){var t=[],b=gt(a),e=null;if((e=this.chart.getObjectAtXY(b.x,b.y,!1))&&void 0!==this.objectMap[e])if("dataPoint"===(e=this.objectMap[e]).objectType){var n=this.chart.data[e.dataSeriesIndex],g=n.dataPoints[e.dataPointIndex],o=e.dataPointIndex;e.eventParameter={x:b.x,y:b.y,dataPoint:g,dataSeries:n.options,dataPointIndex:o,dataSeriesIndex:n.index,chart:this.chart},e.eventContext={context:g,userContext:g,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(e),(e=this.objectMap[n.id]).eventParameter={x:b.x,y:b.y,dataPoint:g,dataSeries:n.options,dataPointIndex:o,dataSeriesIndex:n.index,chart:this.chart},e.eventContext={context:n,userContext:n.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(this.objectMap[n.id])}else"legendItem"===e.objectType&&(n=this.chart.data[e.dataSeriesIndex],g=null!==e.dataPointIndex?n.dataPoints[e.dataPointIndex]:null,e.eventParameter={x:b.x,y:b.y,dataSeries:n.options,dataPoint:g,dataPointIndex:e.dataPointIndex,dataSeriesIndex:e.dataSeriesIndex,chart:this.chart},e.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},t.push(e));for(n=[],b=0;b<this.mouseoveredObjectMaps.length;b++){for(g=!0,e=0;e<t.length;e++)if(t[e].id===this.mouseoveredObjectMaps[b].id){g=!1;break}g?this.fireEvent(this.mouseoveredObjectMaps[b],"mouseout",a):n.push(this.mouseoveredObjectMaps[b])}for(this.mouseoveredObjectMaps=n,b=0;b<t.length;b++){for(n=!1,e=0;e<this.mouseoveredObjectMaps.length;e++)if(t[b].id===this.mouseoveredObjectMaps[e].id){n=!0;break}n||(this.fireEvent(t[b],"mouseover",a),this.mouseoveredObjectMaps.push(t[b])),"click"===a.type?this.fireEvent(t[b],"click",a):"mousemove"===a.type&&this.fireEvent(t[b],"mousemove",a)}}},$.prototype.fireEvent=function(a,t,b){if(a&&t){var e=a.eventParameter,n=a.eventContext,g=a.eventContext.userContext;g&&n&&g[n[t]]&&g[n[t]].call(g,e),"mouseout"!==t?g.cursor&&g.cursor!==b.target.style.cursor&&(b.target.style.cursor=g.cursor):(b.target.style.cursor=this.chart._defaultCursor,delete a.eventParameter,delete a.eventContext),"click"===t&&"dataPoint"===a.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],e),"click"===t&&"dataPoint"===a.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[a.dataSeriesIndex],e)}},tt.prototype.animate=function(a,t,b,e,n){var g=this;for(this.chart.isAnimating=!0,n=n||st.easing.linear,b&&this.animations.push({startTime:(new Date).getTime()+(a||0),duration:t,animationCallback:b,onComplete:e}),a=[];0<this.animations.length;)t=this.animations.shift(),b=(new Date).getTime(),e=0,t.startTime<=b&&(e=n(Math.min(b-t.startTime,t.duration),0,1,t.duration),e=Math.min(e,1),isNaN(e)||!isFinite(e))&&(e=1),1>e&&a.push(t),t.animationCallback(e),1<=e&&t.onComplete&&t.onComplete();this.animations=a,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){g.animate.call(g)})):this.chart.isAnimating=!1},tt.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var st={yScaleAnimation:function(a,t){if(0!==a){var b=t.dest,e=t.source.canvas,n=t.animationBase;b.drawImage(e,0,0,e.width,e.height,0,n-n*a,b.canvas.width/ft,a*b.canvas.height/ft)}},xScaleAnimation:function(a,t){if(0!==a){var b=t.dest,e=t.source.canvas,n=t.animationBase;b.drawImage(e,0,0,e.width,e.height,n-n*a,0,a*b.canvas.width/ft,b.canvas.height/ft)}},xClipAnimation:function(a,t){if(0!==a){var b=t.dest,e=t.source.canvas;b.save(),0<a&&b.drawImage(e,0,0,e.width*a,e.height,0,0,e.width*a/ft,e.height/ft),b.restore()}},fadeInAnimation:function(a,t){if(0!==a){var b=t.dest,e=t.source.canvas;b.save(),b.globalAlpha=a,b.drawImage(e,0,0,e.width,e.height,0,0,b.canvas.width/ft,b.canvas.height/ft),b.restore()}},easing:{linear:function(a,t,b,e){return b*a/e+t},easeOutQuad:function(a,t,b,e){return-b*(a/=e)*(a-2)+t},easeOutQuart:function(a,t,b,e){return-b*((a=a/e-1)*a*a*a-1)+t},easeInQuad:function(a,t,b,e){return b*(a/=e)*a+t},easeInQuart:function(a,t,b,e){return b*(a/=e)*a*a*a+t}}},nt={drawMarker:function(a,t,b,e,n,g,o,l){if(b){var p=1;b.fillStyle=g||"#000000",b.strokeStyle=o||"#000000",b.lineWidth=l||0,b.setLineDash&&b.setLineDash(T("solid",l)),"circle"===e?(b.moveTo(a,t),b.beginPath(),b.arc(a,t,n/2,0,2*Math.PI,!1),g&&b.fill(),l&&(o?b.stroke():(p=b.globalAlpha,b.globalAlpha=.15,b.strokeStyle="black",b.stroke(),b.globalAlpha=p))):"square"===e?(b.beginPath(),b.rect(a-n/2,t-n/2,n,n),g&&b.fill(),l&&(o?b.stroke():(p=b.globalAlpha,b.globalAlpha=.15,b.strokeStyle="black",b.stroke(),b.globalAlpha=p))):"triangle"===e?(b.beginPath(),b.moveTo(a-n/2,t+n/2),b.lineTo(a+n/2,t+n/2),b.lineTo(a,t-n/2),b.closePath(),g&&b.fill(),l&&(o?b.stroke():(p=b.globalAlpha,b.globalAlpha=.15,b.strokeStyle="black",b.stroke(),b.globalAlpha=p)),b.beginPath()):"cross"===e&&(b.strokeStyle=g,b.lineWidth=n/4,b.beginPath(),b.moveTo(a-n/2,t-n/2),b.lineTo(a+n/2,t+n/2),b.stroke(),b.moveTo(a+n/2,t-n/2),b.lineTo(a-n/2,t+n/2),b.stroke())}},drawMarkers:function(a){for(var t=0;t<a.length;t++){var b=a[t];nt.drawMarker(b.x,b.y,b.ctx,b.type,b.size,b.color,b.borderColor,b.borderThickness)}}};return p}(),Ct.Chart.version="v2.3.2 GA"}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new y(this))}function e(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),a.styleSheets.ex_canvas_||((a=a.createStyleSheet()).owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function o(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect(),b.style.width=b.attributes.width.nodeValue+"px",b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+"px"}}function l(a){(a=a.srcElement).firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function r(a,b){for(var t=[[1,0,0],[0,1,0],[0,0,1]],g=0;3>g;g++)for(var e=0;3>e;e++){for(var n=0,o=0;3>o;o++)n+=a[g][o]*b[o][e];t[g][e]=n}return t}function h(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_,b.lineScale_=a.lineScale_}function d(a){var b=a.indexOf("(",3),t=a.indexOf(")",b+1);return 4==(b=a.substring(b+1,t).split(",")).length&&"a"==a.charAt(3)||(b[3]=1),b}function c(a,b,t){return Math.min(t,Math.max(b,a))}function x(a,b,t){return 0>t&&t++,1<t&&t--,1>6*t?a+6*(b-a)*t:1>2*t?b:2>3*t?a+6*(b-a)*(2/3-t):a}function m(a){if(a in Y)return Y[a];var b,t=1;if("#"==(a=String(a)).charAt(0))b=a;else if(/^rgb/.test(a)){t=d(a),b="#";for(var g,e=0;3>e;e++)g=-1!=t[e].indexOf("%")?Math.floor(parseFloat(t[e])/100*255):+t[e],b+=D[c(g,0,255)];t=+t[3]}else if(/^hsl/.test(a)){if(e=t=d(a),0>(b=parseFloat(e[0])/360%360)&&b++,g=c(parseFloat(e[1])/100,0,1),e=c(parseFloat(e[2])/100,0,1),0==g)g=e=b=e;else{var n=.5>e?e*(1+g):e+g-e*g,o=2*e-n;g=x(o,n,b+1/3),e=x(o,n,b),b=x(o,n,b-1/3)}b="#"+D[Math.floor(255*g)]+D[Math.floor(255*e)]+D[Math.floor(255*b)],t=t[3]}else b=X[a]||a;return Y[a]={color:b,alpha:t}}function y(a){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*q,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",t=a.ownerDocument.createElement("div");t.style.cssText=b,a.appendChild(t),(b=t.cloneNode(!1)).style.backgroundColor="red",b.style.filter="alpha(opacity=0)",a.appendChild(b),this.element_=t,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function v(a,b,t,g){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:t.x,cp2y:t.y,x:g.x,y:g.y}),a.currentX_=g.x,a.currentY_=g.y}function f(a,b){var g=(t=m(a.strokeStyle)).color,t=t.alpha*a.globalAlpha,e=a.lineScale_*a.lineWidth;1>e&&(t*=e),b.push("<g_vml_:stroke",' opacity="',t,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',O[a.lineCap]||"square",'"',' weight="',e,'px"',' color="',g,'" />')}function k(a,b,t,g){var e=a.fillStyle,n=a.arcScaleX_,o=a.arcScaleY_,l=g.x-t.x,r=g.y-t.y;if(e instanceof T){var h=0,d=g=0,u=0,c=1;if("gradient"==e.type_){h=e.x1_/n,t=e.y1_/o;var p=s(a,e.x0_/n,e.y0_/o);h=s(a,h,t);0>(h=180*Math.atan2(h.x-p.x,h.y-p.y)/Math.PI)&&(h+=360),1e-6>h&&(h=0)}else g=((p=s(a,e.x0_,e.y0_)).x-t.x)/l,d=(p.y-t.y)/r,l/=n*q,r/=o*q,c=C.max(l,r),u=2*e.r0_/c,c=2*e.r1_/c-u;(n=e.colors_).sort((function(a,b){return a.offset-b.offset})),o=n.length,p=n[0].color,t=n[o-1].color,l=n[0].alpha*a.globalAlpha,a=n[o-1].alpha*a.globalAlpha;r=[];for(var x=0;x<o;x++){var y=n[x];r.push(y.offset*c+u+" "+y.color)}b.push('<g_vml_:fill type="',e.type_,'"',' method="none" focus="100%"',' color="',p,'"',' color2="',t,'"',' colors="',r.join(","),'"',' opacity="',a,'"',' g_o_:opacity2="',l,'"',' angle="',h,'"',' focusposition="',g,",",d,'" />')}else e instanceof w?l&&r&&b.push("<g_vml_:fill",' position="',-t.x/l*n*n,",",-t.y/r*o*o,'"',' type="tile"',' src="',e.src_,'" />'):(e=m(a.fillStyle),b.push('<g_vml_:fill color="',e.color,'" opacity="',e.alpha*a.globalAlpha,'" />'))}function s(a,b,t){return a=a.m_,{x:q*(b*a[0][0]+t*a[1][0]+a[2][0])-L,y:q*(b*a[0][1]+t*a[1][1]+a[2][1])-L}}function M(a,b,t){isFinite(b[0][0])&&isFinite(b[0][1])&&isFinite(b[1][0])&&isFinite(b[1][1])&&isFinite(b[2][0])&&isFinite(b[2][1])&&(a.m_=b,t&&(a.lineScale_=F(B(b[0][0]*b[1][1]-b[0][1]*b[1][0]))))}function T(a){this.type_=a,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function w(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new P("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new P("INVALID_STATE_ERR");switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:throw new P("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function P(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var C=Math,S=C.round,_=C.sin,A=C.cos,B=C.abs,F=C.sqrt,q=10,L=q/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var I=Array.prototype.slice;n(document);var V={init:function(a){(a=a||document).createElement("canvas"),a.attachEvent("onreadystatechange",function(a,b,t){var g=I.call(arguments,2);return function(){return a.apply(b,g.concat(I.call(arguments)))}}(this.init_,this,a))},init_:function(a){a=a.getElementsByTagName("canvas");for(var b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(a){if(!a.getContext){a.getContext=t,n(a.ownerDocument),a.innerHTML="",a.attachEvent("onpropertychange",o),a.attachEvent("onresize",l);var b=a.attributes;b.width&&b.width.specified?a.style.width=b.width.nodeValue+"px":a.width=a.clientWidth,b.height&&b.height.specified?a.style.height=b.height.nodeValue+"px":a.height=a.clientHeight}return a}};V.init();for(var D=[],W=0;16>W;W++)for(var z=0;16>z;z++)D[16*W+z]=W.toString(16)+z.toString(16);var X={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},Y={},E={},O={butt:"flat",round:"round"};(W=y.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},W.beginPath=function(){this.currentPath_=[]},W.moveTo=function(a,b){var t=s(this,a,b);this.currentPath_.push({type:"moveTo",x:t.x,y:t.y}),this.currentX_=t.x,this.currentY_=t.y},W.lineTo=function(a,b){var t=s(this,a,b);this.currentPath_.push({type:"lineTo",x:t.x,y:t.y}),this.currentX_=t.x,this.currentY_=t.y},W.bezierCurveTo=function(a,b,t,g,e,n){e=s(this,e,n),v(this,a=s(this,a,b),t=s(this,t,g),e)},W.quadraticCurveTo=function(a,b,t,g){a=s(this,a,b),t=s(this,t,g),v(this,g={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)},{x:g.x+(t.x-this.currentX_)/3,y:g.y+(t.y-this.currentY_)/3},t)},W.arc=function(a,b,t,g,e,n){t*=q;var o=n?"at":"wa",l=a+A(g)*t-L,r=b+_(g)*t-L;g=a+A(e)*t-L,e=b+_(e)*t-L,l!=g||n||(l+=.125),a=s(this,a,b),l=s(this,l,r),g=s(this,g,e),this.currentPath_.push({type:o,x:a.x,y:a.y,radius:t,xStart:l.x,yStart:l.y,xEnd:g.x,yEnd:g.y})},W.rect=function(a,b,t,g){this.moveTo(a,b),this.lineTo(a+t,b),this.lineTo(a+t,b+g),this.lineTo(a,b+g),this.closePath()},W.strokeRect=function(a,b,t,g){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+t,b),this.lineTo(a+t,b+g),this.lineTo(a,b+g),this.closePath(),this.stroke(),this.currentPath_=e},W.fillRect=function(a,b,t,g){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+t,b),this.lineTo(a+t,b+g),this.lineTo(a,b+g),this.closePath(),this.fill(),this.currentPath_=e},W.createLinearGradient=function(a,b,t,g){var e=new T("gradient");return e.x0_=a,e.y0_=b,e.x1_=t,e.y1_=g,e},W.createRadialGradient=function(a,b,t,g,e,n){var o=new T("gradientradial");return o.x0_=a,o.y0_=b,o.r0_=t,o.x1_=g,o.y1_=e,o.r1_=n,o},W.drawImage=function(a,b){var t,g,e,n,o,l,r,h;e=a.runtimeStyle.width,n=a.runtimeStyle.height,a.runtimeStyle.width="auto",a.runtimeStyle.height="auto";var d=a.width,u=a.height;if(a.runtimeStyle.width=e,a.runtimeStyle.height=n,3==arguments.length)t=arguments[1],g=arguments[2],o=l=0,r=e=d,h=n=u;else if(5==arguments.length)t=arguments[1],g=arguments[2],e=arguments[3],n=arguments[4],o=l=0,r=d,h=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],l=arguments[2],r=arguments[3],h=arguments[4],t=arguments[5],g=arguments[6],e=arguments[7],n=arguments[8]}var c=s(this,t,g),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*q,",",10*q,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",S(c.x/q),",","Dy=",S(c.y/q),"");var m=s(this,t+e,g),y=s(this,t,g+n);t=s(this,t+e,g+n),c.x=C.max(c.x,m.x,y.x,t.x),c.y=C.max(c.y,m.y,y.y,t.y),p.push("padding:0 ",S(c.x/q),"px ",S(c.y/q),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else p.push("top:",S(c.y/q),"px;left:",S(c.x/q),"px;");p.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',q*e,"px;"," height:",q*n,'px"',' cropleft="',o/d,'"',' croptop="',l/u,'"',' cropright="',(d-o-r)/d,'"',' cropbottom="',(u-l-h)/u,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},W.stroke=function(a){var b=[];b.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*q,",",10*q,'"',' stroked="',!a,'"',' path="');for(var t={x:null,y:null},e={x:null,y:null},n=0;n<this.currentPath_.length;n++){var o=this.currentPath_[n];switch(o.type){case"moveTo":b.push(" m ",S(o.x),",",S(o.y));break;case"lineTo":b.push(" l ",S(o.x),",",S(o.y));break;case"close":b.push(" x "),o=null;break;case"bezierCurveTo":b.push(" c ",S(o.cp1x),",",S(o.cp1y),",",S(o.cp2x),",",S(o.cp2y),",",S(o.x),",",S(o.y));break;case"at":case"wa":b.push(" ",o.type," ",S(o.x-this.arcScaleX_*o.radius),",",S(o.y-this.arcScaleY_*o.radius)," ",S(o.x+this.arcScaleX_*o.radius),",",S(o.y+this.arcScaleY_*o.radius)," ",S(o.xStart),",",S(o.yStart)," ",S(o.xEnd),",",S(o.yEnd))}o&&((null==t.x||o.x<t.x)&&(t.x=o.x),(null==e.x||o.x>e.x)&&(e.x=o.x),(null==t.y||o.y<t.y)&&(t.y=o.y),(null==e.y||o.y>e.y)&&(e.y=o.y))}b.push(' ">'),a?k(this,b,t,e):f(this,b),b.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",b.join(""))},W.fill=function(){this.stroke(!0)},W.closePath=function(){this.currentPath_.push({type:"close"})},W.save=function(){var a={};h(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=r([[1,0,0],[0,1,0],[0,0,1]],this.m_)},W.restore=function(){this.aStack_.length&&(h(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},W.translate=function(a,b){M(this,r([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)},W.rotate=function(a){var b=A(a);M(this,r([[b,a=_(a),0],[-a,b,0],[0,0,1]],this.m_),!1)},W.scale=function(a,b){this.arcScaleX_*=a,this.arcScaleY_*=b,M(this,r([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)},W.transform=function(a,b,t,e,n,o){M(this,r([[a,b,0],[t,e,0],[n,o,1]],this.m_),!0)},W.setTransform=function(a,b,t,e,n,o){M(this,[[a,b,0],[t,e,0],[n,o,1]],!0)},W.drawText_=function(a,b,t,n,o){var l=this.m_;n=0;var r,h=1e3,d=0,c=[];if(r=this.font,E[r])r=E[r];else{var x=document.createElement("div").style;try{x.font=r}catch(t){}r=E[r]={style:x.fontStyle||"normal",variant:x.fontVariant||"normal",weight:x.fontWeight||"normal",size:x.fontSize||10,family:x.fontFamily||"sans-serif"}}x=r;var m=this.element_;for(var p in r={},x)r[p]=x[p];switch(p=parseFloat(m.currentStyle.fontSize),m=parseFloat(x.size),"number"==typeof x.size?r.size=x.size:-1!=x.size.indexOf("px")?r.size=m:-1!=x.size.indexOf("em")?r.size=p*m:-1!=x.size.indexOf("%")?r.size=p/100*m:-1!=x.size.indexOf("pt")?r.size=m/.75:r.size=p,r.size*=.981,p=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px "+r.family,m=this.element_.currentStyle,x=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":x="ltr"==m.direction?"right":"left";break;case"start":x="rtl"==m.direction?"right":"left";break;default:x="left"}switch(this.textBaseline){case"hanging":case"top":d=r.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":d=-r.size/2.25}switch(x){case"right":n=1e3,h=.05;break;case"center":n=h=500}b=s(this,b+0,t+d),c.push('<g_vml_:line from="',-n,' 0" to="',h,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">'),o?f(this,c):k(this,c,{x:-n,y:0},{x:h,y:r.size}),o=l[0][0].toFixed(3)+","+l[1][0].toFixed(3)+","+l[0][1].toFixed(3)+","+l[1][1].toFixed(3)+",0,0",b=S(b.x/q)+","+S(b.y/q),c.push('<g_vml_:skew on="t" matrix="',o,'" ',' offset="',b,'" origin="',n,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',e(a),'" style="v-text-align:',x,";font:",e(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},W.fillText=function(a,b,t,e){this.drawText_(a,b,t,e,!1)},W.strokeText=function(a,b,t,e){this.drawText_(a,b,t,e,!0)},W.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(b.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},W.clip=function(){},W.arcTo=function(){},W.createPattern=function(a,b){return new w(a,b)},T.prototype.addColorStop=function(a,b){b=m(b),this.colors_.push({offset:a,color:b.color,alpha:b.alpha})},(W=P.prototype=Error()).INDEX_SIZE_ERR=1,W.DOMSTRING_SIZE_ERR=2,W.HIERARCHY_REQUEST_ERR=3,W.WRONG_DOCUMENT_ERR=4,W.INVALID_CHARACTER_ERR=5,W.NO_DATA_ALLOWED_ERR=6,W.NO_MODIFICATION_ALLOWED_ERR=7,W.NOT_FOUND_ERR=8,W.NOT_SUPPORTED_ERR=9,W.INUSE_ATTRIBUTE_ERR=10,W.INVALID_STATE_ERR=11,W.SYNTAX_ERR=12,W.INVALID_MODIFICATION_ERR=13,W.NAMESPACE_ERR=14,W.INVALID_ACCESS_ERR=15,W.VALIDATION_ERR=16,W.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=V,CanvasRenderingContext2D=y,CanvasGradient=T,CanvasPattern=w,DOMException=P}()}).call(this,n(299)(t))},310:function(t,e){},311:function(t,e){},312:function(t,e,n){"use strict";var o=n(284);n.n(o).a},313:function(t,e,n){(t.exports=n(42)(!1)).push([t.i,".graph-editor[data-v-50b88b70]{-webkit-box-orient:horizontal;flex-direction:row;min-height:100vh}.graph-editor[data-v-50b88b70],.graph-editor .sidebar[data-v-50b88b70]{display:-webkit-box;display:flex;-webkit-box-direction:normal}.graph-editor .sidebar[data-v-50b88b70]{-webkit-box-orient:vertical;flex-direction:column;width:250px;max-height:100vh;border-right:1px solid #dcdcdc}.graph-editor .sidebar.right[data-v-50b88b70]{border-left:1px solid #dcdcdc;border-right:none}.graph-editor .sidebar>.title[data-v-50b88b70]{padding:20px;font-weight:500;border-bottom:1px solid #dcdcdc}.graph-editor .sidebar>.title>.icon[data-v-50b88b70]{margin-right:.7em}.graph-editor .sidebar>.section[data-v-50b88b70]{padding:20px 0;margin:0 20px;border-bottom:1px solid #dcdcdc}.graph-editor .sidebar>.section>.title[data-v-50b88b70]{color:grey}.graph-editor .sidebar>.section .control[data-v-50b88b70]{width:100%;margin-top:10px}.graph-editor .sidebar>.section .control[data-v-50b88b70]:first-child{margin-top:0}.graph-editor .sidebar>.section[data-v-50b88b70]:last-child{border-bottom:none}.graph-editor .sidebar>.list[data-v-50b88b70]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;overflow-y:auto;-webkit-box-flex:1;flex:1}.graph-editor .sidebar>.list>.item[data-v-50b88b70]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;padding:15px;cursor:pointer}.graph-editor .sidebar>.list>.item.invisible>.label[data-v-50b88b70]{text-decoration:line-through}.graph-editor .sidebar>.list>.item.invisible>.func>.eye[data-v-50b88b70]{opacity:.5}.graph-editor .sidebar>.list>.item>.label[data-v-50b88b70]{-webkit-box-flex:1;flex:1}.graph-editor .sidebar>.list>.item>.func[data-v-50b88b70]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;visibility:hidden}.graph-editor .sidebar>.list>.item>.func>.item[data-v-50b88b70]{font-size:1.2em;margin-left:15px;cursor:pointer}.graph-editor .sidebar>.list>.item.choose[data-v-50b88b70]{background-color:#ededed;color:#303030!important}.graph-editor .sidebar>.list>.item.choose>.func[data-v-50b88b70]{visibility:visible}.graph-editor .sidebar>.list>.item[data-v-50b88b70]:hover{color:#fff!important;background-color:#5b96cd}.graph-editor .sidebar>.list>.item:hover>.func[data-v-50b88b70]{visibility:visible}.graph-editor .chart-container[data-v-50b88b70]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;padding:20px}.graph-editor .chart-container>.tabs[data-v-50b88b70]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:center;justify-content:center}.graph-editor .chart-container>.tabs>.item[data-v-50b88b70]{margin-right:20px}",""])},316:function(t,e,n){"use strict";n.r(e);n(286),n(165),n(18),n(54);var o={parse:function(t,e){var n,i,o,l,r,h,d;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:n=[],i=0;case 2:if(!(i<e.length)){c.next=11;break}return o=e[i],c.next=6,regeneratorRuntime.awrap(this.parseFile(t,o.raw));case 6:l=c.sent,n.push(l);case 8:i++,c.next=2;break;case 11:for(r=[],i=0;i<n.length;i++)for(h=n[i],d=0;d<h.length;d++)r[d]||(r[d]=0),r[d]+=h[d];for(i=0;i<r.length;i++)r[i]=r[i]/n.length;return window.console.log("done"),c.abrupt("return",{graphs:n,middle:r});case 17:case"end":return c.stop()}}),null,this)},parseFile:function(t,e){var text,n,data,o,l,i,s,r,h,d;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return window.console.time("parse file"),c.next=3,regeneratorRuntime.awrap(this.readFileAsText(e));case 3:for(text=c.sent,n=text.split("\n"),data=[],(n=n.slice(10)).forEach((function(line,t){var e=line.trim().split(/\s+/);data.push(parseFloat(e[1]))})),window.console.timeEnd("parse file"),o=t,l=[],window.console.time("chuncking"),i=0;i<data.length/o;i++)s=Math.floor(o*i),(r=Math.floor(o*i+o))>=data.length&&(r=data.length-1),h=data.slice(s,r),d=h.reduce((function(a,b){return a+b}),h[0])/h.length,l.push(d);return window.console.timeEnd("chuncking"),c.abrupt("return",l);case 15:case"end":return c.stop()}}),null,this)},readFileAsText:function(t){var e;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(new Promise((function(e){var n=new FileReader;n.onload=function(t){return e(n.result)},n.readAsText(t)})));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}))}},l=n(297),r=n.n(l),h=(n(298),n(305)),d=n.n(h),c={head:function(){return{title:"Graph Viewer"}},methods:{setup:function(){var t=this,e=window.attachedFiles,n=this.$loading({lock:!0,text:"Ð˜Ð´ÐµÑ‚ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…...",background:"#ffffff"});o.parse(this.step,e).then((function(data){t.source=data,t.datasets=data.graphs.map((function(e,o){n.close();var l=t.getRandomColor();return{visible:!0,color:l,canvasjs:{type:"line",color:l,click:function(e){t.toggleVisibleGraph(o)},dataPoints:e.map((function(t,i){return{y:t,x:i}}))}}})),t.middleChart=new CanvasJS.Chart("middleChart",{zoomEnabled:!0,data:[]}),t.middleChart.render(),t.chart=new CanvasJS.Chart("chart",{zoomEnabled:!0,data:t.clearDatasets()}),t.chart.render()}))},getRandomColor:function(){for(var t="0123456789ABCDEF".split(""),e="#",i=0;i<6;i++)e+=t[Math.floor(16*Math.random())];return e},toggleVisibleGraph:function(t){this.datasets[t].visible=!this.datasets[t].visible},changeTab:function(){this.chart.render(),this.middleChart.render()},changeStep:function(){var t=this,e=this.previewStep;this.$confirm("Ð˜Ð·Ð¼Ð½ÐµÐ½Ð¸Ðµ ÑˆÐ°Ð³Ð° ÑƒÑÑ€ÐµÐ´Ð½ÐµÐ½Ð¸Ñ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¿ÐµÑ€ÐµÑ€Ð°ÑÑ‡ÐµÑ‚ Ð²ÑÐµÑ… Ð´Ð°Ð½Ð½Ñ‹Ñ…. Ð’Ñ‹ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑˆÐ°Ð³?","Ð’Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ",{confirmButtonText:"Ð”Ð°, Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",cancelButtonText:"ÐžÑ‚Ð¼ÐµÐ½Ð°",type:"warning"}).then((function(){t.step=e,t.setup()})).catch((function(){}))},removeGraph:function(t){var e=this;this.$confirm("Ð’Ñ‹ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ…Ð¾Ð¸Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð³Ñ€Ð°Ñ„Ð¸Ðº Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°?","Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ°",{confirmButtonText:"Ð”Ð°, ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ",cancelButtonText:"ÐžÑ‚Ð¼ÐµÐ½Ð°"}).then((function(){e.$delete(window.attachedFiles,t),e.$delete(e.datasets,t)})).catch((function(){}))},clearDatasets:function(){return this.datasets.filter((function(t){return t.visible})).map((function(t){return t.canvasjs}))},getMiddleDataset:function(){var t=this.clearDatasets(),e=[];return t.forEach((function(t){t.dataPoints.forEach((function(t,n){e[n]||(e[n]=0),e[n]+=t.y}))})),e.forEach((function(n,i){e[i]=e[i]/t.length})),{type:"line",dataPoints:e.map((function(t,i){return{y:t,x:i}}))}},createXLS:function(){var t=d.a.utils.book_new();t.Props={Title:"SheetJS Tutorial",Subject:"Test",Author:"Red Stapler",CreatedDate:new Date(2017,12,19)},t.SheetNames.push("Values");var e=this.getMiddleDataset().dataPoints.map((function(t){return[t.x,t.y]})),n=d.a.utils.aoa_to_sheet(e);t.Sheets.Values=n;var o=d.a.write(t,{bookType:"xlsx",type:"binary"});r.a.saveAs(new Blob([function(s){for(var t=new ArrayBuffer(s.length),view=new Uint8Array(t),i=0;i<s.length;i++)view[i]=255&s.charCodeAt(i);return t}(o)],{type:"application/octet-stream"}),"test.xlsx")}},mounted:function(){this.setup()},watch:{tab:function(){window.console.log("change tab")},datasets:{handler:function(){this.chart.options.data=this.clearDatasets(),this.chart.render();var t=this.getMiddleDataset();window.console.log(t),this.middleChart.options.data=[t],this.middleChart.render()},deep:!0}},data:function(){return{tab:"all",previewStep:10,step:10,chart:null,middleChart:null,labels:["label"],selected:-1,source:[],datasets:[]}}},x=(n(312),n(34)),component=Object(x.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"graph-editor"},[n("div",{staticClass:"sidebar"},[t._m(0),t._v(" "),n("div",{staticClass:"list"},t._l(t.datasets,(function(e,o){return n("div",{key:o,staticClass:"item",class:{choose:t.selected==o,invisible:!e.visible},style:{color:e.color},attrs:{id:"graph"+o}},[n("div",{staticClass:"label"},[t._v("\n                    "+t._s(o+1)+". "+t._s(e.color)+"\n                ")]),t._v(" "),n("div",{staticClass:"func"},[n("i",{staticClass:"item el-icon-view eye",on:{click:function(e){return t.toggleVisibleGraph(o)}}}),t._v(" "),n("i",{staticClass:"item el-icon-delete",on:{click:function(e){return t.removeGraph(o)}}})])])})),0)]),t._v(" "),n("div",{staticClass:"chart-container"},[n("div",{staticClass:"tabs"},[n("div",{staticClass:"item"},[n("el-radio-group",{staticStyle:{"margin-bottom":"30px"},on:{change:t.changeTab},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-radio-button",{attrs:{label:"all"}},[t._v("Ð’ÑÐµ Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ¸")]),t._v(" "),n("el-radio-button",{attrs:{label:"middle"}},[t._v("Ð£ÑÑ€ÐµÐ´Ð½Ñ‘Ð½Ð½Ñ‹Ð¹")])],1)],1)]),t._v(" "),n("div",{staticClass:"charts"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"all"==t.tab,expression:"tab == 'all'"}],attrs:{id:"chart"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"middle"==t.tab,expression:"tab == 'middle'"}],attrs:{id:"middleChart"}})])]),t._v(" "),n("div",{staticClass:"sidebar right"},[n("div",{staticClass:"section"},[n("el-button",{staticClass:"control",attrs:{type:"success",icon:"el-icon-download"},on:{click:t.createXLS}},[t._v("ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ XLS")])],1),t._v(" "),n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("\n                ÐŸÐ»Ð¾Ñ‚Ð½Ð¾ÑÑ‚ÑŒ ÑƒÑÑ€ÐµÐ´Ð½ÐµÐ½Ð¸Ñ\n            ")]),t._v(" "),n("el-input-number",{staticClass:"control",attrs:{"controls-position":"right",min:1},model:{value:t.previewStep,callback:function(e){t.previewStep=e},expression:"previewStep"}}),t._v(" "),n("el-button",{staticClass:"control",attrs:{disabled:t.previewStep==t.step},on:{click:t.changeStep}},[t._v("Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð»Ð¾Ñ‚Ð½Ð¾ÑÑ‚ÑŒ")])],1),t._v(" "),n("div",{staticClass:"section"},[n("nuxt-link",{staticClass:"control",attrs:{to:"/"}},[n("el-button",{staticClass:"control"},[t._v("Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð° Ð³Ð»Ð°Ð²Ð½ÑƒÑŽ")])],1)],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("i",{staticClass:"icon el-icon-tickets"}),this._v("Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð²ÑÐµÑ… Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ¾Ð²\n        ")])}],!1,null,"50b88b70",null);e.default=component.exports}}]);